<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <meta name="language" content="en">
    <link rel="canonical" href="https://datamb.football/plotteam/" />
<link rel="alternate" hreflang="x-default" href="https://datamb.football/plotteam"/>
<link rel="alternate" hreflang="en" href="https://datamb.football/plotteam/?lang=en" />
<link rel="alternate" hreflang="fr" href="https://datamb.football/plotteam/?lang=fr" />
    <link rel="shortcut icon" type="image/x-icon" href="https://datamb.football/favicon.ico">
    <meta name="description" data-i18n="meta.description" content="Plot Top 7 League team statistics. Visualize team performance and analyze multiple metrics such as Goals, Goals conceded, xG, Shots on target, Pressing, Defensive duels, Pass completion and more for teams in Premier League, La Liga, Bundesliga, Serie A, Ligue 1, Eredivisie, Primeira Liga.">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@DataMB_">
    <meta name="twitter:title" content="DataMB | Plot Teams">
    <meta name="twitter:description" content="Generate scatter plots for Top 7 League teams">
    <meta name="twitter:image" content="https://datamb.football/vignettes/teamplots.png">
    <meta property="og:image" content="https://datamb.football/vignettes/teamplots.png">
    <title data-i18n="meta.title">DataMB | Plot Teams</title>
    <script>
        (function() {
            var width = window.innerWidth;
            var viewportMeta = document.querySelector('meta[name="viewport"]');
            if (viewportMeta) {
      if (width < 645) {
                
            var initialScale = width / 645;
      viewportMeta.setAttribute('content', 'width=device-width, initial-scale=' + initialScale + ', user-scalable=no');
      } else {
                  var fixedScale = 1;
          viewportMeta.setAttribute('content', 'width=device-width, initial-scale=' + fixedScale + ', user-scalable=no');
      
        }
          } 
      })();
      </script>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --background-color: #f5f7fa;
            --container-bg: #ffffff;
            --text-color: #333333;
            --border-color: #e0e0e0;
            --hover-color: #f0f0f0;
            --button-color: #3498db;
            --button-text: #ffffff;
            --header-bg: #ffffff;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .dark-mode {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --background-color: #0e0f0f;
            --container-bg: #1a1a1a;
            --text-color: #e0e0e0;
            --border-color: #333333;
            --hover-color: #252525;
            --button-color: #2980b9;
            --button-text: #ffffff;
            --header-bg: #0e0f0f;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s;
        }

        .header {
            background-color: var(--header-bg);
            display: flex;
            padding: 20px;
            align-items: center;
            justify-content: space-between;
            box-shadow: var(--shadow);
            position: relative;
            font-family: system-ui;
            top: 0;
            z-index: 100;
        }


        .container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
            box-sizing: border-box;
        }

        /* Replace plot-container with a simpler structure */
        .chart-wrapper {
            background-color: var(--container-bg);
            border-radius: 10px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 30px;
            position: relative;
            width: 100%;
        }

        .legend {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            padding: 10px;
            border-top: 1px solid var(--border-color);
            width: 100%;
        }

        .legend-item {
            display: flex;
            align-items: center;
            font-size: 12px;
        }

        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 5px;
            border: 1px solid rgba(0, 0, 0, 0.2);
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 20px;
            justify-content: center;
            align-items: center;
        }

        select, input {
            padding: 8px 12px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            background-color: var(--container-bg);
            color: var(--text-color);
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            transition: border-color 0.2s;
            height: 36px;
            box-sizing: border-box;
        }

        select:focus, input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        /* Ensure consistent height for controls in the same row */
        select, input, .btn:not(.btn-icon), .custom-select-trigger, .metric-select-trigger {
            height: 36px;
            box-sizing: border-box;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            background-color: var(--button-color);
            color: var(--button-text);
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
            height: 36px;
            box-sizing: border-box;
        }

        .btn:hover {
            background-color: #2980b9;
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-color);
        }

        .btn-outline:hover {
            background-color: var(--hover-color);
        }

        .btn-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            padding: 0;
            border-radius: 6px;
        }

        #search-bar, #select-league {
            width: 178px;
        }

        #select-x, #select-y {
            width: 190px;
        }

        /* Add tooltip for icon buttons */
        .btn-icon .icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
        }

        .btn-icon i {
            font-size: 18px;
        }
        .chart-container {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            margin-top: 30px; /* Consistent spacing from controls */
        }

        #scatter-plot {
            width: 100%;
            height: auto; /* Height will be set dynamically */
            display: block;
            margin: 0 auto;
            max-width: 1082px;
        }
        
  

        .tooltip {
            position: absolute;
            background-color: var(--container-bg);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 10px;
            font-size: 12px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
            box-shadow: var(--shadow);
            z-index: 1000;
        }

        /* Custom button tooltips */
        .btn-tooltip {
            position: relative;
            display: inline-block;
        }

        .btn-tooltip .btn-tooltip-text {
            visibility: hidden;
            width: 120px;
            background-color: var(--container-bg);
            color: var(--text-color);
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1001;
            bottom: 125%;
            left: 50%;
            margin-left: -60px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 12px;
            font-weight: normal;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            pointer-events: none;
        }

        /* Hide button tooltips on mobile */
        @media (max-width: 768px) {
            .btn-tooltip .btn-tooltip-text {
                display: none;
            }
        }

        .btn-tooltip .btn-tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--border-color) transparent transparent transparent;
        }

        .btn-tooltip:hover .btn-tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        .player-name {
            font-size: 12px;
            font-weight: 500;
        }

        circle {
            cursor: pointer;
            transition: r 0.2s, fill 0.2s;
        }


        /* Add new styles for better search highlighting */
        circle.search-match {
            fill: #ff3366 !important; /* Bright pink fill */
            stroke: #ffffff;
            stroke-width: 2px;
            filter: drop-shadow(0 0 5px rgba(255, 51, 102, 0.7));
            animation: circlePulse 1.5s infinite ease-in-out;
        }

        .dark-mode circle.search-match {
            stroke: #000000;
        }

        @keyframes circlePulse {
            0% { r: 6; }
            50% { r: 9; }
            100% { r: 6; }
        }

        .team-label.search-match {
            font-weight: 700 !important;
            fill: #ff3366 !important;
            filter: drop-shadow(0 0 2px rgba(255, 255, 255, 1));
            opacity: 1 !important;
            animation: labelPulse 1.5s infinite ease-in-out;
        }

        @keyframes labelPulse {
            0% { font-size: 12px; }
            50% { font-size: 14px; }
            100% { font-size: 12px; }
        }

        .dark-mode .team-label.search-match {
            filter: drop-shadow(0 0 2px rgba(0, 0, 0, 1));
        }

        .team-label.search-dimmed {
            opacity: 0 !important;
        }

        .team-label {
            pointer-events: none;
            text-shadow: 0px 0px 2px white, 0px 0px 2px white, 0px 0px 2px white, 0px 0px 2px white;
        }

        .dark-mode .team-label {
            fill: #f5f5f5 !important;
            text-shadow: 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a;
        }

        .dark-mode-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--container-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--shadow);
            z-index: 100;
            transition: background-color 0.3s;
        }

        .dark-mode-toggle.mobile-only {
            position: fixed;
            bottom: 20px;
            right: 20px;
        }

        .dark-mode-toggle.pc-only {
            position: relative;
            bottom: auto;
            right: auto;
        }

        .pc-only {
            display: flex;
        }

        .mobile-only {
            display: none;
        }

        .toggle-icon::before {
            font-family: "Ionicons";
            content: "\f467";
            font-size: 30px;
            color: var(--text-color);
        }

        .dark-mode .toggle-icon::before {
            content: "\f3b0";
            font-size: 20px;
        }

        @media (max-width: 768px) {
            .pc-only {
                display: none;
            }
            
            .mobile-only {
                display: flex;
            }
  
            
  .chart-wrapper {
      padding: 15px;
  }
  
  
  /* Remove fixed height for scatter plot - now handled by updateChartDimensions */
  #scatter-plot {
      min-height: 500px; /* Minimum height for mobile */
  }
  
  select, input {
      width: 100%;
  }
  
  
  /* Make text elements more readable on mobile */
  .x-label, .y-label {
      font-size: 12px;
  }
  
  /* Adjust tooltip position for mobile */
  .tooltip {
      max-width: 80%;
  }
}

        /* Styles for the diagonal reference line */
        .dark-mode .xy-line {
            stroke: #3cb371; /* Slightly different green for dark mode */
        }




  body.dark-mode .header .button10 {
      color: #aeaeae;
}
body.dark-mode .header .button10:hover {
  color: #2563eb;
background-color: #ffffff;
}

    body.dark-mode header a {
      color: #aeaeae;
}

body.dark-mode .header .logo img {
  opacity: 0.88;
}


body.dark-mode .language-button {
      background-color: #0F0F0E;
      color: #aeaeae;
}


  

.header .logo {
  display: flex;
  align-items: center;
  margin-right: auto; /* Push logo to the left */
}

.header .logo img {
  height: 34px;
  width: auto;
  opacity: 0.84;
}
.header .logo-text {
  margin-left: 10px;
  font-size: 23px;
  font-weight: 600;
  transform: translateY(-1.1px); /* Move logo text slightly higher */
}

.header .navigation {
  display: flex;
  align-items: center;
  gap: 25px; /* Reduced gap between buttons */
  position: absolute;
  left: 50%;
  transform: translateX(-50%) translateY(-2px); /* Center the navigation and move it higher */
}



.header .button10 {
  padding: 0.5rem 1rem;
  text-decoration: none;
  color: #333;
  line-height: 1.6;
  border-radius: 4px;
  transition: background-color 0.2s;
  font-size: 1.1rem;  /* Added larger font size */
}


.header .button10:hover {
  background-color: #f0f0f0;
  color: #2563eb;

}



/* Group search and language buttons */
.header-right {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-left: auto; /* Push buttons to the right */
  transform: translateY(-1.25px); /* Move search and language buttons higher */
}

header a {
      color: black;
      text-decoration: none;
    }

.language-switcher-container {
  position: relative;
  display: inline-block;
}

.language-button {
  background: none;
  border: none;
  cursor: pointer;
  padding: 10px;
  color: #444444;
  display: flex;
  align-items: center;
  font-size: 17px;
}

.language-button iconify-icon {
  font-size: 24px;
  opacity: 0.7;
}

.language-dropdown {
  display: none;
  position: absolute;
  top: 100%;
  right: 0;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  padding: 10px;
  width: 200px;
  z-index: 1000;
}

.language-option {
  display: flex;
  align-items: center;
  padding: 8px 12px;
  cursor: pointer;
  border-radius: 4px;
  color: #444444;
  text-decoration: none;
}



.language-option iconify-icon {
  margin-right: 10px;
  font-size: 20px;
}

.language-dropdown.show {
  display: block;
}

/* Styles for flag icons in select dropdown */
#select-league option {
    display: flex;
    align-items: center;
    padding: 8px 12px;
}

#select-league iconify-icon {
    display: inline-flex;
    vertical-align: middle;
}

/* Styles for custom league selector dropdown */
.custom-select-container {
    position: relative;
    width: 172px;
}

.metric-select-container {
    position: relative;
    width: 192px;
}

.custom-select-option, .metric-select-option {
    display: flex;
    align-items: center;
    padding: 8px 16px;
    cursor: pointer;
    color: var(--text-color);
    background-color: var(--container-bg);
}


.custom-select-option iconify-icon, .metric-select-option iconify-icon {
    margin-right: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.custom-select-trigger, .metric-select-trigger {
    display: flex;
    align-items: center;
    padding: 0 12px;
    border: 1px solid var(--border-color);
    border-radius: 6px;
    background-color: var(--container-bg);
    color: var(--text-color);
    font-family: 'Inter', sans-serif;
    font-size: 14px;
    cursor: pointer;
    user-select: none;
    position: relative;
    line-height: 1;
}

.custom-select-trigger span, .metric-select-trigger span {
    display: inline-block;
    transform: translateY(1px);
    white-space: nowrap;
    overflow: hidden;
    max-width: calc(100% - 20px); /* Account for the icon width and margin */
    line-height: normal; /* Ensure consistent line height */    
}


/* Make the league selector span 30px smaller */
#league-select-trigger span {
    max-width: calc(100% - 45px); /* 20px + 30px reduction */
}

.custom-select-trigger::after, .metric-select-trigger::after {
    content: '';
    width: 6px;
    height: 6px;
    margin-left: auto;
    border-right: 1.5px solid var(--text-color);
    border-bottom: 1.5px solid var(--text-color);
    transform: rotate(45deg) translateY(-2px);
    transition: transform 0.3s;
    opacity: 0.7;
    margin-right: 2px;
}

.custom-select-trigger.open::after, .metric-select-trigger.open::after {
    transform: rotate(-135deg) translateY(1px);
}

.custom-select-options, .metric-select-options {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background-color: var(--container-bg);
    border: 1px solid var(--border-color);
    border-radius: 6px;
    margin-top: 4px;
    max-height: 300px;
    overflow-y: auto;
    z-index: 100;
    font-size: 13px;
    display: none;
    box-shadow: var(--shadow);
}


.custom-select-option:hover, .metric-select-option:hover {
    background-color: var(--hover-color);
}



.custom-select-option.selected {
    background-color: var(--primary-color);
    color: white;
}

.metric-select-option.selected {
    background-color: var(--primary-color);
    color: white;
}


.dark-mode .custom-select-option:hover {
    background-color: var(--hover-color);
}

.dark-mode .custom-select-option.selected {
    background-color: var(--primary-color);
    color: white;
}

@media (max-width: 768px) {
    .custom-select-option {
        padding: 6px 12px;
    }
}



body.dark-mode .language-dropdown {
  background: #e8e6e6;
}

body.dark-mode .language-option {
  color: #000000;
}

/* Dark mode styles for custom dropdown */
.dark-mode .custom-select-trigger,
.dark-mode .custom-select-options,
.dark-mode .metric-select-trigger,
.dark-mode .metric-select-options {
    border-color: var(--border-color);
    background-color: var(--container-bg);
    color: var(--text-color);
}

.dark-mode .custom-select-option:hover,
.dark-mode .metric-select-option:hover {
    background-color: var(--hover-color);
}

.dark-mode .custom-select-option.selected,
.dark-mode .metric-select-option.selected {
    background-color: rgba(52, 152, 219, 0.2);
}

/* Adjust flag icon alignment in the trigger */
#league-select-trigger iconify-icon {
    margin-right: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transform: translateY(-1px);
}
@media screen and (max-width: 550px) { .header .navigation { display: none; } }

        /* Enhanced Dark Mode Styles */
        .dark-mode .chart-wrapper {
            background-color: var(--container-bg);
            border: 1px solid #333;
        }

        .dark-mode .btn {
            background-color: var(--button-color);
        }

        .dark-mode .btn-outline {
            background-color: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-color);
        }

        .dark-mode .btn-outline:hover {
            background-color: var(--hover-color);
            border-color: #444;
        }


        .dark-mode input, 
        .dark-mode select {
            background-color: #1a1a1a;
            color: var(--text-color);
            border-color: #333;
        }

        .dark-mode input::placeholder {
            color: #777;
        }

        .dark-mode input:focus, 
        .dark-mode select:focus {
            border-color: var(--primary-color);
            outline: none;
        }

        .dark-mode .tooltip {
            background-color: #1a1a1a;
            border-color: #333;
            color: var(--text-color);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .legend {
            border-top-color: #333;
        }

        .dark-mode .legend-item {
            color: #ccc;
        }

        .dark-mode .btn-tooltip .btn-tooltip-text {
            background-color: #1a1a1a;
            border-color: #333;
            color: #e0e0e0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .btn-tooltip .btn-tooltip-text::after {
            border-color: #333 transparent transparent transparent;
        }

        .dark-mode .team-label {
            fill: #e0e0e0 !important;
            text-shadow: 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f;
        }

        .dark-mode .x-axis path,
        .dark-mode .y-axis path,
        .dark-mode .x-axis line,
        .dark-mode .y-axis line {
            stroke: #444;
        }

        .dark-mode .x-axis text,
        .dark-mode .y-axis text {
            fill: #aaa;
        }

        .dark-mode .x-label,
        .dark-mode .y-label {
            fill: #ccc;
        }

        .dark-mode .median-line {
            stroke: rgba(255, 255, 255, 0.2) !important;
        }

        .dark-mode .xy-line {
            stroke: #2ecc71;
            opacity: 0.8;
        }

        .dark-mode .dark-mode-toggle {
            background-color: #1a1a1a;
            border: 1px solid #333;
        }

        .dark-mode .toggle-icon::before {
            color: #e0e0e0;
        }

 





        .dark-mode .header .button10 {
            color: #aaa;
        }

        .dark-mode .header .button10:hover {
            color: #2563eb;
            background-color: #1a1a1a;
        }

        .dark-mode header a {
            color: #aaa;
        }

        .dark-mode .header .logo img {
            opacity: 0.9;
            filter: brightness(0.9);
        }

        .dark-mode .language-button {
            background-color: #0e0f0f;
            color: #aaa;
        }

   

        .dark-mode .language-dropdown {
            background: #1a1a1a;
            border: 1px solid #333;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .language-option {
            color: #e0e0e0;
        }



        .dark-mode #search-bar::placeholder {
            color: #777;
        }

        .dark-mode circle {
            stroke-width: 1px;
        }

        .dark-mode circle.search-match {
            fill: #ff3366 !important;
            stroke: #0e0f0f;
            stroke-width: 2px;
            filter: drop-shadow(0 0 5px rgba(255, 51, 102, 0.7));
        }

  
        
        /* Additional dark mode styles for chart elements */
        .dark-mode .chart-container {
            background-color: var(--container-bg);
        }
        
  
        
    
        
        
        /* Fix for custom select dropdown in dark mode */
        .dark-mode .custom-select-trigger::after, 
        .dark-mode .metric-select-trigger::after {
            border-right: 1.5px solid var(--text-color);
            border-bottom: 1.5px solid var(--text-color);
        }
        
        /* Improve contrast for selected items in dark mode */
        .dark-mode .custom-select-option.selected, 
        .dark-mode .metric-select-option.selected {
            background-color: rgba(52, 152, 219, 0.3);
        }
        
        /* Improve visibility of SVG elements in dark mode */
        .dark-mode svg text {
            fill: #ccc;
        }
        
        .dark-mode .legend-color {
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        /* Improve button states in dark mode */
        .dark-mode .btn:hover {
            background-color: #3498db;
        }
        
        .dark-mode .btn-outline:active {
            background-color: #333;
        }
        
        /* Improve focus states for accessibility */
        .dark-mode input:focus,
        .dark-mode select:focus,
        .dark-mode .btn:focus {
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.5);
        }
        
        /* Fix for buttons staying focused with blue outline */
        button:focus, 
        .btn:focus, 
        select:focus, 
        input:focus {
            outline: none;
        }
        
        /* Custom focus styles for better accessibility */
        button:focus-visible, 
        .btn:focus-visible, 
        select:focus-visible, 
        input:focus-visible {
            outline: none;
            box-shadow: 0 0 0 2px var(--primary-color);
        }
        
        /* Remove focus styles when using mouse */
        button:focus:not(:focus-visible), 
        .btn:focus:not(:focus-visible), 
        select:focus:not(:focus-visible), 
        input:focus:not(:focus-visible) {
            box-shadow: none;
        }



.logo img {
  width: 50px;
  height: 50px;
}

/* Promo links styling */
.promo-links-container {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
    margin: 15px auto 25px;
    max-width: 800px;
    flex-wrap: wrap;
    padding: 0 20px;
}

.promo-link {
    display: flex;
    align-items: center;
    padding: 10px 15px;
    background-color: var(--container-bg);
    color: var(--text-color);
    text-decoration: none;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    transition: all 0.3s ease;
    box-shadow: var(--shadow);
    font-weight: 500;
    flex: 1;
    min-width: 220px;
    max-width: 350px;
    justify-content: center;
}

.promo-link iconify-icon {
    margin-right: 8px;
}

.promo-link:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.radar-link {
    border-left: 4px solid #3498db;
}

.pro-link {
    border-left: 4px solid #f39c12;
}

.dark-mode .radar-link {
    border-left: 4px solid #2980b9;
}

.dark-mode .pro-link {
    border-left: 4px solid #d35400;
}

@media (max-width: 768px) {
  

    
    select, input {
        width: 100%;
    }
    
    /* Make text elements more readable on mobile */
    .x-label, .y-label {
        font-size: 12px;
    }
    
    /* Adjust tooltip position for mobile */
    .tooltip {
        max-width: 80%;
    }
    
    /* Adjust promo links for mobile */
    .promo-links-container {
        flex-direction: column;
        align-items: center;
        gap: 10px;
        padding: 0 15px;
    }
}


.custom-select-option {
    -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            
}
        /* Disable text selection for SVG text elements */
        svg text, .legend,
        .x-label,
        .y-label,
        .team-label,
        .player-name,
        .x-axis text,
        .y-axis text {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            pointer-events: none;
        }


/* MODAL */

.search-input-modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    z-index: 999;
}
.search-input-container {
    position: absolute;
    top: 30%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: var(--container-bg);
    padding: 20px;
    border-radius: 4px;
    z-index: 1000;
    width: 410px; /* Fixed width for modal */
    box-sizing: border-box;
    box-shadow: 0 4px 32px rgba(0,0,0,0.18);
    display: flex;
    flex-direction: column;
    align-items: center;
}
#searchInputforModal {
    width: 100%;
    padding: 12px;
    border: 3px solid var(--border-color);
    border-radius: 4px;
    font-size: 18.4px;
    outline: none;
    background-color: var(--container-bg);
    color: var(--text-color);
    height: 50px;
    transition: border-width 0.2s ease;
}

#searchInputforModal:focus {
    border: 1.4px solid var(--border-color);
}




#autocompleteBoxmodal {
    width: 360px;
    max-height: 158px;
    overflow-y: auto;
    line-height: 2;
    text-align: center !important;
}
#autocompleteBoxmodal:empty {
    margin-top: 0;
}
#autocompleteBoxmodal:not(:empty) {
    margin-top: 20px;
}

#autocompleteBoxmodal a {
    text-decoration: none;
    font-family: Arial, sans-serif;
    font-size: 16px;
    text-align: center !important;
    color: #333 !important;
    cursor: pointer;
    
}
#autocompleteBoxmodal li:hover {
    background-color: #f0f0f0;
}


#searchButtonmodal {
    padding: 8.5px;
    background-color: #0074d9;
    color: #fff;
    border: none;
    width: 34px;
    height: 34px;
    border-radius: 50%;
    cursor: pointer;
    font-size: 17px;
}


body.dark-mode #searchInputforModal {
    background-color: #333;
    color: #e0e0e0;
    border-color: #555;
}

body.dark-mode .search-input-container {
    background-color: #333;
}


.dark-mode #searchButtonmodal {
    background-color: #0074d9;
    color: #fff;
}

#searchInputforModal:focus {
    border-color: var(--primary-color);
}
#searchInputforModal::placeholder {
    color: #999;
}

body.dark-mode #autocompleteBoxmodal a, body.dark-mode #autocompleteBoxmodal2 a {
    color: var(--text-color) !important;
}
body.dark-mode #autocompleteBoxmodal a {
    color: white !important;
}


    </style>

  <header class="header">
    <div class="logo">
      <a href="https://datamb.football">
        <img src="https://datamb.football/logo.png" alt="Football team statistics comparison. Radar comparison tool. Visualise and compare team data from the top 7 leagues : Premier League, La Liga, Bundesliga, Serie A, Ligue 1, Eredivisie, Primeira Liga" /></a>
        <div class="logo-text"><a href="https://datamb.football">&nbsp;Teams</a></div>
    </div>
    <nav class="navigation">
      <a href="https://datamb.football" class="button10" data-i18n="header.home">Home</a>
      <a href="https://datamb.football/join" class="button10" data-i18n="header.pro">Pro</a>
      <a href="https://datamb.football/guide" class="button10" data-i18n="header.guide">Guide</a>
    </nav>
    <div class="header-right">
    <div class="search-container">
      <button id="searchButtonmodal"><iconify-icon icon="ion:search-outline"></iconify-icon></button>
  </div>
    <div class="language-switcher-container">
      <button class="language-button" id="languageButton">
        <iconify-icon icon="heroicons:globe-alt"></iconify-icon>
      </button>
      <div class="language-dropdown" id="languageDropdown">
        <a href="?lang=en" class="language-option"><iconify-icon icon="flag:gb-4x3"></iconify-icon>English</a>
        <a href="?lang=fr" class="language-option"><iconify-icon icon="flag:fr-4x3"></iconify-icon>Français</a>  
    </div>
    </div></div>
  </header>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7677714701428206"
     crossorigin="anonymous"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PSBMXX80EF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-PSBMXX80EF');
</script>
</head>
<div class="search-input-modal" id="searchInputModal">
    <div class="search-input-container">
        <input type="text" id="searchInputforModal" data-i18n="search.placeholder" placeholder="Enter a team or player name...">
        <div id="autocompleteBoxmodal"></div>
    </div>
  </div>
  <script>
    const _0x5b86e1=_0x15a5;(function(_0x38813f,_0x2f15d4){const _0x3f9c89=_0x15a5,_0x43de7f=_0x38813f();while(!![]){try{const _0x228e14=-parseInt(_0x3f9c89(0x1dc))/0x1+-parseInt(_0x3f9c89(0x1d1))/0x2*(parseInt(_0x3f9c89(0x1de))/0x3)+parseInt(_0x3f9c89(0x1cd))/0x4+parseInt(_0x3f9c89(0x1e3))/0x5+-parseInt(_0x3f9c89(0x1e2))/0x6+parseInt(_0x3f9c89(0x1dd))/0x7+parseInt(_0x3f9c89(0x1cf))/0x8;if(_0x228e14===_0x2f15d4)break;else _0x43de7f['push'](_0x43de7f['shift']());}catch(_0x29a082){_0x43de7f['push'](_0x43de7f['shift']());}}}(_0x46f1,0x2d501));function _0x15a5(_0x199e9e,_0xbb99a3){const _0x46f11e=_0x46f1();return _0x15a5=function(_0x15a5ce,_0x5be766){_0x15a5ce=_0x15a5ce-0x1c9;let _0x4cb8e8=_0x46f11e[_0x15a5ce];return _0x4cb8e8;},_0x15a5(_0x199e9e,_0xbb99a3);}const xhrmodal=new XMLHttpRequest();xhrmodal[_0x5b86e1(0x1e5)](_0x5b86e1(0x1e8),_0x5b86e1(0x1cc),![]),xhrmodal[_0x5b86e1(0x1d3)](null);let dataCSVmodal=xhrmodal[_0x5b86e1(0x1db)];const dataLinesmodal=dataCSVmodal[_0x5b86e1(0x1da)]('\x0a'),searchButtonmodal=document[_0x5b86e1(0x1d5)](_0x5b86e1(0x1f8)),searchInputModal=document[_0x5b86e1(0x1d5)]('searchInputModal'),searchInputforModal=document[_0x5b86e1(0x1d5)](_0x5b86e1(0x1e6)),autocompleteBoxmodal=document[_0x5b86e1(0x1d5)](_0x5b86e1(0x1f2)),datamodal=dataLinesmodal[_0x5b86e1(0x1f1)](_0x11f996=>{const _0x28a878=_0x5b86e1,[_0x2261e9,_0x5c9272]=_0x11f996[_0x28a878(0x1da)](',');return{'name':_0x2261e9,'link':_0x5c9272};});function removeDiacritics(_0x235902){const _0x400a88=_0x5b86e1,_0x2f0971={'ø':'o','Ø':'O','ı':'i','ł':'l','Ł':'L'};return _0x235902=_0x235902['replace'](/[øØıłŁ]/g,_0x54b9e5=>_0x2f0971[_0x54b9e5]),_0x235902[_0x400a88(0x1f7)](_0x400a88(0x1ca))['replace'](/[\u0300-\u036f]/g,'');}function generateSearchVariations(_0x152212){const _0x3cd44c=_0x5b86e1,_0x891101=[],_0x5a0970=_0x152212[_0x3cd44c(0x1ed)]()[_0x3cd44c(0x1da)](/\s+/);_0x891101[_0x3cd44c(0x1d4)](_0x152212);if(_0x5a0970['length']>=0x2){const _0x4e3e3d=_0x5a0970[0x0][_0x3cd44c(0x1d6)](0x0)[_0x3cd44c(0x1e0)](),_0x1de89e=_0x5a0970[_0x3cd44c(0x1f6)](0x1)[_0x3cd44c(0x1f9)]('\x20');_0x891101[_0x3cd44c(0x1d4)](_0x4e3e3d+'.\x20'+_0x1de89e),_0x891101[_0x3cd44c(0x1d4)](_0x4e3e3d+'\x20'+_0x1de89e),_0x891101['push'](_0x4e3e3d+'.'+_0x1de89e);}return _0x891101;}function isInitialMatch(_0x154631,_0xc0666f){const _0x288646=_0x5b86e1,_0x55aaef=_0x154631[_0x288646(0x1d9)](/\./g,'');if(_0x55aaef[_0x288646(0x1c9)]===0x1)return _0x55aaef[_0x288646(0x1ec)]()===_0xc0666f[_0x288646(0x1d6)](0x0)[_0x288646(0x1ec)]();return![];}function _0x46f1(){const _0x456edb=['118iVasCw','createElement','send','push','getElementById','charAt','match','target','replace','split','responseText','270112eGIBZE','1810312YZvOfN','13638rfEnlx','none','toUpperCase','link','258972DFdWVQ','1337005mnpyxu','value','open','searchInputforModal','textContent','GET','style','name','addEventListener','toLowerCase','trim','block','forEach','display','map','autocompleteBoxmodal','DOMContentLoaded','appendChild','click','slice','normalize','searchButtonmodal','join','length','NFD','from','https://datamb.football/database/searchbar.csv','661076ILuUzb','filter','606424mmqYXy','includes'];_0x46f1=function(){return _0x456edb;};return _0x46f1();}function search3modal(_0x1c9c6f){const _0x700b8e=_0x5b86e1;autocompleteBoxmodal['innerHTML']='';const _0x58dbcd=generateSearchVariations(_0x1c9c6f),_0x27cd00=new Set();_0x58dbcd[_0x700b8e(0x1ef)](_0x4eea4e=>{const _0x1f6b15=_0x700b8e,_0x2e3cdb=removeDiacritics(_0x4eea4e)[_0x1f6b15(0x1d9)](/[^\w\s]/g,'')[_0x1f6b15(0x1d9)](/\s+/g,'')[_0x1f6b15(0x1ec)](),_0x150460=datamodal[_0x1f6b15(0x1ce)](_0x2dedb4=>{const _0x7ac3e7=_0x1f6b15,_0x4f2011=removeDiacritics(_0x2dedb4[_0x7ac3e7(0x1ea)])['replace'](/[^\w\s]/g,'')[_0x7ac3e7(0x1d9)](/\s+/g,'')[_0x7ac3e7(0x1ec)]();if(_0x4f2011[_0x7ac3e7(0x1d0)](_0x2e3cdb))return!![];const _0x1365bf=removeDiacritics(_0x4eea4e)[_0x7ac3e7(0x1d9)](/[^\w\s]/g,'')['split'](/\s+/)['filter'](_0x1bc534=>_0x1bc534[_0x7ac3e7(0x1c9)]>0x0),_0x180517=removeDiacritics(_0x2dedb4[_0x7ac3e7(0x1ea)])[_0x7ac3e7(0x1d9)](/[^\w\s]/g,'')[_0x7ac3e7(0x1da)](/\s+/)['filter'](_0x1c7cfe=>_0x1c7cfe[_0x7ac3e7(0x1c9)]>0x0);if(_0x1365bf[_0x7ac3e7(0x1c9)]>=0x2&&_0x180517[_0x7ac3e7(0x1c9)]>=0x2){const _0x5beebd=isInitialMatch(_0x1365bf[0x0],_0x180517[0x0])||_0x1365bf[0x0][_0x7ac3e7(0x1ec)]()===_0x180517[0x0][_0x7ac3e7(0x1ec)]();if(_0x5beebd){const _0x37dc07=_0x1365bf[_0x7ac3e7(0x1f6)](0x1),_0x1da647=_0x180517['slice'](0x1),_0x4297e9=_0x37dc07[_0x7ac3e7(0x1f9)]('')[_0x7ac3e7(0x1ec)](),_0x1ec6c6=_0x1da647['join']('')[_0x7ac3e7(0x1ec)]();return _0x1ec6c6[_0x7ac3e7(0x1d0)](_0x4297e9);}}return![];});_0x150460['forEach'](_0x28c4d0=>_0x27cd00['add'](_0x28c4d0));});const _0x50edf6=Array[_0x700b8e(0x1cb)](_0x27cd00);if(_0x50edf6[_0x700b8e(0x1c9)]===0x0){autocompleteBoxmodal['style']['display']=_0x700b8e(0x1df);return;}_0x50edf6['forEach'](_0x52e535=>{const _0x18a979=_0x700b8e,_0x5c3507=document[_0x18a979(0x1d2)]('div'),_0x2b2482=document[_0x18a979(0x1d2)]('a');_0x2b2482['href']=_0x52e535[_0x18a979(0x1e1)];const _0x3986df=_0x52e535[_0x18a979(0x1ea)][_0x18a979(0x1d7)](/(.*)\s+\((.*)\)/);if(_0x3986df){const _0x1c6725=_0x3986df[0x1],_0x3f4513=_0x3986df[0x2],_0x204ee5=translatePosition(_0x3f4513);_0x2b2482[_0x18a979(0x1e7)]=_0x1c6725+'\x20('+_0x204ee5+')';}else _0x2b2482[_0x18a979(0x1e7)]=_0x52e535[_0x18a979(0x1ea)];_0x5c3507['appendChild'](_0x2b2482),autocompleteBoxmodal[_0x18a979(0x1f4)](_0x5c3507);}),autocompleteBoxmodal[_0x700b8e(0x1e9)][_0x700b8e(0x1f0)]=_0x700b8e(0x1ee);}document[_0x5b86e1(0x1eb)](_0x5b86e1(0x1f3),function(){const _0x456212=_0x5b86e1;searchInputforModal[_0x456212(0x1eb)]('input',()=>{const _0x149ca0=_0x456212,_0x262b5a=searchInputforModal[_0x149ca0(0x1e4)];_0x262b5a['trim']()===''?autocompleteBoxmodal[_0x149ca0(0x1e9)][_0x149ca0(0x1f0)]='none':search3modal(_0x262b5a);});}),searchButtonmodal['addEventListener']('click',()=>{const _0x26afe4=_0x5b86e1;searchInputModal[_0x26afe4(0x1e9)][_0x26afe4(0x1f0)]=_0x26afe4(0x1ee);}),document[_0x5b86e1(0x1eb)](_0x5b86e1(0x1f5),_0x1f4e4f=>{const _0x464b7a=_0x5b86e1;_0x1f4e4f[_0x464b7a(0x1d8)]===searchInputModal&&(searchInputModal['style'][_0x464b7a(0x1f0)]=_0x464b7a(0x1df));});
  </script>  


<body>
    <div class="container">
        <div class="chart-wrapper">
            <div class="controls">
                <select id="select-x" style="display: none;"></select>
                <select id="select-y" style="display: none;"></select>
                <select id="select-league" style="display: none;" onchange="updateChart()">
                    <option value="all">Top 7 Leagues</option>
                    <option value="Top 5 Leagues">Top 5 Leagues</option>
                    <option value="Premier League">Premier League</option>
                    <option value="La Liga">La Liga</option>
                    <option value="Bundesliga">Bundesliga</option>
                    <option value="Serie A">Serie A</option> 
                    <option value="Ligue 1">Ligue 1</option>
                    <option value="Eredivisie">Eredivisie</option>
                    <option value="Primeira Liga">Liga Portugal</option>
                </select>
                
                <!-- Custom X metric selector -->
                <div class="metric-select-container">
                    <div class="metric-select-trigger" id="x-metric-trigger">
                        <span data-i18n="metrics.goals-per-90">Goals per 90</span>
                    </div>
                    <div class="metric-select-options" id="x-metric-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Custom Y metric selector -->
                <div class="metric-select-container">
                    <div class="metric-select-trigger" id="y-metric-trigger">
                        <span data-i18n="metrics.xg-per-90">xG per 90</span>
                    </div>
                    <div class="metric-select-options" id="y-metric-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Custom league selector with flag icons -->
                <div class="custom-select-container">
                    <div class="custom-select-trigger" id="league-select-trigger">
                        <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                        <span data-i18n="leagues.top7">Top 7 Leagues</span>
                    </div>
                    <div class="custom-select-options" id="league-select-options">
                        <div class="custom-select-option selected" data-value="all">
                            <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                            <span data-i18n="leagues.top7">Top 7 Leagues</span>
                        </div>
                        <div class="custom-select-option" data-value="Top 5 Leagues">
                            <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                            <span data-i18n="leagues.top5">Top 5 Leagues</span>
                        </div>
                        <div class="custom-select-option" data-value="Premier League">
                            <iconify-icon icon="emojione:flag-for-united-kingdom" width="18" height="18"></iconify-icon>
                            <span>Premier League</span>
                        </div>
                        <div class="custom-select-option" data-value="La Liga">
                            <iconify-icon icon="emojione:flag-for-spain" width="18" height="18"></iconify-icon>
                            <span>La Liga</span>
                        </div>
                        <div class="custom-select-option" data-value="Bundesliga">
                            <iconify-icon icon="emojione:flag-for-germany" width="18" height="18"></iconify-icon>
                            <span>Bundesliga</span>
                        </div>
                        <div class="custom-select-option" data-value="Serie A">
                            <iconify-icon icon="emojione:flag-for-italy" width="18" height="18"></iconify-icon>
                            <span>Serie A</span>
                        </div>
                        <div class="custom-select-option" data-value="Ligue 1">
                            <iconify-icon icon="emojione:flag-for-france" width="18" height="18"></iconify-icon>
                            <span>Ligue 1</span>
                        </div>
                        <div class="custom-select-option" data-value="Eredivisie">
                            <iconify-icon icon="emojione:flag-for-netherlands" width="18" height="18"></iconify-icon>
                            <span>Eredivisie</span>
                        </div>
                        <div class="custom-select-option" data-value="Primeira Liga">
                            <iconify-icon icon="emojione:flag-for-portugal" width="18" height="18"></iconify-icon>
                            <span>Liga Portugal</span>
                        </div>
                    </div>
                </div>
                
                <input type="text" id="search-bar" data-i18n="search.placeholder2" placeholder="Search team...">
                <div class="btn-tooltip">
                    <button id="toggle-median-lines" class="btn btn-outline btn-icon">
                        <div class="icon">
                            <i class="ion-stats-bars"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" id="median-lines-tooltip" data-i18n="tooltip.median-lines">Show median lines</span>
                </div>
                <div class="btn-tooltip">
                    <button class="btn btn-outline btn-icon" id="select-all-button" onclick="selectAllCircles()">
                        <div class="icon">
                            <i class="ion-ios-circle-filled" id="select-icon"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" id="select-all-tooltip" data-i18n="tooltip.select-all">Select all teams</span>
                </div>
                <div class="btn-tooltip">
                    <button class="btn btn-outline btn-icon" onclick="takeScreenshot()">
                        <div class="icon">
                            <i class="ion-camera"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" data-i18n="tooltip.screenshot">Download chart as image</span>
                </div>
            </div>
       
            <div class="chart-container">
              <svg id="scatter-plot"></svg>
            </div>

            <div class="legend" id="league-legend">
              <!-- Legend items will be added here dynamically -->
            </div>
        </div>

        <div class="promo-links-container">
            <a href="https://datamb.football/teamradars" class="promo-link radar-link">
                <iconify-icon icon="mdi:radar" width="20" height="20"></iconify-icon>
                <span data-i18n="promo.radar-link">Compare Teams with Radars</span>
            </a>
            <a href="https://datamb.football/join" class="promo-link pro-link">
                <iconify-icon icon="mdi:account-star" width="20" height="20"></iconify-icon>
                <span data-i18n="promo.pro-link">Get Pro for Player Plots</span>
            </a>
            <div class="dark-mode-toggle pc-only" onclick="toggleDarkMode()">
                <div class="toggle-icon"></div>
            </div>
        </div>
    </div>

    <div class="dark-mode-toggle mobile-only" onclick="toggleDarkMode()">
        <div class="toggle-icon"></div>
    </div>

    <script>
        var _0x5243b9=_0x2375;(function(_0x462b3b,_0x27f220){var _0x5c0a76=_0x2375,_0x5f2ce6=_0x462b3b();while(!![]){try{var _0x4b15bf=-parseInt(_0x5c0a76(0x1da))/0x1+-parseInt(_0x5c0a76(0x173))/0x2+-parseInt(_0x5c0a76(0x157))/0x3*(parseInt(_0x5c0a76(0x16a))/0x4)+-parseInt(_0x5c0a76(0x1ae))/0x5+-parseInt(_0x5c0a76(0x21c))/0x6+parseInt(_0x5c0a76(0x22f))/0x7+parseInt(_0x5c0a76(0x19c))/0x8;if(_0x4b15bf===_0x27f220)break;else _0x5f2ce6['push'](_0x5f2ce6['shift']());}catch(_0x3b0ff2){_0x5f2ce6['push'](_0x5f2ce6['shift']());}}}(_0x3469,0xbfed2));let initializeCustomSelectors=function(){var _0xb47627=_0x2375;const _0x48efe4=document[_0xb47627(0x1f6)](_0xb47627(0x24c)),_0x3ee35d=document[_0xb47627(0x1f6)]('league-select-options'),_0x479f9c=document[_0xb47627(0x1f6)](_0xb47627(0x207));setupCustomSelect(_0x48efe4,_0x3ee35d,_0x479f9c);const _0x37fa65=document[_0xb47627(0x1f6)](_0xb47627(0x1d6)),_0x1da844=document[_0xb47627(0x1f6)](_0xb47627(0x1a0)),_0xe631ff=document['getElementById'](_0xb47627(0x20c));populateMetricOptions(_0x1da844,header[_0xb47627(0x209)](0x3),function(_0x571a62,_0x17db58){var _0x2af151=_0xb47627;_0x37fa65['querySelector'](_0x2af151(0x1b4))[_0x2af151(0x1e3)]===_0x17db58&&_0x571a62['classList']['add'](_0x2af151(0x1ab));if(_0x17db58===header[0x3]){_0x571a62['classList'][_0x2af151(0x22d)](_0x2af151(0x1ab)),_0x37fa65[_0x2af151(0x19f)]('span')[_0x2af151(0x1e3)]=_0x17db58;const _0x44c920=_0x17db58[_0x2af151(0x1c2)]()['replace'](/ /g,'-')[_0x2af151(0x220)](/%/g,'pct');_0x37fa65[_0x2af151(0x19f)](_0x2af151(0x1b4))[_0x2af151(0x1c1)](_0x2af151(0x1c6),_0x2af151(0x196)+_0x44c920);}}),setupCustomSelect(_0x37fa65,_0x1da844,_0xe631ff);const _0x1c3087=document[_0xb47627(0x1f6)](_0xb47627(0x19d)),_0x5524f4=document[_0xb47627(0x1f6)](_0xb47627(0x1f5)),_0x271545=document[_0xb47627(0x1f6)]('select-y');populateMetricOptions(_0x5524f4,header[_0xb47627(0x209)](0x3),function(_0x437652,_0x433ee4){var _0x2a3b73=_0xb47627;_0x1c3087[_0x2a3b73(0x19f)](_0x2a3b73(0x1b4))['textContent']===_0x433ee4&&_0x437652['classList'][_0x2a3b73(0x22d)](_0x2a3b73(0x1ab));if(_0x433ee4===header[0x4]){_0x437652['classList'][_0x2a3b73(0x22d)](_0x2a3b73(0x1ab)),_0x1c3087[_0x2a3b73(0x19f)]('span')[_0x2a3b73(0x1e3)]=_0x433ee4;const _0x13af31=_0x433ee4[_0x2a3b73(0x1c2)]()[_0x2a3b73(0x220)](/ /g,'-')['replace'](/%/g,_0x2a3b73(0x1f0));_0x1c3087[_0x2a3b73(0x19f)]('span')['setAttribute']('data-i18n',_0x2a3b73(0x196)+_0x13af31);}}),setupCustomSelect(_0x1c3087,_0x5524f4,_0x271545);};function populateMetricOptions(_0x1b8b46,_0x25fd5,_0x1adf5c){var _0x2cff34=_0x2375;_0x1b8b46[_0x2cff34(0x247)]='',_0x25fd5[_0x2cff34(0x15b)](function(_0x702ea1){var _0xba1e8b=_0x2cff34;const _0x3442cd=document['createElement']('div');_0x3442cd['className']=_0xba1e8b(0x1af),_0x3442cd['setAttribute'](_0xba1e8b(0x1aa),_0x702ea1);const _0x515a61=document[_0xba1e8b(0x232)](_0xba1e8b(0x1b4));_0x515a61[_0xba1e8b(0x1e3)]=_0x702ea1;const _0x2e8ccf=_0x702ea1[_0xba1e8b(0x1c2)]()[_0xba1e8b(0x220)](/ /g,'-')[_0xba1e8b(0x220)](/%/g,_0xba1e8b(0x1f0));_0x515a61[_0xba1e8b(0x1c1)](_0xba1e8b(0x1c6),_0xba1e8b(0x196)+_0x2e8ccf),_0x3442cd[_0xba1e8b(0x154)](_0x515a61);if(_0x1adf5c)_0x1adf5c(_0x3442cd,_0x702ea1);_0x1b8b46[_0xba1e8b(0x154)](_0x3442cd);});}function setupCustomSelect(_0x571ba6,_0x40c5e3,_0x106965){var _0x3c7d3=_0x2375;_0x571ba6[_0x3c7d3(0x1c5)](_0x3c7d3(0x1a2),function(){var _0x15f82f=_0x3c7d3;document['querySelectorAll']('.custom-select-trigger.open,\x20.metric-select-trigger.open')[_0x15f82f(0x15b)](function(_0x2e9094){var _0x4fbd35=_0x15f82f;if(_0x2e9094!==_0x571ba6){_0x2e9094['classList'][_0x4fbd35(0x161)](_0x4fbd35(0x1f3));const _0x296616=_0x2e9094['nextElementSibling'];if(_0x296616)_0x296616[_0x4fbd35(0x203)][_0x4fbd35(0x158)]=_0x4fbd35(0x1ef);}}),_0x571ba6[_0x15f82f(0x180)][_0x15f82f(0x1ad)](_0x15f82f(0x1f3));const _0x87b3d0=_0x571ba6[_0x15f82f(0x180)][_0x15f82f(0x248)](_0x15f82f(0x1f3));_0x40c5e3[_0x15f82f(0x203)][_0x15f82f(0x158)]=_0x87b3d0?_0x15f82f(0x241):_0x15f82f(0x1ef);});const _0x5243a8=_0x40c5e3[_0x3c7d3(0x22b)]('.custom-select-option,\x20.metric-select-option');_0x5243a8[_0x3c7d3(0x15b)](_0x1ea0b1=>{var _0x14f9c0=_0x3c7d3;_0x1ea0b1['addEventListener'](_0x14f9c0(0x1a2),function(){var _0x328044=_0x14f9c0;_0x5243a8[_0x328044(0x15b)](_0x180e4b=>_0x180e4b[_0x328044(0x180)][_0x328044(0x161)](_0x328044(0x1ab))),this[_0x328044(0x180)][_0x328044(0x22d)](_0x328044(0x1ab));const _0x354438=this[_0x328044(0x19f)]('span')[_0x328044(0x1e3)],_0x48e1fe=this[_0x328044(0x19f)](_0x328044(0x1b4))[_0x328044(0x183)]('data-i18n'),_0x2a8e77=this[_0x328044(0x19f)](_0x328044(0x20d));_0x571ba6[_0x328044(0x247)]='';if(_0x2a8e77){const _0x4821d2=_0x2a8e77[_0x328044(0x1b5)](!![]);_0x4821d2['style']['marginRight']=_0x328044(0x17e),_0x571ba6[_0x328044(0x154)](_0x4821d2);}const _0x5e2055=document[_0x328044(0x232)](_0x328044(0x1b4));_0x5e2055['textContent']=_0x354438;_0x48e1fe&&_0x5e2055[_0x328044(0x1c1)](_0x328044(0x1c6),_0x48e1fe);_0x571ba6['appendChild'](_0x5e2055);const _0xd38f92=this[_0x328044(0x183)](_0x328044(0x1aa));_0x106965['value']=_0xd38f92||_0x354438;const _0x2d38ad=new Event(_0x328044(0x20f));_0x106965[_0x328044(0x19e)](_0x2d38ad),_0x571ba6[_0x328044(0x180)][_0x328044(0x161)](_0x328044(0x1f3)),_0x40c5e3[_0x328044(0x203)][_0x328044(0x158)]='none';});});let _0x586f9b='',_0x44d20e;document[_0x3c7d3(0x1c5)](_0x3c7d3(0x170),function(_0xf77a4c){var _0x306637=_0x3c7d3;if(!_0x571ba6[_0x306637(0x180)][_0x306637(0x248)](_0x306637(0x1f3)))return;if(_0xf77a4c['key']===_0x306637(0x177)||_0xf77a4c[_0x306637(0x16d)]===_0x306637(0x21f)){_0xf77a4c[_0x306637(0x1d4)]();const _0x313faf=Array[_0x306637(0x21a)](_0x5243a8),_0xb95e54=_0x313faf[_0x306637(0x1c8)](_0x3137e0=>_0x3137e0[_0x306637(0x180)][_0x306637(0x248)](_0x306637(0x1ab)));let _0x2b2551;_0xf77a4c[_0x306637(0x16d)]==='ArrowDown'?_0x2b2551=_0xb95e54<_0x313faf[_0x306637(0x206)]-0x1?_0xb95e54+0x1:0x0:_0x2b2551=_0xb95e54>0x0?_0xb95e54-0x1:_0x313faf[_0x306637(0x206)]-0x1;_0x5243a8[_0x306637(0x15b)](_0x4da0b9=>_0x4da0b9[_0x306637(0x180)][_0x306637(0x161)](_0x306637(0x1ab))),_0x313faf[_0x2b2551][_0x306637(0x180)]['add'](_0x306637(0x1ab)),_0x313faf[_0x2b2551][_0x306637(0x21b)]({'block':_0x306637(0x205)});return;}if(_0xf77a4c['key']===_0x306637(0x21d)){_0xf77a4c[_0x306637(0x1d4)]();const _0x3f1528=_0x40c5e3[_0x306637(0x19f)]('.selected');_0x3f1528&&_0x3f1528[_0x306637(0x1a2)]();return;}if(_0xf77a4c[_0x306637(0x16d)]==='Escape'){_0xf77a4c['preventDefault'](),_0x571ba6[_0x306637(0x180)][_0x306637(0x161)]('open'),_0x40c5e3['style'][_0x306637(0x158)]='none';return;}if(_0xf77a4c[_0x306637(0x16d)][_0x306637(0x206)]===0x1&&_0xf77a4c[_0x306637(0x16d)][_0x306637(0x1e4)](/[a-zA-Z0-9%]/)){clearTimeout(_0x44d20e),_0x586f9b+=_0xf77a4c[_0x306637(0x16d)]['toLowerCase']();const _0x3b784c=Array[_0x306637(0x21a)](_0x5243a8)['find'](_0x1dc59c=>{var _0x3add67=_0x306637;const _0x14f9a5=_0x1dc59c['querySelector'](_0x3add67(0x1b4))[_0x3add67(0x1e3)][_0x3add67(0x1c2)]();return _0x14f9a5[_0x3add67(0x1bd)](_0x586f9b);});_0x3b784c&&(_0x5243a8[_0x306637(0x15b)](_0x72f08c=>_0x72f08c['classList']['remove'](_0x306637(0x1ab))),_0x3b784c[_0x306637(0x180)][_0x306637(0x22d)](_0x306637(0x1ab)),_0x3b784c[_0x306637(0x21b)]({'block':_0x306637(0x205)})),_0x44d20e=setTimeout(()=>{_0x586f9b='';},0x3e8);}});}document[_0x5243b9(0x1c5)](_0x5243b9(0x1a2),function(_0x37102b){var _0x42f7fc=_0x5243b9;const _0x267935=document[_0x42f7fc(0x22b)](_0x42f7fc(0x1d3)),_0x5dd174=document[_0x42f7fc(0x22b)](_0x42f7fc(0x1b3));let _0x2716cf=![];_0x267935[_0x42f7fc(0x15b)](function(_0x129625,_0x411f9c){var _0x3d73b3=_0x42f7fc;const _0x273704=_0x5dd174[_0x411f9c];_0x129625&&_0x273704&&(_0x129625['contains'](_0x37102b[_0x3d73b3(0x201)])||_0x273704[_0x3d73b3(0x248)](_0x37102b['target']))&&(_0x2716cf=!![]);}),!_0x2716cf&&_0x267935[_0x42f7fc(0x15b)](function(_0x4bc1bc,_0x2b73bd){var _0xbb7cda=_0x42f7fc;_0x4bc1bc&&_0x5dd174[_0x2b73bd]&&(_0x4bc1bc['classList']['remove'](_0xbb7cda(0x1f3)),_0x5dd174[_0x2b73bd]['style'][_0xbb7cda(0x158)]=_0xbb7cda(0x1ef));});});const xhr=new XMLHttpRequest();function _0x2375(_0x29b2d2,_0x33488c){var _0x346944=_0x3469();return _0x2375=function(_0x2375d5,_0x5cf7aa){_0x2375d5=_0x2375d5-0x153;var _0x4bb4e5=_0x346944[_0x2375d5];return _0x4bb4e5;},_0x2375(_0x29b2d2,_0x33488c);}xhr[_0x5243b9(0x1f3)]('GET',_0x5243b9(0x237),![]),xhr['send'](null);let csvData=xhr[_0x5243b9(0x211)],extraHeaderRow=_0x5243b9(0x212);csvData=extraHeaderRow+csvData;var rows=csvData[_0x5243b9(0x174)]()['split']('\x0a'),header=rows[0x0][_0x5243b9(0x225)](','),data=rows[_0x5243b9(0x209)](0x1)['map'](function(_0x1766eb){var _0x15c372=_0x5243b9;return _0x1766eb[_0x15c372(0x225)](',')[_0x15c372(0x18d)](function(_0x4fee37,_0x19db29){return _0x19db29>=0x3?parseFloat(_0x4fee37):_0x4fee37;});}),margin={'top':0x0,'right':0x0,'bottom':0x0,'left':0x0},width=0x43a-margin['left']-margin[_0x5243b9(0x17c)],height=0x302-margin[_0x5243b9(0x189)]-margin[_0x5243b9(0x191)],leagueColors={'Premier\x20League':'rgb(255,\x200,\x200,\x200.7)','La\x20Liga':_0x5243b9(0x1f7),'Bundesliga':_0x5243b9(0x193),'Serie\x20A':_0x5243b9(0x1e5),'Ligue\x201':_0x5243b9(0x1dd),'Eredivisie':_0x5243b9(0x21e),'Primeira\x20Liga':'rgb(255,\x2020,\x20147,\x200.7)'};function getLeagueColor(_0x1850f3){var _0x4e4389=_0x5243b9;return leagueColors[_0x1850f3]||_0x4e4389(0x231);}function updateChartDimensions(){var _0x2a7589=_0x5243b9,_0x31aa4c=document[_0x2a7589(0x19f)](_0x2a7589(0x181))[_0x2a7589(0x1b9)],_0x7378d7=window[_0x2a7589(0x230)]*0.7,_0x2907c5=0x1e,_0x449b26=Math['min'](0x43a,_0x31aa4c-_0x2907c5*0x2),_0x3fbfd1=window[_0x2a7589(0x1c0)]/window[_0x2a7589(0x230)]<0x1;if(_0x3fbfd1){margin={'top':0x28,'right':0x1e,'bottom':0x3c,'left':0x4b};var _0x44efd2=1.4,_0x4ffcf5=Math[_0x2a7589(0x242)](_0x7378d7,_0x449b26*_0x44efd2);_0x4ffcf5=Math['max'](_0x4ffcf5,0x1f4);}else{margin={'top':0x28,'right':0x1e,'bottom':0x3c,'left':0x4f};var _0xa680bc=0.7,_0x4ffcf5=_0x449b26*_0xa680bc;}width=_0x449b26-margin['left']-margin[_0x2a7589(0x17c)],height=_0x4ffcf5-margin[_0x2a7589(0x189)]-margin[_0x2a7589(0x191)],d3[_0x2a7589(0x1be)](_0x2a7589(0x243))[_0x2a7589(0x1e6)](_0x2a7589(0x15c),_0x449b26)[_0x2a7589(0x1e6)](_0x2a7589(0x167),_0x4ffcf5),document[_0x2a7589(0x19f)](_0x2a7589(0x1cc))[_0x2a7589(0x203)]['height']=_0x4ffcf5+'px';}window[_0x5243b9(0x1c5)]('resize',function(){updateChartDimensions(),requestAnimationFrame(function(){updateChart();});}),updateChartDimensions();function debounce(_0x507de7,_0x4f692c){let _0x378c8b;return function(){const _0x7cb2b8=this,_0x5c90ac=arguments;clearTimeout(_0x378c8b),_0x378c8b=setTimeout(function(){var _0x24e657=_0x2375;_0x507de7[_0x24e657(0x202)](_0x7cb2b8,_0x5c90ac);},_0x4f692c);};}var prevWindowWidth=window[_0x5243b9(0x1c0)],prevWindowHeight=window[_0x5243b9(0x230)];window[_0x5243b9(0x1c5)](_0x5243b9(0x187),debounce(function(){var _0x2e1b61=_0x5243b9,_0x1ac0cb=prevWindowWidth/prevWindowHeight<0x1,_0x429e4a=window[_0x2e1b61(0x1c0)]/window[_0x2e1b61(0x230)]<0x1;prevWindowWidth=window[_0x2e1b61(0x1c0)],prevWindowHeight=window[_0x2e1b61(0x230)],requestAnimationFrame(function(){updateChart();});},0x32));var medianLinesVisible=![],selectX=d3[_0x5243b9(0x1be)](_0x5243b9(0x1ba)),selectY=d3['select']('#select-y'),names=data[_0x5243b9(0x18d)](function(_0x588769){return _0x588769[0x1];});header[_0x5243b9(0x209)](0x3)[_0x5243b9(0x15b)](function(_0x9bae39){var _0x5d1d20=_0x5243b9;selectX[_0x5d1d20(0x228)](_0x5d1d20(0x1a6))['text'](_0x9bae39)[_0x5d1d20(0x1e6)](_0x5d1d20(0x1f2),_0x9bae39),selectY[_0x5d1d20(0x228)](_0x5d1d20(0x1a6))[_0x5d1d20(0x1ec)](_0x9bae39)['attr'](_0x5d1d20(0x1f2),_0x9bae39);}),selectX['property'](_0x5243b9(0x1f2),header[0x3]),selectY['property'](_0x5243b9(0x1f2),header[0x4]);var svg=d3[_0x5243b9(0x1be)]('#scatter-plot')['attr']('width',width+margin['left']+margin[_0x5243b9(0x17c)])[_0x5243b9(0x1e6)](_0x5243b9(0x167),height+margin['top']+margin[_0x5243b9(0x191)])[_0x5243b9(0x228)]('g')[_0x5243b9(0x1e6)](_0x5243b9(0x156),_0x5243b9(0x22c)+margin[_0x5243b9(0x1f1)]+','+margin[_0x5243b9(0x189)]+')'),xMetric=header[0x3],yMetric=header[0x4],xScale=d3[_0x5243b9(0x22e)]()['range']([0x0,width]),yScale=d3[_0x5243b9(0x22e)]()[_0x5243b9(0x18e)]([height,0x0]),xAxis=d3[_0x5243b9(0x1f8)](xScale)['tickSize'](0x0),yAxis=d3['axisLeft'](yScale)[_0x5243b9(0x195)](0x0),gXAxis=svg[_0x5243b9(0x228)]('g')[_0x5243b9(0x1e6)](_0x5243b9(0x1a3),_0x5243b9(0x1db))['attr'](_0x5243b9(0x156),_0x5243b9(0x1eb)+height+')'),gYAxis=svg[_0x5243b9(0x228)]('g')['attr'](_0x5243b9(0x1a3),_0x5243b9(0x19b)),xLabel=svg[_0x5243b9(0x228)]('text')[_0x5243b9(0x1e6)](_0x5243b9(0x1a3),_0x5243b9(0x1de))[_0x5243b9(0x1e6)]('text-anchor',_0x5243b9(0x1a5))[_0x5243b9(0x1e6)]('x',width)[_0x5243b9(0x1e6)]('y',height+0x23)[_0x5243b9(0x203)](_0x5243b9(0x171),'Inter,\x20sans-serif')['style'](_0x5243b9(0x20b),_0x5243b9(0x17f)),yLabel=svg[_0x5243b9(0x228)](_0x5243b9(0x1ec))[_0x5243b9(0x1e6)](_0x5243b9(0x1a3),_0x5243b9(0x18f))[_0x5243b9(0x1e6)](_0x5243b9(0x168),'end')[_0x5243b9(0x1e6)](_0x5243b9(0x156),_0x5243b9(0x233))[_0x5243b9(0x1e6)]('y',-0x35)[_0x5243b9(0x1e6)]('x',0x0)[_0x5243b9(0x203)](_0x5243b9(0x171),_0x5243b9(0x1e7))[_0x5243b9(0x203)]('font-size',_0x5243b9(0x17f)),tooltip=d3[_0x5243b9(0x1be)](_0x5243b9(0x1d5))['append'](_0x5243b9(0x1ff))['attr']('class',_0x5243b9(0x1fa));function isMobileDevice(){var _0x3f8d52=_0x5243b9;return window[_0x3f8d52(0x1c0)]<=0x300;}function positionTooltip(_0x5463c1,_0x4d1f4b){var _0x48ae90=_0x5243b9;const _0x2f9d44=_0x4d1f4b[_0x48ae90(0x16f)]();if(!_0x2f9d44)return{'left':0x0,'top':0x0};const _0x424347=_0x2f9d44[_0x48ae90(0x1b2)](),_0xb6a5ff=window[_0x48ae90(0x1c0)],_0x19f639=window['innerHeight'];let _0x5e5dad=_0x5463c1[_0x48ae90(0x23b)]+0xa,_0x190abd=_0x5463c1[_0x48ae90(0x164)]-0x1c;return _0x5e5dad+_0x424347[_0x48ae90(0x15c)]>_0xb6a5ff-0xa&&(_0x5e5dad=_0x5463c1['pageX']-_0x424347[_0x48ae90(0x15c)]-0xa),_0x190abd+_0x424347['height']>_0x19f639-0xa&&(_0x190abd=_0x5463c1['pageY']-_0x424347['height']-0xa),_0x5e5dad=Math[_0x48ae90(0x214)](0xa,_0x5e5dad),_0x190abd=Math['max'](0xa,_0x190abd),{'left':_0x5e5dad,'top':_0x190abd};}var clickedCircles=[],filteredData=data,filteredNames=names,circles;function updateChart(){var _0x37df60=_0x5243b9;updateChartDimensions(),d3[_0x37df60(0x1be)](_0x37df60(0x243))[_0x37df60(0x1e6)](_0x37df60(0x15c),width+margin[_0x37df60(0x1f1)]+margin['right'])['attr'](_0x37df60(0x167),height+margin['top']+margin['bottom']),gXAxis[_0x37df60(0x1e6)]('transform',_0x37df60(0x1eb)+height+')'),xLabel[_0x37df60(0x1e6)]('x',width)[_0x37df60(0x1e6)]('y',height+0x23),yLabel[_0x37df60(0x1e6)]('x',0x0);const _0x40363d=document[_0x37df60(0x1d5)]['classList']['contains'](_0x37df60(0x23e));var _0x5f0e79=document[_0x37df60(0x1f6)](_0x37df60(0x207))[_0x37df60(0x1f2)];if(_0x5f0e79==='all')filteredData=data;else _0x5f0e79===_0x37df60(0x155)?filteredData=data[_0x37df60(0x1f9)](function(_0x56b76b){var _0x32e867=_0x37df60;return _0x56b76b[0x2]==='Premier\x20League'||_0x56b76b[0x2]===_0x32e867(0x1df)||_0x56b76b[0x2]===_0x32e867(0x224)||_0x56b76b[0x2]==='Serie\x20A'||_0x56b76b[0x2]===_0x32e867(0x1ce);}):filteredData=data[_0x37df60(0x1f9)](function(_0x49cbb7){return _0x49cbb7[0x2]===_0x5f0e79;});filteredNames=filteredData[_0x37df60(0x18d)](function(_0x3a1339){return _0x3a1339[0x1];}),xMetric=selectX[_0x37df60(0x234)](_0x37df60(0x1f2)),yMetric=selectY[_0x37df60(0x234)](_0x37df60(0x1f2)),xScale[_0x37df60(0x18e)]([0x0,width])[_0x37df60(0x159)]((function(){var _0x3c0f2e=_0x37df60;const _0x4a59df=d3[_0x3c0f2e(0x20a)](filteredData,function(_0x5befa0){return+_0x5befa0[header['indexOf'](xMetric)];}),_0x1e5aca=d3['scaleLinear']()[_0x3c0f2e(0x159)](_0x4a59df)[_0x3c0f2e(0x1fd)](),_0x3ee3b1=_0x1e5aca[_0x3c0f2e(0x159)](),_0x4841dc=_0x4a59df[0x1]-_0x4a59df[0x0],_0x1c380e=_0x3ee3b1[0x1]-_0x3ee3b1[0x0];if(_0x1c380e/_0x4841dc>1.2){const _0x7c23b5=_0x4841dc*0.1;return[_0x4a59df[0x0]-_0x7c23b5,_0x4a59df[0x1]+_0x7c23b5];}else return _0x3ee3b1;}())),yScale[_0x37df60(0x18e)]([height,0x0])[_0x37df60(0x159)]((function(){var _0x8a63a3=_0x37df60;const _0x4b2129=d3['extent'](filteredData,function(_0x4178ae){return+_0x4178ae[header['indexOf'](yMetric)];}),_0x18b555=d3['scaleLinear']()[_0x8a63a3(0x159)](_0x4b2129)[_0x8a63a3(0x1fd)](),_0x483061=_0x18b555['domain'](),_0x346ad9=_0x4b2129[0x1]-_0x4b2129[0x0],_0x222aec=_0x483061[0x1]-_0x483061[0x0];if(_0x222aec/_0x346ad9>1.2){const _0x435caf=_0x346ad9*0.1;return[_0x4b2129[0x0]-_0x435caf,_0x4b2129[0x1]+_0x435caf];}else return _0x483061;}())),gXAxis[_0x37df60(0x219)](d3[_0x37df60(0x1f8)](xScale)['tickSize'](0x0)),gYAxis[_0x37df60(0x219)](d3[_0x37df60(0x1ca)](yScale)['tickSize'](0x0));const _0x3232d6='metrics.'+xMetric['toLowerCase']()[_0x37df60(0x220)](/ /g,'-')[_0x37df60(0x220)](/%/g,'pct'),_0x4c36c1=_0x37df60(0x196)+yMetric[_0x37df60(0x1c2)]()[_0x37df60(0x220)](/ /g,'-')[_0x37df60(0x220)](/%/g,_0x37df60(0x1f0));xLabel[_0x37df60(0x1e6)](_0x37df60(0x1c6),_0x3232d6),yLabel[_0x37df60(0x1e6)](_0x37df60(0x1c6),_0x4c36c1);if(window['currentTranslations']&&window[_0x37df60(0x239)]['metrics']){const _0x5b758d=xMetric[_0x37df60(0x1c2)]()[_0x37df60(0x220)](/ /g,'-')['replace'](/%/g,_0x37df60(0x1f0)),_0x5a3495=yMetric[_0x37df60(0x1c2)]()[_0x37df60(0x220)](/ /g,'-')[_0x37df60(0x220)](/%/g,_0x37df60(0x1f0)),_0x2858ed=window[_0x37df60(0x239)][_0x37df60(0x166)][_0x5b758d],_0x15c5b3=window[_0x37df60(0x239)]['metrics'][_0x5a3495];xLabel['text'](_0x2858ed||xMetric),yLabel[_0x37df60(0x1ec)](_0x15c5b3||yMetric);}else xLabel[_0x37df60(0x1ec)](xMetric),yLabel[_0x37df60(0x1ec)](yMetric);svg['selectAll']('circle')[_0x37df60(0x161)](),svg[_0x37df60(0x22a)](_0x37df60(0x1c7))[_0x37df60(0x161)](),svg['selectAll'](_0x37df60(0x20e))['remove'](),svg[_0x37df60(0x22a)](_0x37df60(0x1bc))[_0x37df60(0x161)](),svg[_0x37df60(0x22a)](_0x37df60(0x186))[_0x37df60(0x161)](),svg[_0x37df60(0x22a)](_0x37df60(0x23a))[_0x37df60(0x161)](),svg[_0x37df60(0x22a)](_0x37df60(0x176))[_0x37df60(0x161)](),svg[_0x37df60(0x22a)](_0x37df60(0x18c))['remove'](),svg[_0x37df60(0x22a)](_0x37df60(0x216))[_0x37df60(0x161)](),svg[_0x37df60(0x22a)](_0x37df60(0x1e9))[_0x37df60(0x161)](),svg['selectAll']('.median-line')[_0x37df60(0x161)]();if(xMetric===_0x37df60(0x160)&&yMetric===_0x37df60(0x15a)||xMetric===_0x37df60(0x15a)&&yMetric===_0x37df60(0x160)){var _0x32b114=null,_0x51f86b=d3[_0x37df60(0x242)](filteredData,function(_0x5ab183){return _0x5ab183[header['indexOf'](xMetric)];}),_0x4ba0b9=d3[_0x37df60(0x214)](filteredData,function(_0x392d80){return _0x392d80[header['indexOf'](xMetric)];}),_0x3cd1fa=d3[_0x37df60(0x242)](filteredData,function(_0x1b2719){var _0x398fd2=_0x37df60;return _0x1b2719[header[_0x398fd2(0x1cd)](yMetric)];}),_0x5d2619=d3[_0x37df60(0x214)](filteredData,function(_0xc2fcfb){return _0xc2fcfb[header['indexOf'](yMetric)];}),_0x21c20e=Math[_0x37df60(0x242)](_0x4ba0b9,_0x5d2619),_0x5d6dd5=Math[_0x37df60(0x214)](_0x51f86b,_0x3cd1fa);svg[_0x37df60(0x228)]('line')[_0x37df60(0x1e6)](_0x37df60(0x1a3),'xy-line')[_0x37df60(0x1e6)]('x1',xScale(_0x5d6dd5))[_0x37df60(0x1e6)]('y1',yScale(_0x5d6dd5))[_0x37df60(0x1e6)]('x2',xScale(_0x21c20e))['attr']('y2',yScale(_0x21c20e))[_0x37df60(0x203)](_0x37df60(0x23c),_0x37df60(0x222))['style']('stroke-width','2')[_0x37df60(0x203)](_0x37df60(0x210),_0x37df60(0x227)),svg['append'](_0x37df60(0x1ea))['attr'](_0x37df60(0x1a3),_0x37df60(0x204))[_0x37df60(0x1e6)]('x1',xScale(_0x5d6dd5))[_0x37df60(0x1e6)]('y1',yScale(_0x5d6dd5))[_0x37df60(0x1e6)]('x2',xScale(_0x21c20e))[_0x37df60(0x1e6)]('y2',yScale(_0x21c20e))[_0x37df60(0x203)](_0x37df60(0x23c),'transparent')['style'](_0x37df60(0x223),'15')[_0x37df60(0x203)](_0x37df60(0x16c),_0x37df60(0x218))['on']('mouseover',function(){var _0x391ad7=_0x37df60;_0x32b114&&clearTimeout(_0x32b114);var _0x22625e=d3[_0x391ad7(0x221)][_0x391ad7(0x23b)],_0x306c9b=d3['event']['pageY'];_0x32b114=setTimeout(function(){var _0x2d2c42=_0x391ad7;tooltip[_0x2d2c42(0x238)]()[_0x2d2c42(0x169)](0xc8)[_0x2d2c42(0x203)](_0x2d2c42(0x165),0.9);var _0x9e4b1f=_0x2d2c42(0x19a)+getTranslation(_0x2d2c42(0x229),_0x2d2c42(0x1a8))+_0x2d2c42(0x153);xMetric===_0x2d2c42(0x160)&&yMetric===_0x2d2c42(0x15a)?_0x9e4b1f+='<span>'+getTranslation('tooltip.xg-line-above','Teams\x20above\x20this\x20line\x20are\x20scoring\x20more\x20goals\x20than\x20expected.')+_0x2d2c42(0x1fb)+_0x2d2c42(0x1e0)+getTranslation(_0x2d2c42(0x24b),_0x2d2c42(0x1cb))+_0x2d2c42(0x1fe):_0x9e4b1f+=_0x2d2c42(0x1e0)+getTranslation(_0x2d2c42(0x1a4),_0x2d2c42(0x1c3))+_0x2d2c42(0x1fb)+'<span>'+getTranslation(_0x2d2c42(0x235),_0x2d2c42(0x249))+'</span>',tooltip[_0x2d2c42(0x17b)](_0x9e4b1f)[_0x2d2c42(0x203)](_0x2d2c42(0x1f1),_0x22625e+0xa+'px')[_0x2d2c42(0x203)](_0x2d2c42(0x189),_0x306c9b-0x1c+'px');},0x258);})['on'](_0x37df60(0x1c9),function(){var _0x5894ca=_0x37df60;_0x32b114&&(clearTimeout(_0x32b114),_0x32b114=null),tooltip[_0x5894ca(0x238)]()['duration'](0x1f4)[_0x5894ca(0x203)](_0x5894ca(0x165),0x0);});}if(medianLinesVisible){var _0x4beaec=d3[_0x37df60(0x208)](filteredData,function(_0xd0b4ca){var _0x19661a=_0x37df60;return _0xd0b4ca[header[_0x19661a(0x1cd)](xMetric)];}),_0x20d2e=d3[_0x37df60(0x208)](filteredData,function(_0x1024bc){var _0x5ef511=_0x37df60;return _0x1024bc[header[_0x5ef511(0x1cd)](yMetric)];});svg[_0x37df60(0x228)]('line')[_0x37df60(0x1e6)]('class',_0x37df60(0x1e2))[_0x37df60(0x1e6)]('x1',xScale(_0x4beaec))[_0x37df60(0x1e6)]('y1',0x0)[_0x37df60(0x1e6)]('x2',xScale(_0x4beaec))[_0x37df60(0x1e6)]('y2',height)['style']('stroke',_0x37df60(0x23d))[_0x37df60(0x203)](_0x37df60(0x210),'4'),svg['append'](_0x37df60(0x1ea))['attr']('class',_0x37df60(0x1e2))[_0x37df60(0x1e6)]('x1',0x0)[_0x37df60(0x1e6)]('y1',yScale(_0x20d2e))[_0x37df60(0x1e6)]('x2',width)['attr']('y2',yScale(_0x20d2e))[_0x37df60(0x203)]('stroke',_0x37df60(0x23d))[_0x37df60(0x203)]('stroke-dasharray','4');}circles=svg['selectAll'](_0x37df60(0x175))[_0x37df60(0x245)](filteredData)['enter']()['append'](_0x37df60(0x175))[_0x37df60(0x1e6)]('cx',function(_0x5db906){var _0x4fbd26=_0x37df60;return xScale(_0x5db906[header[_0x4fbd26(0x1cd)](xMetric)]);})[_0x37df60(0x1e6)]('cy',function(_0x29eb8e){var _0x596899=_0x37df60;return yScale(_0x29eb8e[header[_0x596899(0x1cd)](yMetric)]);})[_0x37df60(0x1e6)]('r',0x8)['style']('fill',function(_0x3bcc27){var _0x17d3c6=_0x37df60;if(clickedCircles[_0x17d3c6(0x1b0)](_0x3bcc27[0x1]))return getLeagueColor(_0x3bcc27[0x2]);return _0x17d3c6(0x24a);})[_0x37df60(0x203)]('stroke',function(_0x3bda3d){var _0x4c8d47=_0x37df60;return clickedCircles[_0x4c8d47(0x1b0)](_0x3bda3d[0x1])?_0x4c8d47(0x213):'none';})[_0x37df60(0x203)](_0x37df60(0x223),function(_0x40ca85){return clickedCircles['includes'](_0x40ca85[0x1])?0x2:0x0;})[_0x37df60(0x203)](_0x37df60(0x16c),_0x37df60(0x244))['on'](_0x37df60(0x1dc),function(_0x4ce7dd){var _0xff67e9=_0x37df60;d3[_0xff67e9(0x1be)](this)[_0xff67e9(0x238)]()[_0xff67e9(0x169)](0xc8)[_0xff67e9(0x1e6)]('r',0xa)[_0xff67e9(0x203)](_0xff67e9(0x17d),getLeagueColor(_0x4ce7dd[0x2])),tooltip[_0xff67e9(0x238)]()[_0xff67e9(0x169)](0xc8)[_0xff67e9(0x203)](_0xff67e9(0x165),0.9);const _0x46c37f=_0xff67e9(0x196)+xMetric['toLowerCase']()[_0xff67e9(0x220)](/ /g,'-')[_0xff67e9(0x220)](/%/g,_0xff67e9(0x1f0)),_0x186972=_0xff67e9(0x196)+yMetric['toLowerCase']()[_0xff67e9(0x220)](/ /g,'-')[_0xff67e9(0x220)](/%/g,_0xff67e9(0x1f0)),_0x23e995=getTranslation(_0x46c37f,xMetric),_0x37eb6d=getTranslation(_0x186972,yMetric);tooltip['html'](_0xff67e9(0x19a)+_0x4ce7dd[0x1]+_0xff67e9(0x153)+_0x23e995+':\x20'+_0x4ce7dd[header[_0xff67e9(0x1cd)](xMetric)][_0xff67e9(0x185)](0x2)+_0xff67e9(0x18a)+_0x37eb6d+':\x20'+_0x4ce7dd[header[_0xff67e9(0x1cd)](yMetric)]['toFixed'](0x2));const _0x5e1a84=tooltip['node']();if(_0x5e1a84){const _0x233f01=_0x5e1a84['getBoundingClientRect'](),_0x1eb73e=window['innerWidth'],_0x1ab55e=window[_0xff67e9(0x230)];let _0x11a2f4=d3[_0xff67e9(0x221)][_0xff67e9(0x23b)]+0xa,_0x59474f=d3[_0xff67e9(0x221)][_0xff67e9(0x164)]-0x1c;_0x11a2f4+_0x233f01[_0xff67e9(0x15c)]>_0x1eb73e-0xa&&(_0x11a2f4=d3[_0xff67e9(0x221)][_0xff67e9(0x23b)]-_0x233f01[_0xff67e9(0x15c)]-0xa),_0x59474f+_0x233f01[_0xff67e9(0x167)]>_0x1ab55e-0xa&&(_0x59474f=d3[_0xff67e9(0x221)]['pageY']-_0x233f01['height']-0xa),_0x11a2f4=Math[_0xff67e9(0x214)](0xa,_0x11a2f4),_0x59474f=Math['max'](0xa,_0x59474f),tooltip['style'](_0xff67e9(0x1f1),_0x11a2f4+'px')[_0xff67e9(0x203)](_0xff67e9(0x189),_0x59474f+'px');}else tooltip['style'](_0xff67e9(0x1f1),d3[_0xff67e9(0x221)][_0xff67e9(0x23b)]+0xa+'px')[_0xff67e9(0x203)]('top',d3['event'][_0xff67e9(0x164)]-0x1c+'px');window[_0xff67e9(0x1c0)]<=0x300&&setTimeout(function(){var _0x4d3451=_0xff67e9;tooltip[_0x4d3451(0x238)]()[_0x4d3451(0x169)](0xc8)[_0x4d3451(0x203)](_0x4d3451(0x165),0x0);},0x3e8);})['on'](_0x37df60(0x1c9),function(_0x2a76dd){var _0x47c88d=_0x37df60;window[_0x47c88d(0x1c0)]>0x300&&tooltip[_0x47c88d(0x238)]()[_0x47c88d(0x169)](0x1f4)['style'](_0x47c88d(0x165),0x0);var _0x4d10c4=clickedCircles['includes'](_0x2a76dd[0x1]);d3['select'](this)[_0x47c88d(0x238)]()[_0x47c88d(0x169)](0xc8)[_0x47c88d(0x1e6)]('r',0x8)['style'](_0x47c88d(0x17d),function(){var _0x5875af=_0x47c88d;return _0x4d10c4?getLeagueColor(_0x2a76dd[0x2]):_0x5875af(0x24a);});})['on']('click',function(_0x1cc6b9){var _0x3cae64=_0x37df60,_0x3498ab=d3[_0x3cae64(0x1be)](this)[_0x3cae64(0x1c4)](_0x3cae64(0x236));_0x3498ab&&resetSearch();var _0x483d9f=clickedCircles['indexOf'](_0x1cc6b9[0x1]);_0x483d9f===-0x1?(clickedCircles[_0x3cae64(0x1f4)](_0x1cc6b9[0x1]),d3['select'](this)[_0x3cae64(0x203)](_0x3cae64(0x17d),getLeagueColor(_0x1cc6b9[0x2]))[_0x3cae64(0x203)]('stroke',_0x3cae64(0x213))[_0x3cae64(0x203)](_0x3cae64(0x223),0x2),addTeamLabel(_0x1cc6b9)):(clickedCircles[_0x3cae64(0x1ac)](_0x483d9f,0x1),d3[_0x3cae64(0x1be)](this)[_0x3cae64(0x203)](_0x3cae64(0x17d),_0x3cae64(0x24a))[_0x3cae64(0x203)](_0x3cae64(0x23c),_0x3cae64(0x1ef)),svg[_0x3cae64(0x22a)](_0x3cae64(0x162)+_0x1cc6b9[0x1][_0x3cae64(0x220)](/\s+/g,'-')[_0x3cae64(0x1c2)]())[_0x3cae64(0x161)]());updateSelectAllButtonText();var _0x4d8b63=document[_0x3cae64(0x1f6)](_0x3cae64(0x207))[_0x3cae64(0x1f2)];updateLeagueLegend(_0x4d8b63);}),clickedCircles['forEach'](function(_0x518eef){var _0x26db57=_0x37df60,_0x236a05=filteredData[_0x26db57(0x200)](function(_0x16b649){return _0x16b649[0x1]===_0x518eef;});_0x236a05&&addTeamLabel(_0x236a05);}),updateSelectAllButtonText(),updateLeagueLegend(_0x5f0e79);}function updateSelectAllButtonText(){var _0x559822=_0x5243b9,_0x3f1bf1=document[_0x559822(0x1f6)](_0x559822(0x179)),_0x3800e2=document[_0x559822(0x1f6)]('select-all-tooltip'),_0x34fdac=filteredData[_0x559822(0x1d8)](function(_0x34625f){var _0x206a9f=_0x559822;return clickedCircles[_0x206a9f(0x1b0)](_0x34625f[0x1]);});_0x34fdac?(_0x3f1bf1[_0x559822(0x1fc)]='ion-ios-circle-outline',_0x3800e2&&(window[_0x559822(0x239)]&&window[_0x559822(0x239)][_0x559822(0x1fa)]?_0x3800e2['textContent']=window[_0x559822(0x239)]['tooltip'][_0x559822(0x198)]||_0x559822(0x1a7):_0x3800e2[_0x559822(0x1e3)]='Unselect\x20all\x20teams')):(_0x3f1bf1[_0x559822(0x1fc)]=_0x559822(0x246),_0x3800e2&&(window['currentTranslations']&&window[_0x559822(0x239)][_0x559822(0x1fa)]?_0x3800e2[_0x559822(0x1e3)]=window[_0x559822(0x239)]['tooltip'][_0x559822(0x22a)]||_0x559822(0x1b8):_0x3800e2[_0x559822(0x1e3)]=_0x559822(0x1b8)));}selectX['on']('change',updateChart),selectY['on'](_0x5243b9(0x20f),updateChart);function removeSpecialCharsAndDiacritics(_0x512c58){var _0xd8ccb1=_0x5243b9;if(!_0x512c58)return'';return _0x512c58[_0xd8ccb1(0x16b)](_0xd8ccb1(0x1a9))[_0xd8ccb1(0x220)](/[\u0300-\u036f]/g,'')[_0xd8ccb1(0x220)](/Ø/g,'O')[_0xd8ccb1(0x220)](/ø/g,'o');}var searchBar=document[_0x5243b9(0x1f6)](_0x5243b9(0x17a));function _0x3469(){var _0x124752=['slice','extent','font-size','select-x','iconify-icon','.xy-line','change','stroke-dasharray','responseText','ID,Player,Top\x207\x20Leagues,Goals\x20per\x2090,xG\x20per\x2090,Shots\x20on\x20target\x20per\x2090,Shots\x20on\x20target\x20%,Passes\x20completed,Pass\x20accuracy\x20%,Possession\x20%,Positional\x20attacks\x20per\x2090,Counter\x20attacks\x20per\x2090,Touches\x20in\x20the\x20box\x20per\x2090,Goals\x20conceded\x20per\x2090,SoT\x20against\x20per\x2090,Defensive\x20duels\x20per\x2090,Defensive\x20duel\x20%,Aerial\x20duels\x20per\x2090,Aerial\x20duels\x20%,Passes\x20per\x20possession,PPDA\x0a','#000','max','middle','marker#arrow-over,\x20marker#arrow-under','dominant-baseline','help','call','from','scrollIntoView','5907594diuzaS','Enter','rgb(255,\x20140,\x200,\x200.7)','ArrowUp','replace','event','#2ecc71','stroke-width','Bundesliga','split','legend-color','5,3','append','tooltip.xg-line-title','selectAll','querySelectorAll','translate(','add','scaleLinear','9183153EHKgAa','innerHeight','rgba(255,\x200,\x200,\x200.7)','createElement','rotate(-90)','property','tooltip.xg-line-left','search-match','https://datamb.football/database/TEAM/teamplots.csv','transition','currentTranslations','.xy-line-label-bg','pageX','stroke','rgba(0,\x200,\x200,\x200.3)','dark-mode','median-lines-tooltip','Serie\x20A','block','min','#scatter-plot','pointer','data','ion-ios-circle-filled','innerHTML','contains','Teams\x20left\x20of\x20this\x20line\x20are\x20scoring\x20fewer\x20goals\x20than\x20expected.','rgba(70,\x20130,\x20180,\x200.7)','tooltip.xg-line-below','league-select-trigger','</strong><br/>','appendChild','Top\x205\x20Leagues','transform','1020069RESaGT','display','domain','Goals\x20per\x2090','forEach','width','each','500','start','xG\x20per\x2090','remove','.team-label-','auto','pageY','opacity','metrics','height','text-anchor','duration','8ElUXrq','normalize','cursor','key','search-dimmed','node','keydown','font-family','backgroundColor','627280QbTzjS','trim','circle','.performance-label','ArrowDown','text.team-label','select-icon','search-bar','html','right','fill','8px','14px','classList','.chart-wrapper','Show\x20median\x20lines','getAttribute','DOMContentLoaded','toFixed','.xy-line-label','resize','#333','top','<br/>','pow','linearGradient#line-gradient','map','range','y-label','interrupt','bottom','all','rgb(85,\x20209,\x2073,\x200.7)','hanging','tickSize','metrics.','12px','unselectAll','size','<strong>','y-axis','19840728mXckcJ','y-metric-trigger','dispatchEvent','querySelector','x-metric-options','league-legend','click','class','tooltip.xg-line-right','end','option','Unselect\x20all\x20teams','G\x20=\x20xG\x20Line','NFD','data-value','selected','splice','toggle','4962605RKezOP','metric-select-option','includes','parentNode','getBoundingClientRect','.custom-select-options,\x20.metric-select-options','span','cloneNode','bold','showMedianLines','Select\x20all\x20teams','clientWidth','#select-x','getBBox','.xy-line-bg','startsWith','select','font-weight','innerWidth','setAttribute','toLowerCase','Teams\x20right\x20of\x20this\x20line\x20are\x20scoring\x20more\x20goals\x20than\x20expected.','classed','addEventListener','data-i18n','.team-label','findIndex','mouseout','axisLeft','Teams\x20below\x20this\x20line\x20are\x20scoring\x20fewer\x20goals\x20than\x20expected.','.chart-container','indexOf','Ligue\x201','sqrt','anchor','temp-label','marginRight','.custom-select-trigger,\x20.metric-select-trigger','preventDefault','body','x-metric-trigger','Hide\x20median\x20lines','every','fontWeight','35034HfHElo','x-axis','mouseover','rgb(153,\x2050,\x20204,\x200.7)','x-label','La\x20Liga','<span>','legend-item','median-line','textContent','match','rgb(0,\x20191,\x20255,\x200.7)','attr','Inter,\x20sans-serif','Premier\x20League','.xy-line-hover','line','translate(0,','text','input','team-label-','none','pct','left','value','open','push','y-metric-options','getElementById','rgb(255,\x20223,\x200,\x200.7)','axisBottom','filter','tooltip','</span><br/>','className','nice','</span>','div','find','target','apply','style','xy-line-hover','nearest','length','select-league','median'];_0x3469=function(){return _0x124752;};return _0x3469();}searchBar[_0x5243b9(0x1c5)](_0x5243b9(0x1ed),function(){var _0x5c0a08=_0x5243b9,_0x5f3a37=searchBar[_0x5c0a08(0x1f2)][_0x5c0a08(0x1c2)]();if(_0x5f3a37===''){resetSearch();return;}var _0x89c2c3=removeSpecialCharsAndDiacritics(_0x5f3a37);svg[_0x5c0a08(0x22a)]('circle')[_0x5c0a08(0x1c4)](_0x5c0a08(0x236),![])[_0x5c0a08(0x203)]('fill',function(_0x53ee0c){var _0x312209=_0x5c0a08;return clickedCircles[_0x312209(0x1b0)](_0x53ee0c[0x1])?getLeagueColor(_0x53ee0c[0x2]):_0x312209(0x24a);})[_0x5c0a08(0x203)]('stroke',function(_0x1f266c){var _0xe03072=_0x5c0a08;return clickedCircles[_0xe03072(0x1b0)](_0x1f266c[0x1])?_0xe03072(0x213):_0xe03072(0x1ef);})[_0x5c0a08(0x203)](_0x5c0a08(0x223),function(_0x250512){var _0x406c45=_0x5c0a08;return clickedCircles[_0x406c45(0x1b0)](_0x250512[0x1])?0x2:0x0;})[_0x5c0a08(0x203)]('filter',_0x5c0a08(0x1ef))['each'](function(){var _0x54ce41=_0x5c0a08;d3[_0x54ce41(0x1be)](this)[_0x54ce41(0x203)]('r',null);}),svg[_0x5c0a08(0x22a)](_0x5c0a08(0x1c7))[_0x5c0a08(0x1c4)]('search-match',![])['classed'](_0x5c0a08(0x16e),![]);var _0x460986=[];svg['selectAll'](_0x5c0a08(0x175))[_0x5c0a08(0x1f9)](function(_0x442cc7){var _0x1837fb=_0x5c0a08,_0x12e8e5=_0x442cc7[0x1][_0x1837fb(0x1c2)](),_0x3e609c=removeSpecialCharsAndDiacritics(_0x12e8e5),_0x4527a0=_0x12e8e5[_0x1837fb(0x1b0)](_0x5f3a37)||_0x3e609c[_0x1837fb(0x1b0)](_0x89c2c3);return _0x4527a0&&_0x460986['push'](_0x442cc7[0x1]),_0x4527a0;})['classed'](_0x5c0a08(0x236),!![])[_0x5c0a08(0x15d)](function(){var _0x80956f=_0x5c0a08;this[_0x80956f(0x1b1)][_0x80956f(0x154)](this);}),_0x460986[_0x5c0a08(0x206)]>0x0?(svg[_0x5c0a08(0x22a)](_0x5c0a08(0x1c7))[_0x5c0a08(0x1c4)](_0x5c0a08(0x16e),!![]),svg[_0x5c0a08(0x22a)](_0x5c0a08(0x1c7))[_0x5c0a08(0x1f9)](function(){var _0x4dfbfc=_0x5c0a08,_0x5672da=d3[_0x4dfbfc(0x1be)](this)[_0x4dfbfc(0x1ec)]();return _0x460986[_0x4dfbfc(0x1b0)](_0x5672da);})['classed'](_0x5c0a08(0x236),!![])[_0x5c0a08(0x1c4)](_0x5c0a08(0x16e),![])[_0x5c0a08(0x15d)](function(){var _0x2c23c9=_0x5c0a08;this[_0x2c23c9(0x1b1)]['appendChild'](this);}),_0x460986['forEach'](function(_0x53fc45){var _0x3debb7=_0x5c0a08,_0x566d3d=_0x3debb7(0x1ee)+_0x53fc45[_0x3debb7(0x220)](/\s+/g,'-')[_0x3debb7(0x1c2)]();if(svg[_0x3debb7(0x1be)]('.'+_0x566d3d)[_0x3debb7(0x199)]()===0x0){var _0x1af2e3=filteredData[_0x3debb7(0x200)](function(_0x4ae7e6){return _0x4ae7e6[0x1]===_0x53fc45;});_0x1af2e3&&(addTeamLabel(_0x1af2e3),svg[_0x3debb7(0x1be)]('.'+_0x566d3d)['classed'](_0x3debb7(0x236),!![]));}})):(svg[_0x5c0a08(0x22a)](_0x5c0a08(0x1c7))[_0x5c0a08(0x15d)](function(){var _0x54c010=_0x5c0a08,_0x463d3a=d3['select'](this),_0x5dc5d5=_0x463d3a[_0x54c010(0x1ec)]();!clickedCircles[_0x54c010(0x1b0)](_0x5dc5d5)&&_0x463d3a[_0x54c010(0x161)]();}),svg[_0x5c0a08(0x22a)](_0x5c0a08(0x175))['style']('fill',function(_0x515082){var _0x56b1aa=_0x5c0a08;return clickedCircles[_0x56b1aa(0x1b0)](_0x515082[0x1])?getLeagueColor(_0x515082[0x2]):'rgba(70,\x20130,\x20180,\x200.7)';})['style'](_0x5c0a08(0x23c),function(_0x4cc0d8){var _0x5e5c6c=_0x5c0a08;return clickedCircles[_0x5e5c6c(0x1b0)](_0x4cc0d8[0x1])?'#000':'none';})[_0x5c0a08(0x203)]('stroke-width',function(_0x46c8a2){var _0x47f1e2=_0x5c0a08;return clickedCircles[_0x47f1e2(0x1b0)](_0x46c8a2[0x1])?0x2:0x0;}));});function resetSearch(){var _0x1543a2=_0x5243b9;searchBar[_0x1543a2(0x1f2)]='',svg['selectAll'](_0x1543a2(0x175))['classed'](_0x1543a2(0x236),![])[_0x1543a2(0x203)](_0x1543a2(0x17d),function(_0x44d544){var _0x34e955=_0x1543a2;return clickedCircles['includes'](_0x44d544[0x1])?getLeagueColor(_0x44d544[0x2]):_0x34e955(0x24a);})[_0x1543a2(0x203)](_0x1543a2(0x23c),function(_0x24c66c){var _0x36f0d4=_0x1543a2;return clickedCircles[_0x36f0d4(0x1b0)](_0x24c66c[0x1])?_0x36f0d4(0x213):_0x36f0d4(0x1ef);})[_0x1543a2(0x203)]('stroke-width',function(_0x3e553a){var _0x3d8652=_0x1543a2;return clickedCircles[_0x3d8652(0x1b0)](_0x3e553a[0x1])?0x2:0x0;})[_0x1543a2(0x203)](_0x1543a2(0x1f9),'none')[_0x1543a2(0x15d)](function(){var _0x25a676=_0x1543a2;d3[_0x25a676(0x1be)](this)[_0x25a676(0x203)]('r',null),d3['select'](this)[_0x25a676(0x190)]();}),svg[_0x1543a2(0x22a)](_0x1543a2(0x1c7))[_0x1543a2(0x1c4)]('search-match',![])['classed'](_0x1543a2(0x16e),![])[_0x1543a2(0x15d)](function(){var _0x4aebeb=_0x1543a2;d3[_0x4aebeb(0x1be)](this)[_0x4aebeb(0x190)]();}),svg[_0x1543a2(0x22a)](_0x1543a2(0x1c7))[_0x1543a2(0x15d)](function(){var _0x1b48bd=_0x1543a2,_0x1d6f5b=d3[_0x1b48bd(0x1be)](this),_0x6fa42d=_0x1d6f5b[_0x1b48bd(0x1ec)]();!clickedCircles[_0x1b48bd(0x1b0)](_0x6fa42d)&&_0x1d6f5b[_0x1b48bd(0x161)]();});}var toggleButton=document[_0x5243b9(0x1f6)]('toggle-median-lines');toggleButton[_0x5243b9(0x1c5)](_0x5243b9(0x1a2),function(){var _0x565076=_0x5243b9;medianLinesVisible=!medianLinesVisible,updateChart();const _0x114762=document[_0x565076(0x1f6)](_0x565076(0x23f));window['currentTranslations']&&window[_0x565076(0x239)][_0x565076(0x1fa)]?_0x114762[_0x565076(0x1e3)]=medianLinesVisible?window[_0x565076(0x239)][_0x565076(0x1fa)]['hideMedianLines']||_0x565076(0x1d7):window[_0x565076(0x239)][_0x565076(0x1fa)][_0x565076(0x1b7)]||_0x565076(0x182):_0x114762['textContent']=medianLinesVisible?'Hide\x20median\x20lines':'Show\x20median\x20lines';});function selectAllCircles(){var _0x11fa0d=_0x5243b9,_0x5cfe42=filteredData['every'](function(_0x3b5b0f){return clickedCircles['includes'](_0x3b5b0f[0x1]);});_0x5cfe42?(clickedCircles=[],svg['selectAll'](_0x11fa0d(0x175))['style'](_0x11fa0d(0x17d),_0x11fa0d(0x24a))[_0x11fa0d(0x203)](_0x11fa0d(0x23c),'none'),svg[_0x11fa0d(0x22a)](_0x11fa0d(0x1c7))[_0x11fa0d(0x161)]()):(svg[_0x11fa0d(0x22a)]('circle')[_0x11fa0d(0x15d)](function(_0x1bf6b5){var _0x4fa37b=_0x11fa0d;!clickedCircles[_0x4fa37b(0x1b0)](_0x1bf6b5[0x1])&&(clickedCircles[_0x4fa37b(0x1f4)](_0x1bf6b5[0x1]),d3[_0x4fa37b(0x1be)](this)[_0x4fa37b(0x203)](_0x4fa37b(0x17d),getLeagueColor(_0x1bf6b5[0x2]))[_0x4fa37b(0x203)](_0x4fa37b(0x23c),'#000')['style'](_0x4fa37b(0x223),0x2));}),filteredData['forEach'](function(_0x56cdb0){addTeamLabel(_0x56cdb0);}));updateSelectAllButtonText();var _0x3c9add=document[_0x11fa0d(0x1f6)](_0x11fa0d(0x207))[_0x11fa0d(0x1f2)];updateLeagueLegend(_0x3c9add);}updateChart(),initializeCustomSelectors();function updateLeagueLegend(_0x3e5d12){var _0x2704a0=_0x5243b9,_0x30fe7b=document[_0x2704a0(0x1f6)](_0x2704a0(0x1a1));if(_0x3e5d12!=='all'&&_0x3e5d12!==_0x2704a0(0x155)){_0x30fe7b[_0x2704a0(0x203)][_0x2704a0(0x158)]=_0x2704a0(0x1ef);return;}if(clickedCircles[_0x2704a0(0x206)]===0x0){_0x30fe7b[_0x2704a0(0x203)][_0x2704a0(0x158)]=_0x2704a0(0x1ef);return;}var _0x3fe05f=![];for(var _0xcf7bbd=0x0;_0xcf7bbd<filteredData[_0x2704a0(0x206)];_0xcf7bbd++){if(clickedCircles[_0x2704a0(0x1b0)](filteredData[_0xcf7bbd][0x1])){_0x3fe05f=!![];break;}}if(!_0x3fe05f){_0x30fe7b[_0x2704a0(0x203)]['display']='none';return;}_0x30fe7b['style'][_0x2704a0(0x158)]='flex',_0x30fe7b[_0x2704a0(0x247)]='';var _0x519069=document['createElement']('div');_0x519069['style'][_0x2704a0(0x1d9)]=_0x2704a0(0x1b6),_0x519069[_0x2704a0(0x203)][_0x2704a0(0x1d2)]='15px',_0x30fe7b['appendChild'](_0x519069);var _0xddb35a=[];if(_0x3e5d12===_0x2704a0(0x192))_0xddb35a=Object['keys'](leagueColors);else _0x3e5d12===_0x2704a0(0x155)&&(_0xddb35a=[_0x2704a0(0x1e8),_0x2704a0(0x1df),_0x2704a0(0x224),_0x2704a0(0x240),'Ligue\x201']);_0xddb35a['forEach'](function(_0x1e9c8e){var _0x3a8f7a=_0x2704a0,_0x3b046e=document['createElement'](_0x3a8f7a(0x1ff));_0x3b046e['className']=_0x3a8f7a(0x1e1);var _0x470e52=document[_0x3a8f7a(0x232)](_0x3a8f7a(0x1ff));_0x470e52[_0x3a8f7a(0x1fc)]=_0x3a8f7a(0x226),_0x470e52[_0x3a8f7a(0x203)][_0x3a8f7a(0x172)]=leagueColors[_0x1e9c8e];var _0x227eca=document[_0x3a8f7a(0x232)]('span');_0x227eca[_0x3a8f7a(0x1e3)]=_0x1e9c8e,_0x3b046e[_0x3a8f7a(0x154)](_0x470e52),_0x3b046e[_0x3a8f7a(0x154)](_0x227eca),_0x30fe7b[_0x3a8f7a(0x154)](_0x3b046e);});}function addTeamLabel(_0x3bd1b0,_0x12d390){var _0xda82b8=_0x5243b9,_0x1d88b8=xScale(_0x3bd1b0[header['indexOf'](xMetric)]),_0xf45f44=yScale(_0x3bd1b0[header['indexOf'](yMetric)]),_0x1b1657=_0xda82b8(0x1ee)+_0x3bd1b0[0x1][_0xda82b8(0x1c2)]()['replace'](/\s+/g,'-');if(svg[_0xda82b8(0x1be)]('.'+_0x1b1657)[_0xda82b8(0x199)]()>0x0)return;var _0x41cf15=svg[_0xda82b8(0x228)]('text')[_0xda82b8(0x1e6)](_0xda82b8(0x1a3),_0xda82b8(0x1d1))[_0xda82b8(0x1ec)](_0x3bd1b0[0x1])[_0xda82b8(0x203)]('font-family',_0xda82b8(0x1e7))[_0xda82b8(0x203)](_0xda82b8(0x20b),_0xda82b8(0x197))[_0xda82b8(0x203)](_0xda82b8(0x165),0x0),_0x406505=_0x41cf15[_0xda82b8(0x16f)]()['getComputedTextLength']();_0x41cf15[_0xda82b8(0x161)]();var _0x15a008=[{'dx':0x8,'dy':0x0,'anchor':'start'},{'dx':-0x8,'dy':0x0,'anchor':'end'},{'dx':0x0,'dy':-0x8,'anchor':_0xda82b8(0x215)},{'dx':0x0,'dy':0x8,'anchor':_0xda82b8(0x215)}],_0x47c8f1=[];svg[_0xda82b8(0x22a)](_0xda82b8(0x178))[_0xda82b8(0x15d)](function(){var _0x425bbd=_0xda82b8,_0x278791=this[_0x425bbd(0x1bb)]();_0x47c8f1['push']({'x1':_0x278791['x']-0x2,'y1':_0x278791['y']-0x2,'x2':_0x278791['x']+_0x278791[_0x425bbd(0x15c)]+0x2,'y2':_0x278791['y']+_0x278791[_0x425bbd(0x167)]+0x2});});var _0x5e2da1=null,_0x44ce81=0xc,_0x5934ee=width,_0x320aa6=height;if(!_0x12d390){for(var _0x5d1ec3=0x0;_0x5d1ec3<_0x15a008['length'];_0x5d1ec3++){var _0xc432ab=_0x15a008[_0x5d1ec3],_0x2a6d3d=_0x1d88b8+_0xc432ab['dx'],_0x509daa=_0xf45f44+_0xc432ab['dy'],_0x47ae54={'x1':_0xc432ab[_0xda82b8(0x1d0)]===_0xda82b8(0x1a5)?_0x2a6d3d-_0x406505:_0xc432ab['anchor']===_0xda82b8(0x215)?_0x2a6d3d-_0x406505/0x2:_0x2a6d3d,'y1':_0xc432ab['dy']<0x0?_0x509daa-_0x44ce81:_0x509daa,'x2':_0xc432ab[_0xda82b8(0x1d0)]==='start'?_0x2a6d3d+_0x406505:_0xc432ab[_0xda82b8(0x1d0)]===_0xda82b8(0x215)?_0x2a6d3d+_0x406505/0x2:_0x2a6d3d,'y2':_0xc432ab['dy']<0x0?_0x509daa:_0x509daa+_0x44ce81};if(_0x47ae54['x1']<0x0||_0x47ae54['x2']>_0x5934ee||_0x47ae54['y1']<0x0||_0x47ae54['y2']>_0x320aa6)continue;var _0x1d9f0c=![];for(var _0xe2df7c=0x0;_0xe2df7c<_0x47c8f1[_0xda82b8(0x206)];_0xe2df7c++){var _0x5a0523=_0x47c8f1[_0xe2df7c];if(!(_0x47ae54['x2']<_0x5a0523['x1']||_0x47ae54['x1']>_0x5a0523['x2']||_0x47ae54['y2']<_0x5a0523['y1']||_0x47ae54['y1']>_0x5a0523['y2'])){_0x1d9f0c=!![];break;}}if(!_0x1d9f0c){_0x5e2da1=_0xc432ab;break;}}if(!_0x5e2da1){var _0x537744=0x32,_0x11abaa=0x0;_0x47c8f1[_0xda82b8(0x15b)](function(_0x339897){var _0x5a2d2c=_0xda82b8,_0x5888eb=(_0x339897['x1']+_0x339897['x2'])/0x2,_0x97a49b=(_0x339897['y1']+_0x339897['y2'])/0x2,_0x9d010f=Math[_0x5a2d2c(0x1cf)](Math[_0x5a2d2c(0x18b)](_0x5888eb-_0x1d88b8,0x2)+Math[_0x5a2d2c(0x18b)](_0x97a49b-_0xf45f44,0x2));_0x9d010f<_0x537744&&_0x11abaa++;});if(_0x11abaa>0x3)return;}}if(!_0x5e2da1){_0x5e2da1=_0x15a008[0x0];var _0x2a6d3d=_0x1d88b8+_0x5e2da1['dx'],_0x509daa=_0xf45f44+_0x5e2da1['dy'],_0x47ae54={'x1':_0x5e2da1['anchor']===_0xda82b8(0x1a5)?_0x2a6d3d-_0x406505:_0x5e2da1['anchor']===_0xda82b8(0x215)?_0x2a6d3d-_0x406505/0x2:_0x2a6d3d,'y1':_0x5e2da1['dy']<0x0?_0x509daa-_0x44ce81:_0x509daa,'x2':_0x5e2da1[_0xda82b8(0x1d0)]===_0xda82b8(0x15f)?_0x2a6d3d+_0x406505:_0x5e2da1[_0xda82b8(0x1d0)]===_0xda82b8(0x215)?_0x2a6d3d+_0x406505/0x2:_0x2a6d3d,'y2':_0x5e2da1['dy']<0x0?_0x509daa:_0x509daa+_0x44ce81};if(_0x47ae54['x1']<0x0)_0x5e2da1=_0x15a008[0x0];else _0x47ae54['x2']>_0x5934ee&&(_0x5e2da1=_0x15a008[0x1]);if(_0x47ae54['y1']<0x0)_0x5e2da1=_0x15a008[0x3];else _0x47ae54['y2']>_0x320aa6&&(_0x5e2da1=_0x15a008[0x2]);}var _0x92be3f=svg[_0xda82b8(0x228)](_0xda82b8(0x1ec))[_0xda82b8(0x1e6)](_0xda82b8(0x1a3),'team-label\x20'+_0x1b1657)[_0xda82b8(0x1e6)]('x',_0x1d88b8+_0x5e2da1['dx'])[_0xda82b8(0x1e6)]('y',_0xf45f44+_0x5e2da1['dy'])[_0xda82b8(0x1e6)](_0xda82b8(0x168),_0x5e2da1['anchor'])[_0xda82b8(0x1e6)](_0xda82b8(0x217),_0x5e2da1['dy']<0x0?_0xda82b8(0x163):_0xda82b8(0x194))[_0xda82b8(0x1ec)](_0x3bd1b0[0x1])['style'](_0xda82b8(0x171),_0xda82b8(0x1e7))['style'](_0xda82b8(0x20b),'12px')[_0xda82b8(0x203)](_0xda82b8(0x1bf),_0xda82b8(0x15e))[_0xda82b8(0x203)]('fill',_0xda82b8(0x188));_0x12d390&&_0x92be3f['classed']('search-match',!![]);var _0x1266ef=_0x92be3f['node']()['getBBox']();_0x47c8f1[_0xda82b8(0x1f4)]({'x1':_0x1266ef['x']-0x2,'y1':_0x1266ef['y']-0x2,'x2':_0x1266ef['x']+_0x1266ef[_0xda82b8(0x15c)]+0x2,'y2':_0x1266ef['y']+_0x1266ef['height']+0x2});}document[_0x5243b9(0x1c5)](_0x5243b9(0x184),function(){var _0x21947e=_0x5243b9;const _0x4e171c=document[_0x21947e(0x1f6)]('median-lines-tooltip');_0x4e171c[_0x21947e(0x1e3)]=medianLinesVisible?'Hide\x20median\x20lines':_0x21947e(0x182);});
    </script>
  <script>



        // Global translation helper function
        function getTranslation(key, defaultText) {
            // Split the key into parts (e.g., "tooltip.xg-line-title" -> ["tooltip", "xg-line-title"])
            const keys = key.split('.');
            
            // Try to find the translation in the current language
            try {
                let currentTranslations = window.currentTranslations || {};
                for (const k of keys) {
                    if (currentTranslations && currentTranslations[k]) {
                        currentTranslations = currentTranslations[k];
                    } else {
                        return defaultText;
                    }
                }
                return currentTranslations;
            } catch (e) {
                return defaultText;
            }
        }
        
    
   function setLanguage(language) {
    localStorage.setItem('preferredLanguage', language);
    const url = new URL(window.location.href);
    if (language === 'en') {
      url.searchParams.delete('lang');
      applyLanguage('xx');
    } else {
      url.searchParams.set('lang', language);
      applyLanguage(language);
    }
    window.history.pushState({}, '', url);
  }
  
  function getPreferredLanguage() {
    // PRIORITY 1: Check URL parameter first
    const urlParams = new URLSearchParams(window.location.search);
    const langParam = urlParams.get('lang');
    if (langParam) {
      return langParam;
    }
    // PRIORITY 2: Check localStorage
    const storedLang = localStorage.getItem('preferredLanguage');
    if (storedLang) {
      return storedLang;
    }
    // PRIORITY 3: Use browser language
    return getBrowserLanguage() || 'en';
  }

  function getBrowserLanguage() {
return navigator.language.slice(0, 2);
}

let cachedTranslations = {};
function translatePosition(position) {
const currentLang = getPreferredLanguage();
if (currentLang === 'en') {
return position;}
const positionKey = position.toLowerCase();

if (cachedTranslations[currentLang] &&
    cachedTranslations[currentLang].positions &&
    cachedTranslations[currentLang].positions[positionKey]) {
  return cachedTranslations[currentLang].positions[positionKey];
}
return position;

}

function applyLanguage(language) {
console.log(language);

if (language === 'en') {
return;
}

    
    fetch(`locales/${language}.json`)
      .then(response => {
        // Don't throw an error, just return null if response is not OK
        return response.ok ? response.json() : null;
      })
      .then(translations => {
        // Only proceed if translations exist
  if (translations) {
    cachedTranslations[language] = translations;
      window.currentTranslations = translations;
          document.querySelectorAll('[data-i18n]').forEach(element => {
            const keys = element.getAttribute('data-i18n').split('.');
            let value = translations;
            for (const key of keys) {
              if (value === undefined || value === null) break;
              value = value[key];
            }
            if (value) {
              if (element.tagName === 'META') {
              element.setAttribute('content', value);
          } else if (element.tagName === 'INPUT') {
              element.setAttribute('placeholder', value);
          } else if (value.includes('<')) {
              element.innerHTML = value;
          } else {
              element.textContent = value;
          }          }
          });
          // REMOVE FOR PAGES WITH NO METADATA
          document.querySelector('meta[name="language"]').setAttribute('content', language);
        }
      })
      .catch(() => {
        // Completely empty catch block to silently ignore any errors
      });
  }
  
  const preferredLanguage = getPreferredLanguage();
  applyLanguage(preferredLanguage);
  
  // BUTTON LANGUAGE SWITCHER REMOVE FOR PAGES WITH NO LANGUAGE SWITCHER
  document.addEventListener('DOMContentLoaded', function() {
    const languageButton = document.getElementById('languageButton');
    const languageDropdown = document.getElementById('languageDropdown');
    

    if (languageButton) {
      languageButton.addEventListener('click', function(e) {
        e.stopPropagation();
        languageDropdown.classList.toggle('show');
      });
    }
  
    document.querySelectorAll('.language-option').forEach(option => {
      option.addEventListener('click', function(e) {
        e.preventDefault();
        const lang = this.getAttribute('href').split('=')[1];
        setLanguage(lang);
        languageDropdown.classList.remove('show');
      });
    });
  
    document.addEventListener('click', function(event) {
      if (!event.target.closest('.language-switcher-container')) {
        if (languageDropdown) {
          languageDropdown.classList.remove('show');
        }
      }
    });
  });


function toggleDarkMode() {
            const body = document.querySelector("body");
            body.classList.toggle("dark-mode");
            
            // Store the user's preference in local storage
            const isDarkMode = body.classList.contains("dark-mode");
            localStorage.setItem("darkMode", isDarkMode);
            
            // Update chart to apply dark mode styles to SVG elements
        }
        
        // Check if user has a stored preference for dark mode
        document.addEventListener('DOMContentLoaded', function() {
            const storedDarkMode = localStorage.getItem("darkMode");
            
            if (storedDarkMode === "true") {
                const body = document.querySelector("body");
                body.classList.add("dark-mode");
            }
            
 
        });
        
        function takeScreenshot() {
            const chartContainer = document.querySelector('.chart-container');
            const isDarkMode = document.body.classList.contains('dark-mode');
            
            html2canvas(chartContainer, {
                scale: 2, // Higher quality
                backgroundColor: isDarkMode ? '#2c2c2c' : '#FFFFFF',
                allowTaint: true,
                useCORS: true,
                logging: false
            }).then(function(renderedCanvas) {
                const finalCanvas = document.createElement('canvas');
                finalCanvas.width = renderedCanvas.width;
                finalCanvas.height = renderedCanvas.height;
                const finalCtx = finalCanvas.getContext('2d');
                finalCtx.drawImage(renderedCanvas, 0, 0);
                
                // Load the watermark
                const watermarkImg = new Image();
                watermarkImg.crossOrigin = "Anonymous";
                
                watermarkImg.onload = function() {
                    const watermarkWidth = finalCanvas.width * 0.3;
                    const watermarkHeight = (watermarkWidth / watermarkImg.width) * watermarkImg.height;
                    
                    const x = (finalCanvas.width - watermarkWidth) / 2;
                    const y = (finalCanvas.height - watermarkHeight) / 2;
                    
                    finalCtx.save();
                    finalCtx.globalAlpha = 0.04;
                    finalCtx.drawImage(watermarkImg, x, y, watermarkWidth, watermarkHeight);
                    finalCtx.restore();
                    
                    const dataURL = finalCanvas.toDataURL('image/png', 1.0);
                    const link = document.createElement('a');
                    link.download = 'DataMB Screenshot.png';
                    link.href = dataURL;
                    link.click();
                };
                watermarkImg.src = 'https://datamb.football/logo.png';
            }).catch(function(error) {
            });
        }
        
    </script>
         <center>
            <!-- radarplotsearch -->
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-7677714701428206"
                 data-ad-slot="6673239737"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script></center>
</body>
</html>
