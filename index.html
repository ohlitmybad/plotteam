<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <meta name="language" content="en">
    <link rel="canonical" href="https://datamb.football/plotteam/" />
<link rel="alternate" hreflang="x-default" href="https://datamb.football/plotteam"/>
<link rel="alternate" hreflang="en" href="https://datamb.football/plotteam/?lang=en" />
    <link rel="shortcut icon" type="image/x-icon" href="https://datamb.football/favicon.ico">
    <meta name="description" data-i18n="meta.description" content="Plot Top 7 League team statistics. Visualize team performance and analyze multiple metrics such as Goals, Goals conceded, xG, Shots on target, Pressing, Defensive duels, Pass completion and more for teams in Premier League, La Liga, Bundesliga, Serie A, Ligue 1, Eredivisie, Primeira Liga.">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@DataMB_">
    <meta name="twitter:title" content="DataMB | Plot Teams">
    <meta name="twitter:description" content="Generate scatter plots for Top 7 League teams">
    <meta name="twitter:image" content="https://datamb.football/vignettes/teamplots.png">
    <meta property="og:image" content="https://datamb.football/vignettes/teamplots.png">
    <title data-i18n="meta.title">DataMB | Plot Teams</title>
    <script>
        (function() {
            var width = window.innerWidth;
            var viewportMeta = document.querySelector('meta[name="viewport"]');
            if (viewportMeta) {
      if (width < 645) {
                
            var initialScale = width / 645;
      viewportMeta.setAttribute('content', 'width=device-width, initial-scale=' + initialScale + ', user-scalable=no');
      } else {
                  var fixedScale = 1;
          viewportMeta.setAttribute('content', 'width=device-width, initial-scale=' + fixedScale + ', user-scalable=no');
      
        }
          } 
      })();
      </script>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --background-color: #f5f7fa;
            --container-bg: #ffffff;
            --text-color: #333333;
            --border-color: #e0e0e0;
            --hover-color: #f0f0f0;
            --button-color: #3498db;
            --button-text: #ffffff;
            --header-bg: #ffffff;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .dark-mode {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --background-color: #0e0f0f;
            --container-bg: #1a1a1a;
            --text-color: #e0e0e0;
            --border-color: #333333;
            --hover-color: #252525;
            --button-color: #2980b9;
            --button-text: #ffffff;
            --header-bg: #0e0f0f;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s;
        }

        .header {
            background-color: var(--header-bg);
            display: flex;
            padding: 20px;
            align-items: center;
            justify-content: space-between;
            box-shadow: var(--shadow);
            position: relative;
            font-family: system-ui;
            top: 0;
            z-index: 100;
        }


        .container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
            box-sizing: border-box;
        }

        /* Replace plot-container with a simpler structure */
        .chart-wrapper {
            background-color: var(--container-bg);
            border-radius: 10px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 30px;
            position: relative;
            width: 100%;
        }

        .legend {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            padding: 10px;
            border-top: 1px solid var(--border-color);
            width: 100%;
        }

        .legend-item {
            display: flex;
            align-items: center;
            font-size: 12px;
        }

        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 5px;
            border: 1px solid rgba(0, 0, 0, 0.2);
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 20px;
            justify-content: center;
            align-items: center;
        }

        select, input {
            padding: 8px 12px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            background-color: var(--container-bg);
            color: var(--text-color);
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            transition: border-color 0.2s;
            height: 36px;
            box-sizing: border-box;
        }

        select:focus, input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        /* Ensure consistent height for controls in the same row */
        select, input, .btn:not(.btn-icon), .custom-select-trigger, .metric-select-trigger {
            height: 36px;
            box-sizing: border-box;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            background-color: var(--button-color);
            color: var(--button-text);
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
            height: 36px;
            box-sizing: border-box;
        }

        .btn:hover {
            background-color: #2980b9;
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-color);
        }

        .btn-outline:hover {
            background-color: var(--hover-color);
        }

        .btn-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            padding: 0;
            border-radius: 6px;
        }

        #search-bar, #select-league {
            width: 178px;
        }

        #select-x, #select-y {
            width: 190px;
        }

        /* Add tooltip for icon buttons */
        .btn-icon .icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
        }

        .btn-icon i {
            font-size: 18px;
        }
        .chart-container {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            margin-top: 30px; /* Consistent spacing from controls */
        }

        #scatter-plot {
            width: 100%;
            height: auto; /* Height will be set dynamically */
            display: block;
            margin: 0 auto;
            max-width: 1082px;
        }
        
  

        .tooltip {
            position: absolute;
            background-color: var(--container-bg);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 10px;
            font-size: 12px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
            box-shadow: var(--shadow);
            z-index: 1000;
        }

        /* Custom button tooltips */
        .btn-tooltip {
            position: relative;
            display: inline-block;
        }

        .btn-tooltip .btn-tooltip-text {
            visibility: hidden;
            width: 120px;
            background-color: var(--container-bg);
            color: var(--text-color);
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1001;
            bottom: 125%;
            left: 50%;
            margin-left: -60px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 12px;
            font-weight: normal;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            pointer-events: none;
        }

        /* Hide button tooltips on mobile */
        @media (max-width: 768px) {
            .btn-tooltip .btn-tooltip-text {
                display: none;
            }
        }

        .btn-tooltip .btn-tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--border-color) transparent transparent transparent;
        }

        .btn-tooltip:hover .btn-tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        .player-name {
            font-size: 12px;
            font-weight: 500;
        }

        circle {
            cursor: pointer;
            transition: r 0.2s, fill 0.2s;
        }


        /* Add new styles for better search highlighting */
        circle.search-match {
            fill: #ff3366 !important; /* Bright pink fill */
            stroke: #ffffff;
            stroke-width: 2px;
            filter: drop-shadow(0 0 5px rgba(255, 51, 102, 0.7));
            animation: circlePulse 1.5s infinite ease-in-out;
        }

        .dark-mode circle.search-match {
            stroke: #000000;
        }

        @keyframes circlePulse {
            0% { r: 6; }
            50% { r: 9; }
            100% { r: 6; }
        }

        .team-label.search-match {
            font-weight: 700 !important;
            fill: #ff3366 !important;
            filter: drop-shadow(0 0 2px rgba(255, 255, 255, 1));
            opacity: 1 !important;
            animation: labelPulse 1.5s infinite ease-in-out;
        }

        @keyframes labelPulse {
            0% { font-size: 12px; }
            50% { font-size: 14px; }
            100% { font-size: 12px; }
        }

        .dark-mode .team-label.search-match {
            filter: drop-shadow(0 0 2px rgba(0, 0, 0, 1));
        }

        .team-label.search-dimmed {
            opacity: 0 !important;
        }

        .team-label {
            pointer-events: none;
            text-shadow: 0px 0px 2px white, 0px 0px 2px white, 0px 0px 2px white, 0px 0px 2px white;
        }

        .dark-mode .team-label {
            fill: #f5f5f5 !important;
            text-shadow: 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a;
        }

        .dark-mode-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--container-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--shadow);
            z-index: 100;
            transition: background-color 0.3s;
        }

        .toggle-icon::before {
            font-family: "Ionicons";
            content: "\f467";
            font-size: 20px;
            color: var(--text-color);
        }

        .dark-mode .toggle-icon::before {
            content: "\f3b0";
        }

        @media (max-width: 768px) {
  
            
  .chart-wrapper {
      padding: 15px;
  }
  
  
  /* Remove fixed height for scatter plot - now handled by updateChartDimensions */
  #scatter-plot {
      min-height: 500px; /* Minimum height for mobile */
  }
  
  select, input {
      width: 100%;
  }
  
  
  /* Make text elements more readable on mobile */
  .x-label, .y-label {
      font-size: 12px;
  }
  
  /* Adjust tooltip position for mobile */
  .tooltip {
      max-width: 80%;
  }
}

        /* Styles for the diagonal reference line */
        .dark-mode .xy-line {
            stroke: #3cb371; /* Slightly different green for dark mode */
        }


  
  .search-input-modal {
      display: none;
      position: fixed; 
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7); 
      z-index: 999; 
  }
  
  .search-input-container {
      position: absolute;
      top: 30%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #fff;
      padding: 20px;
      border-radius: 4px;
      z-index: 1000; 
  }
  
  #searchInput {
              width: 370px;
              padding: 12px;
              border: 3px solid #ccc;
              border-radius: 4px;
              font-size: 18.3px;
              outline: none;
              height: 50px;
              color: #000000;
              background-color: #fff;
              ;          }
  
          #autocompleteBox {
              width: 370px;
              max-height: 150px;
              overflow-y: auto;
              background-color: #fff;
          }
  
  
          #autocompleteBox ul {
              list-style: none;
              padding: 0;
              margin: 0;
          }
  
          #autocompleteBox li {
              margin: 0;
              padding: 5px;
          }
  
          #autocompleteBox {
              line-height: 2; 
              text-align: center !important;
  
          }
  
          #autocompleteBox a {
              text-decoration: none;
              font-family: Arial, sans-serif;
              text-align: center !important;
              color: #333 !important;
              cursor: pointer; 
          }
  
          #autocompleteBox li:hover {
              background-color: #f0f0f0;
          }
          #searchButton3 {
            padding: 8.5px;  /* Reduced from 10px */
  background-color: #0074d9;
  color: #fff;
  border: none;
  width: 34px;  /* Reduced from 40px */
  height: 34px;  /* Reduced from 40px */
  border-radius: 50%;
  cursor: pointer;
  font-size: 17px;  /* Reduced from 20px */
  }


  body.dark-mode .header .button10 {
      color: #aeaeae;
}
body.dark-mode .header .button10:hover {
  color: #2563eb;
background-color: #ffffff;
}

    body.dark-mode header a {
      color: #aeaeae;
}

body.dark-mode .header .logo img {
  opacity: 0.88;
}


body.dark-mode .language-button {
      background-color: #0F0F0E;
      color: #aeaeae;
}

body.dark-mode .language-button:hover {
      background-color: #0F0F0E;
      color: #aeaeae;
}



  

.header .logo {
  display: flex;
  align-items: center;
  margin-right: auto; /* Push logo to the left */
}

.header .logo img {
  height: 34px;
  width: auto;
  opacity: 0.84;
}
.header .logo-text {
  margin-left: 10px;
  font-size: 23px;
  font-weight: 600;
  transform: translateY(-1.1px); /* Move logo text slightly higher */
}

.header .navigation {
  display: flex;
  align-items: center;
  gap: 25px; /* Reduced gap between buttons */
  position: absolute;
  left: 50%;
  transform: translateX(-50%) translateY(-2px); /* Center the navigation and move it higher */
}



.header .button10 {
  padding: 0.5rem 1rem;
  text-decoration: none;
  color: #333;
  line-height: 1.6;
  border-radius: 4px;
  transition: background-color 0.2s;
  font-size: 1.1rem;  /* Added larger font size */
}


.header .button10:hover {
  background-color: #f0f0f0;
  color: #2563eb;

}



/* Group search and language buttons */
.header-right {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-left: auto; /* Push buttons to the right */
  transform: translateY(-1.25px); /* Move search and language buttons higher */
}

header a {
      color: black;
      text-decoration: none;
    }

    .language-switcher-container {
  position: relative;
  display: none;
}

.language-button {
  background: none;
  border: none;
  cursor: pointer;
  padding: 10px;
  color: #444444;
  display: flex;
  align-items: center;
  font-size: 17px;
}

.language-button iconify-icon {
  font-size: 24px;
  opacity: 0.7;
}

.language-dropdown {
  display: none;
  position: absolute;
  top: 100%;
  right: 0;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  padding: 10px;
  width: 200px;
  z-index: 1000;
}

.language-option {
  display: flex;
  align-items: center;
  padding: 8px 12px;
  cursor: pointer;
  border-radius: 4px;
  color: #444444;
  text-decoration: none;
}



.language-option iconify-icon {
  margin-right: 10px;
  font-size: 20px;
}

.language-dropdown.show {
  display: block;
}

/* Styles for flag icons in select dropdown */
#select-league option {
    display: flex;
    align-items: center;
    padding: 8px 12px;
}

#select-league iconify-icon {
    display: inline-flex;
    vertical-align: middle;
}

/* Styles for custom league selector dropdown */
.custom-select-container {
    position: relative;
    width: 172px;
}

.metric-select-container {
    position: relative;
    width: 192px;
}

.custom-select-trigger, .metric-select-trigger {
    display: flex;
    align-items: center;
    padding: 0 12px;
    border: 1px solid var(--border-color);
    border-radius: 6px;
    background-color: var(--container-bg);
    color: var(--text-color);
    font-family: 'Inter', sans-serif;
    font-size: 14px;
    cursor: pointer;
    user-select: none;
    position: relative;
    line-height: 1;
}

.custom-select-trigger span, .metric-select-trigger span {
    display: inline-block;
    transform: translateY(1px);
    white-space: nowrap;
    overflow: hidden;
    max-width: calc(100% - 20px); /* Account for the icon width and margin */
    line-height: normal; /* Ensure consistent line height */    
}

.custom-select-trigger::after, .metric-select-trigger::after {
    content: '';
    width: 6px;
    height: 6px;
    margin-left: auto;
    border-right: 1.5px solid var(--text-color);
    border-bottom: 1.5px solid var(--text-color);
    transform: rotate(45deg) translateY(-2px);
    transition: transform 0.3s;
    opacity: 0.7;
    margin-right: 2px;
}

.custom-select-trigger.open::after, .metric-select-trigger.open::after {
    transform: rotate(-135deg) translateY(1px);
}

.custom-select-options, .metric-select-options {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background-color: var(--container-bg);
    border: 1px solid var(--border-color);
    border-radius: 6px;
    margin-top: 5px;
    max-height: 300px;
    overflow-y: auto;
    z-index: 100;
    font-size: 13px;
    display: none;
    box-shadow: var(--shadow);
}

.custom-select-option, .metric-select-option {
    display: flex;
    align-items: center;
    padding: 8px 12px;
    cursor: pointer;
}

.custom-select-option:hover, .metric-select-option:hover {
    background-color: var(--hover-color);
}

.custom-select-option.selected, .metric-select-option.selected {
    background-color: rgba(52, 152, 219, 0.1);
}

.custom-select-option iconify-icon, .metric-select-option iconify-icon {
    margin-right: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

body.dark-mode .language-button:hover {
      background-color: #0F0F0E;
      color: #aeaeae;
}

body.dark-mode .language-dropdown {
  background: #e8e6e6;
}

body.dark-mode .language-option {
  color: #000000;
}

/* Dark mode styles for custom dropdown */
.dark-mode .custom-select-trigger,
.dark-mode .custom-select-options,
.dark-mode .metric-select-trigger,
.dark-mode .metric-select-options {
    border-color: var(--border-color);
    background-color: var(--container-bg);
    color: var(--text-color);
}

.dark-mode .custom-select-option:hover,
.dark-mode .metric-select-option:hover {
    background-color: var(--hover-color);
}

.dark-mode .custom-select-option.selected,
.dark-mode .metric-select-option.selected {
    background-color: rgba(52, 152, 219, 0.2);
}

.custom-select-option iconify-icon, .metric-select-option iconify-icon {
    margin-right: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

/* Adjust flag icon alignment in the trigger */
#league-select-trigger iconify-icon {
    margin-right: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transform: translateY(-1px);
}
@media screen and (max-width: 550px) { .header .navigation { display: none; } }

        /* Enhanced Dark Mode Styles */
        .dark-mode .chart-wrapper {
            background-color: var(--container-bg);
            border: 1px solid #333;
        }

        .dark-mode .btn {
            background-color: var(--button-color);
        }

        .dark-mode .btn-outline {
            background-color: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-color);
        }

        .dark-mode .btn-outline:hover {
            background-color: var(--hover-color);
            border-color: #444;
        }


        .dark-mode input, 
        .dark-mode select {
            background-color: #1a1a1a;
            color: var(--text-color);
            border-color: #333;
        }

        .dark-mode input::placeholder {
            color: #777;
        }

        .dark-mode input:focus, 
        .dark-mode select:focus {
            border-color: var(--primary-color);
            outline: none;
        }

        .dark-mode .tooltip {
            background-color: #1a1a1a;
            border-color: #333;
            color: var(--text-color);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .legend {
            border-top-color: #333;
        }

        .dark-mode .legend-item {
            color: #ccc;
        }

        .dark-mode .btn-tooltip .btn-tooltip-text {
            background-color: #1a1a1a;
            border-color: #333;
            color: #e0e0e0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .btn-tooltip .btn-tooltip-text::after {
            border-color: #333 transparent transparent transparent;
        }

        .dark-mode .team-label {
            fill: #e0e0e0 !important;
            text-shadow: 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f;
        }

        .dark-mode .x-axis path,
        .dark-mode .y-axis path,
        .dark-mode .x-axis line,
        .dark-mode .y-axis line {
            stroke: #444;
        }

        .dark-mode .x-axis text,
        .dark-mode .y-axis text {
            fill: #aaa;
        }

        .dark-mode .x-label,
        .dark-mode .y-label {
            fill: #ccc;
        }

        .dark-mode .median-line {
            stroke: rgba(255, 255, 255, 0.2) !important;
        }

        .dark-mode .xy-line {
            stroke: #2ecc71;
            opacity: 0.8;
        }

        .dark-mode .dark-mode-toggle {
            background-color: #1a1a1a;
            border: 1px solid #333;
        }

        .dark-mode .toggle-icon::before {
            color: #e0e0e0;
        }

 



        .dark-mode #searchButton3 {
            background-color: #0074d9;
            color: #fff;
        }


        .dark-mode .header .button10 {
            color: #aaa;
        }

        .dark-mode .header .button10:hover {
            color: #2563eb;
            background-color: #1a1a1a;
        }

        .dark-mode header a {
            color: #aaa;
        }

        .dark-mode .header .logo img {
            opacity: 0.9;
            filter: brightness(0.9);
        }

        .dark-mode .language-button {
            background-color: #0e0f0f;
            color: #aaa;
        }

        .dark-mode .language-button:hover {
            background-color: #1a1a1a;
        }

        .dark-mode .language-dropdown {
            background: #1a1a1a;
            border: 1px solid #333;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .language-option {
            color: #e0e0e0;
        }

        .dark-mode .language-option:hover {
            background-color: #252525;
        }

        .dark-mode #search-bar::placeholder {
            color: #777;
        }

        .dark-mode circle {
            stroke-width: 1px;
        }

        .dark-mode circle.search-match {
            fill: #ff3366 !important;
            stroke: #0e0f0f;
            stroke-width: 2px;
            filter: drop-shadow(0 0 5px rgba(255, 51, 102, 0.7));
        }

  
        
        /* Additional dark mode styles for chart elements */
        .dark-mode .chart-container {
            background-color: var(--container-bg);
        }
        
  
        
    
        
        .dark-mode .team-label.search-match {
            filter: drop-shadow(0 0 2px rgba(0, 0, 0, 1));
        }
        
        /* Fix for custom select dropdown in dark mode */
        .dark-mode .custom-select-trigger::after, 
        .dark-mode .metric-select-trigger::after {
            border-right: 1.5px solid var(--text-color);
            border-bottom: 1.5px solid var(--text-color);
        }
        
        /* Improve contrast for selected items in dark mode */
        .dark-mode .custom-select-option.selected, 
        .dark-mode .metric-select-option.selected {
            background-color: rgba(52, 152, 219, 0.3);
        }
        
        /* Improve visibility of SVG elements in dark mode */
        .dark-mode svg text {
            fill: #ccc;
        }
        
        .dark-mode .legend-color {
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        /* Improve button states in dark mode */
        .dark-mode .btn:hover {
            background-color: #3498db;
        }
        
        .dark-mode .btn-outline:active {
            background-color: #333;
        }
        
        /* Improve focus states for accessibility */
        .dark-mode input:focus,
        .dark-mode select:focus,
        .dark-mode .btn:focus {
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.5);
        }
        
        /* Fix for buttons staying focused with blue outline */
        button:focus, 
        .btn:focus, 
        select:focus, 
        input:focus {
            outline: none;
        }
        
        /* Custom focus styles for better accessibility */
        button:focus-visible, 
        .btn:focus-visible, 
        select:focus-visible, 
        input:focus-visible {
            outline: none;
            box-shadow: 0 0 0 2px var(--primary-color);
        }
        
        /* Remove focus styles when using mouse */
        button:focus:not(:focus-visible), 
        .btn:focus:not(:focus-visible), 
        select:focus:not(:focus-visible), 
        input:focus:not(:focus-visible) {
            box-shadow: none;
        }



.logo img {
  width: 50px;
  height: 50px;
}

/* Promo links styling */
.promo-links-container {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin: 15px auto 25px;
    max-width: 800px;
    flex-wrap: wrap;
    padding: 0 20px;
}

.promo-link {
    display: flex;
    align-items: center;
    padding: 10px 15px;
    background-color: var(--container-bg);
    color: var(--text-color);
    text-decoration: none;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    transition: all 0.3s ease;
    box-shadow: var(--shadow);
    font-weight: 500;
    flex: 1;
    min-width: 220px;
    max-width: 350px;
    justify-content: center;
}

.promo-link iconify-icon {
    margin-right: 8px;
}

.promo-link:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.radar-link {
    border-left: 4px solid #3498db;
}

.pro-link {
    border-left: 4px solid #f39c12;
}

.dark-mode .radar-link {
    border-left: 4px solid #2980b9;
}

.dark-mode .pro-link {
    border-left: 4px solid #d35400;
}

@media (max-width: 768px) {
  

    
    select, input {
        width: 100%;
    }
    
    /* Make text elements more readable on mobile */
    .x-label, .y-label {
        font-size: 12px;
    }
    
    /* Adjust tooltip position for mobile */
    .tooltip {
        max-width: 80%;
    }
    
    /* Adjust promo links for mobile */
    .promo-links-container {
        flex-direction: column;
        align-items: center;
        gap: 10px;
        padding: 0 15px;
    }
}

    </style>

  <header class="header">
    <div class="logo">
      <a href="https://datamb.football">
        <img src="https://datamb.football/logo.png" alt="Football team statistics comparison. Radar comparison tool. Visualise and compare team data from the top 7 leagues : Premier League, La Liga, Bundesliga, Serie A, Ligue 1, Eredivisie, Primeira Liga" /></a>
        <div class="logo-text"><a href="https://datamb.football">&nbsp;Teams</a></div>
    </div>
    <nav class="navigation">
      <a href="https://datamb.football/teams" class="button10" data-i18n="header.home">Home</a>
      <a href="https://datamb.football/join" class="button10" data-i18n="header.pro">Pro</a>
      <a href="https://datamb.football/guide" class="button10" data-i18n="header.guide">Guide</a>
    </nav>
    <div class="header-right">
    <div class="search-container">
      <button id="searchButton3"><iconify-icon icon="ion:search-outline"></iconify-icon></button>
  </div>
    <div class="language-switcher-container">
      <button class="language-button" id="languageButton">
        <iconify-icon icon="heroicons:globe-alt"></iconify-icon>
      </button>
      <div class="language-dropdown" id="languageDropdown">
        <a href="?lang=en" class="language-option"><iconify-icon icon="flag:gb-4x3"></iconify-icon>English</a>
      </div>
    </div></div>
  </header>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7677714701428206"
     crossorigin="anonymous"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PSBMXX80EF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-PSBMXX80EF');
</script>
</head>
<div class="search-input-modal" id="searchInputModal">
    <div class="search-input-container">
        <input type="text" id="searchInput" data-i18n="search.placeholder" placeholder="Enter a team or player name...">
        <div id="autocompleteBox"></div>
    </div>
</div>
<script>
    const xhr1 = new XMLHttpRequest();
  xhr1.open('GET', 'https://datamb.football/database/searchbar.csv', false); // false for synchronous request
  xhr1.send(null);
  
  let dataCSV = xhr1.responseText;
    
function _0x5707(_0xd20fa7,_0x4d36b5){const _0x4dcd69=_0x4dcd();return _0x5707=function(_0x57077a,_0xde96b9){_0x57077a=_0x57077a-0x140;let _0x383e81=_0x4dcd69[_0x57077a];return _0x383e81;},_0x5707(_0xd20fa7,_0x4d36b5);}const _0xedf2b2=_0x5707;(function(_0x16e1b0,_0x125833){const _0x222c5a=_0x5707,_0x3f540c=_0x16e1b0();while(!![]){try{const _0x3105f2=parseInt(_0x222c5a(0x161))/0x1+parseInt(_0x222c5a(0x144))/0x2+parseInt(_0x222c5a(0x148))/0x3+-parseInt(_0x222c5a(0x155))/0x4+parseInt(_0x222c5a(0x141))/0x5*(-parseInt(_0x222c5a(0x145))/0x6)+-parseInt(_0x222c5a(0x157))/0x7+parseInt(_0x222c5a(0x14b))/0x8*(parseInt(_0x222c5a(0x159))/0x9);if(_0x3105f2===_0x125833)break;else _0x3f540c['push'](_0x3f540c['shift']());}catch(_0x450250){_0x3f540c['push'](_0x3f540c['shift']());}}}(_0x4dcd,0x1bc51));const dataLines=dataCSV[_0xedf2b2(0x160)]('\x0a'),searchButton3=document[_0xedf2b2(0x142)]('searchButton3'),searchInputModal=document[_0xedf2b2(0x142)](_0xedf2b2(0x14a)),searchInput=document[_0xedf2b2(0x142)](_0xedf2b2(0x143)),autocompleteBox=document[_0xedf2b2(0x142)](_0xedf2b2(0x162)),data11=dataLines[_0xedf2b2(0x146)](_0x19546c=>{const _0x89300c=_0xedf2b2,[_0x5af128,_0x515bec]=_0x19546c[_0x89300c(0x160)](',');return{'name':_0x5af128,'link':_0x515bec};});function removeDiacritics(_0x3ed1af){const _0x202611=_0xedf2b2,_0x4b45cf={'ø':'o','Ø':'O','ı':'i'};return _0x3ed1af=_0x3ed1af[_0x202611(0x147)](/[øØıI]/g,_0x19f74a=>_0x4b45cf[_0x19f74a]),_0x3ed1af[_0x202611(0x15d)]('NFD')[_0x202611(0x147)](/[\u0300-\u036f]/g,'');}function search2(_0x1db14d){const _0x26c944=_0xedf2b2;autocompleteBox[_0x26c944(0x15e)]='';const _0x321867=removeDiacritics(_0x1db14d)[_0x26c944(0x147)](/[^\w\s]/g,'')[_0x26c944(0x149)](),_0x3ad89e=data11[_0x26c944(0x15c)](_0xb995bf=>{const _0x3866b0=_0x26c944,_0x2b7de7=removeDiacritics(_0xb995bf[_0x3866b0(0x14e)])['replace'](/[^\w\s]/g,'')[_0x3866b0(0x149)]();return _0x2b7de7['includes'](_0x321867);});if(_0x3ad89e[_0x26c944(0x163)]===0x0){autocompleteBox[_0x26c944(0x152)][_0x26c944(0x14c)]='none';return;}_0x3ad89e[_0x26c944(0x151)](_0x4b9def=>{const _0x31eeb1=_0x26c944,_0x505ab8=document[_0x31eeb1(0x14d)]('div'),_0x3a2d70=document[_0x31eeb1(0x14d)]('a');_0x3a2d70['href']=_0x4b9def[_0x31eeb1(0x154)],_0x3a2d70[_0x31eeb1(0x150)]=_0x4b9def[_0x31eeb1(0x14e)],_0x505ab8[_0x31eeb1(0x15b)](_0x3a2d70),autocompleteBox[_0x31eeb1(0x15b)](_0x505ab8);}),autocompleteBox['style'][_0x26c944(0x14c)]=_0x26c944(0x153);}searchButton3[_0xedf2b2(0x156)](_0xedf2b2(0x14f),()=>{const _0x350b96=_0xedf2b2;searchInputModal['style'][_0x350b96(0x14c)]=_0x350b96(0x153);}),searchInput['addEventListener'](_0xedf2b2(0x158),()=>{const _0x122364=_0xedf2b2,_0x1aac33=searchInput['value'];_0x1aac33[_0x122364(0x140)]()===''?autocompleteBox[_0x122364(0x152)][_0x122364(0x14c)]='none':search2(_0x1aac33);}),document['addEventListener']('click',_0x17873a=>{const _0x2c2a21=_0xedf2b2;_0x17873a[_0x2c2a21(0x15a)]===searchInputModal&&(searchInputModal[_0x2c2a21(0x152)][_0x2c2a21(0x14c)]=_0x2c2a21(0x15f));});function _0x4dcd(){const _0x3abacf=['forEach','style','block','link','165476bdcaHI','addEventListener','430668iEzpyY','input','90cmGEmO','target','appendChild','filter','normalize','innerHTML','none','split','102625kyWWmb','autocompleteBox','length','trim','5KymJaR','getElementById','searchInput','423476PJmBDe','1170534HGXHHf','map','replace','60222cRWbFM','toLowerCase','searchInputModal','61832bbygIm','display','createElement','name','click','textContent'];_0x4dcd=function(){return _0x3abacf;};return _0x4dcd();}
  
  
  
  </script>


<body>
    <div class="container">
        <div class="chart-wrapper">
            <div class="controls">
                <select id="select-x" style="display: none;"></select>
                <select id="select-y" style="display: none;"></select>
                <select id="select-league" style="display: none;" onchange="updateChart()">
                    <option value="all">Top 7 Leagues</option>
                    <option value="Top 5 Leagues">Top 5 Leagues</option>
                    <option value="Premier League">Premier League</option>
                    <option value="La Liga">La Liga</option>
                    <option value="Bundesliga">Bundesliga</option>
                    <option value="Serie A">Serie A</option> 
                    <option value="Ligue 1">Ligue 1</option>
                    <option value="Eredivisie">Eredivisie</option>
                    <option value="Primeira Liga">Liga Portugal</option>
                </select>
                
                <!-- Custom X metric selector -->
                <div class="metric-select-container">
                    <div class="metric-select-trigger" id="x-metric-trigger">
                        <span data-i18n="metrics.goals-per-90">Goals per 90</span>
                    </div>
                    <div class="metric-select-options" id="x-metric-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Custom Y metric selector -->
                <div class="metric-select-container">
                    <div class="metric-select-trigger" id="y-metric-trigger">
                        <span data-i18n="metrics.xg-per-90">xG per 90</span>
                    </div>
                    <div class="metric-select-options" id="y-metric-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Custom league selector with flag icons -->
                <div class="custom-select-container">
                    <div class="custom-select-trigger" id="league-select-trigger">
                        <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                        <span data-i18n="leagues.top7">Top 7 Leagues</span>
                    </div>
                    <div class="custom-select-options" id="league-select-options">
                        <div class="custom-select-option selected" data-value="all">
                            <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                            <span data-i18n="leagues.top7">Top 7 Leagues</span>
                        </div>
                        <div class="custom-select-option" data-value="Top 5 Leagues">
                            <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                            <span data-i18n="leagues.top5">Top 5 Leagues</span>
                        </div>
                        <div class="custom-select-option" data-value="Premier League">
                            <iconify-icon icon="emojione:flag-for-united-kingdom" width="18" height="18"></iconify-icon>
                            <span>Premier League</span>
                        </div>
                        <div class="custom-select-option" data-value="La Liga">
                            <iconify-icon icon="emojione:flag-for-spain" width="18" height="18"></iconify-icon>
                            <span>La Liga</span>
                        </div>
                        <div class="custom-select-option" data-value="Bundesliga">
                            <iconify-icon icon="emojione:flag-for-germany" width="18" height="18"></iconify-icon>
                            <span>Bundesliga</span>
                        </div>
                        <div class="custom-select-option" data-value="Serie A">
                            <iconify-icon icon="emojione:flag-for-italy" width="18" height="18"></iconify-icon>
                            <span>Serie A</span>
                        </div>
                        <div class="custom-select-option" data-value="Ligue 1">
                            <iconify-icon icon="emojione:flag-for-france" width="18" height="18"></iconify-icon>
                            <span>Ligue 1</span>
                        </div>
                        <div class="custom-select-option" data-value="Eredivisie">
                            <iconify-icon icon="emojione:flag-for-netherlands" width="18" height="18"></iconify-icon>
                            <span>Eredivisie</span>
                        </div>
                        <div class="custom-select-option" data-value="Primeira Liga">
                            <iconify-icon icon="emojione:flag-for-portugal" width="18" height="18"></iconify-icon>
                            <span>Liga Portugal</span>
                        </div>
                    </div>
                </div>
                
                <input type="text" id="search-bar" data-i18n="search.placeholder2" placeholder="Search team...">
                <div class="btn-tooltip">
                    <button id="toggle-median-lines" class="btn btn-outline btn-icon">
                        <div class="icon">
                            <i class="ion-stats-bars"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" id="median-lines-tooltip" data-i18n="tooltip.median-lines">Show median lines</span>
                </div>
                <div class="btn-tooltip">
                    <button class="btn btn-outline btn-icon" id="select-all-button" onclick="selectAllCircles()">
                        <div class="icon">
                            <i class="ion-ios-circle-filled" id="select-icon"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" id="select-all-tooltip" data-i18n="tooltip.select-all">Select all teams</span>
                </div>
                <div class="btn-tooltip">
                    <button class="btn btn-outline btn-icon" onclick="takeScreenshot()">
                        <div class="icon">
                            <i class="ion-camera"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" data-i18n="tooltip.screenshot">Download chart as image</span>
                </div>
            </div>
       
            <div class="chart-container">
              <svg id="scatter-plot"></svg>
            </div>

            <div class="legend" id="league-legend">
              <!-- Legend items will be added here dynamically -->
            </div>
        </div>

        <div class="promo-links-container">
            <a href="https://datamb.football/teamradars" class="promo-link radar-link">
                <iconify-icon icon="mdi:radar" width="20" height="20"></iconify-icon>
                <span data-i18n="promo.radar-link">Compare Teams with Radars</span>
            </a>
            <a href="https://datamb.football/join" class="promo-link pro-link">
                <iconify-icon icon="mdi:account-star" width="20" height="20"></iconify-icon>
                <span data-i18n="promo.pro-link">Get Pro for Player Plots</span>
            </a>
        </div>
    </div>

    <div class="dark-mode-toggle" onclick="toggleDarkMode()">
        <div class="toggle-icon"></div>
    </div>



    <script>
        var _0x4ac39d=_0x7f36;function _0x7f36(_0x3b4e42,_0x1f57b5){var _0x405087=_0x4050();return _0x7f36=function(_0x7f36d8,_0x4ee1aa){_0x7f36d8=_0x7f36d8-0x72;var _0xc70772=_0x405087[_0x7f36d8];return _0xc70772;},_0x7f36(_0x3b4e42,_0x1f57b5);}(function(_0x821bf3,_0x1a6e3f){var _0x21182c=_0x7f36,_0x103bca=_0x821bf3();while(!![]){try{var _0x19858e=-parseInt(_0x21182c(0x133))/0x1+parseInt(_0x21182c(0x164))/0x2*(parseInt(_0x21182c(0x138))/0x3)+parseInt(_0x21182c(0xaf))/0x4*(-parseInt(_0x21182c(0x136))/0x5)+-parseInt(_0x21182c(0xb6))/0x6+parseInt(_0x21182c(0x9b))/0x7*(-parseInt(_0x21182c(0x10d))/0x8)+parseInt(_0x21182c(0xa7))/0x9*(parseInt(_0x21182c(0x105))/0xa)+parseInt(_0x21182c(0x12b))/0xb;if(_0x19858e===_0x1a6e3f)break;else _0x103bca['push'](_0x103bca['shift']());}catch(_0x22c1d2){_0x103bca['push'](_0x103bca['shift']());}}}(_0x4050,0xa2777));let initializeCustomSelectors=function(){var _0x4689df=_0x7f36;const _0x4202a3=document['getElementById'](_0x4689df(0xe0)),_0x31e9d4=document[_0x4689df(0x9d)]('league-select-options'),_0x39e2fd=document['getElementById']('select-league');setupCustomSelect(_0x4202a3,_0x31e9d4,_0x39e2fd);const _0x522e1e=document[_0x4689df(0x9d)](_0x4689df(0x162)),_0x553d43=document[_0x4689df(0x9d)](_0x4689df(0xc4)),_0x2975f6=document['getElementById'](_0x4689df(0xee));populateMetricOptions(_0x553d43,header['slice'](0x3),function(_0x57ef32,_0x6cce5e){var _0x9b4a7a=_0x4689df;_0x522e1e['querySelector'](_0x9b4a7a(0xbf))[_0x9b4a7a(0xce)]===_0x6cce5e&&_0x57ef32[_0x9b4a7a(0xac)]['add'](_0x9b4a7a(0x114));if(_0x6cce5e===header[0x3]){_0x57ef32[_0x9b4a7a(0xac)]['add'](_0x9b4a7a(0x114)),_0x522e1e[_0x9b4a7a(0x118)](_0x9b4a7a(0xbf))['textContent']=_0x6cce5e;const _0x43185c=_0x6cce5e[_0x9b4a7a(0xf8)]()['replace'](/ /g,'-')[_0x9b4a7a(0xd6)](/%/g,_0x9b4a7a(0xbd));_0x522e1e[_0x9b4a7a(0x118)](_0x9b4a7a(0xbf))[_0x9b4a7a(0x9e)](_0x9b4a7a(0x7f),'metrics.'+_0x43185c);}}),setupCustomSelect(_0x522e1e,_0x553d43,_0x2975f6);const _0x8f21f2=document[_0x4689df(0x9d)](_0x4689df(0xf1)),_0x456b49=document['getElementById'](_0x4689df(0xdd)),_0x1c7a66=document[_0x4689df(0x9d)](_0x4689df(0xed));populateMetricOptions(_0x456b49,header[_0x4689df(0xa4)](0x3),function(_0x4c6118,_0x3deb9e){var _0x1a118d=_0x4689df;_0x8f21f2[_0x1a118d(0x118)](_0x1a118d(0xbf))[_0x1a118d(0xce)]===_0x3deb9e&&_0x4c6118['classList'][_0x1a118d(0xcb)]('selected');if(_0x3deb9e===header[0x4]){_0x4c6118[_0x1a118d(0xac)]['add']('selected'),_0x8f21f2['querySelector'](_0x1a118d(0xbf))[_0x1a118d(0xce)]=_0x3deb9e;const _0x43fca2=_0x3deb9e['toLowerCase']()[_0x1a118d(0xd6)](/ /g,'-')[_0x1a118d(0xd6)](/%/g,_0x1a118d(0xbd));_0x8f21f2[_0x1a118d(0x118)](_0x1a118d(0xbf))[_0x1a118d(0x9e)](_0x1a118d(0x7f),'metrics.'+_0x43fca2);}}),setupCustomSelect(_0x8f21f2,_0x456b49,_0x1c7a66);};function populateMetricOptions(_0x4910d8,_0x55e89f,_0x582cdd){var _0x8aecfd=_0x7f36;_0x4910d8[_0x8aecfd(0xa1)]='',_0x55e89f['forEach'](function(_0x243e07){var _0x346ce8=_0x8aecfd;const _0x28b06b=document['createElement'](_0x346ce8(0x102));_0x28b06b[_0x346ce8(0x76)]='metric-select-option',_0x28b06b['setAttribute'](_0x346ce8(0xe5),_0x243e07);const _0x5d2247=document[_0x346ce8(0xbb)](_0x346ce8(0xbf));_0x5d2247[_0x346ce8(0xce)]=_0x243e07;const _0x19075f=_0x243e07[_0x346ce8(0xf8)]()[_0x346ce8(0xd6)](/ /g,'-')['replace'](/%/g,_0x346ce8(0xbd));_0x5d2247[_0x346ce8(0x9e)](_0x346ce8(0x7f),_0x346ce8(0x123)+_0x19075f),_0x28b06b[_0x346ce8(0x7b)](_0x5d2247);if(_0x582cdd)_0x582cdd(_0x28b06b,_0x243e07);_0x4910d8[_0x346ce8(0x7b)](_0x28b06b);});}function setupCustomSelect(_0x2217f0,_0xe0b15b,_0x185d12){var _0x2c44a0=_0x7f36;_0x2217f0[_0x2c44a0(0x120)](_0x2c44a0(0x14a),function(){var _0x2d27e8=_0x2c44a0;document['querySelectorAll'](_0x2d27e8(0xc9))[_0x2d27e8(0xf3)](function(_0x3ddf8e){var _0x4179e4=_0x2d27e8;if(_0x3ddf8e!==_0x2217f0){_0x3ddf8e[_0x4179e4(0xac)]['remove'](_0x4179e4(0xd2));const _0x21ff52=_0x3ddf8e[_0x4179e4(0x116)];if(_0x21ff52)_0x21ff52[_0x4179e4(0x95)][_0x4179e4(0x7a)]=_0x4179e4(0x78);}}),_0x2217f0[_0x2d27e8(0xac)]['toggle'](_0x2d27e8(0xd2));const _0x3a6605=_0x2217f0[_0x2d27e8(0xac)][_0x2d27e8(0xfb)](_0x2d27e8(0xd2));_0xe0b15b[_0x2d27e8(0x95)][_0x2d27e8(0x7a)]=_0x3a6605?_0x2d27e8(0x119):_0x2d27e8(0x78);});const _0x4a9e08=_0xe0b15b[_0x2c44a0(0xab)]('.custom-select-option,\x20.metric-select-option');_0x4a9e08[_0x2c44a0(0xf3)](_0x49e643=>{var _0x1c471f=_0x2c44a0;_0x49e643['addEventListener'](_0x1c471f(0x14a),function(){var _0x19b778=_0x1c471f;_0x4a9e08[_0x19b778(0xf3)](_0x5ab939=>_0x5ab939['classList']['remove'](_0x19b778(0x114))),this[_0x19b778(0xac)][_0x19b778(0xcb)](_0x19b778(0x114));const _0x2ddd78=this[_0x19b778(0x118)](_0x19b778(0xbf))[_0x19b778(0xce)],_0x3ab888=this[_0x19b778(0x118)](_0x19b778(0xbf))['getAttribute'](_0x19b778(0x7f)),_0x50b370=this['querySelector'](_0x19b778(0x11b));_0x2217f0[_0x19b778(0xa1)]='';if(_0x50b370){const _0x38a391=_0x50b370[_0x19b778(0xe4)](!![]);_0x38a391[_0x19b778(0x95)][_0x19b778(0x168)]=_0x19b778(0x7e),_0x2217f0[_0x19b778(0x7b)](_0x38a391);}const _0x2a16ea=document[_0x19b778(0xbb)](_0x19b778(0xbf));_0x2a16ea['textContent']=_0x2ddd78;_0x3ab888&&_0x2a16ea[_0x19b778(0x9e)](_0x19b778(0x7f),_0x3ab888);_0x2217f0['appendChild'](_0x2a16ea);const _0x2b8eb7=this['getAttribute'](_0x19b778(0xe5));_0x185d12[_0x19b778(0x149)]=_0x2b8eb7||_0x2ddd78;const _0x29bc9d=new Event(_0x19b778(0x13b));_0x185d12[_0x19b778(0x143)](_0x29bc9d),_0x2217f0[_0x19b778(0xac)][_0x19b778(0x8d)](_0x19b778(0xd2)),_0xe0b15b[_0x19b778(0x95)][_0x19b778(0x7a)]=_0x19b778(0x78);});});let _0x16b283='',_0x49bad6;document['addEventListener'](_0x2c44a0(0xb8),function(_0x5b096c){var _0x163db7=_0x2c44a0;if(!_0x2217f0[_0x163db7(0xac)][_0x163db7(0xfb)]('open'))return;if(_0x5b096c[_0x163db7(0x11e)]===_0x163db7(0xfd)||_0x5b096c[_0x163db7(0x11e)]==='ArrowUp'){_0x5b096c[_0x163db7(0xd9)]();const _0x4bb767=Array['from'](_0x4a9e08),_0x5f4b74=_0x4bb767[_0x163db7(0x72)](_0x1a9a5a=>_0x1a9a5a[_0x163db7(0xac)][_0x163db7(0xfb)](_0x163db7(0x114)));let _0x15e77f;_0x5b096c[_0x163db7(0x11e)]==='ArrowDown'?_0x15e77f=_0x5f4b74<_0x4bb767[_0x163db7(0x83)]-0x1?_0x5f4b74+0x1:0x0:_0x15e77f=_0x5f4b74>0x0?_0x5f4b74-0x1:_0x4bb767[_0x163db7(0x83)]-0x1;_0x4a9e08[_0x163db7(0xf3)](_0x4ad4ba=>_0x4ad4ba['classList'][_0x163db7(0x8d)](_0x163db7(0x114))),_0x4bb767[_0x15e77f][_0x163db7(0xac)][_0x163db7(0xcb)](_0x163db7(0x114)),_0x4bb767[_0x15e77f]['scrollIntoView']({'block':_0x163db7(0xe8)});return;}if(_0x5b096c[_0x163db7(0x11e)]===_0x163db7(0xa2)){_0x5b096c[_0x163db7(0xd9)]();const _0x232b47=_0xe0b15b['querySelector'](_0x163db7(0x9c));_0x232b47&&_0x232b47[_0x163db7(0x14a)]();return;}if(_0x5b096c[_0x163db7(0x11e)]===_0x163db7(0x13e)){_0x5b096c[_0x163db7(0xd9)](),_0x2217f0[_0x163db7(0xac)][_0x163db7(0x8d)](_0x163db7(0xd2)),_0xe0b15b[_0x163db7(0x95)][_0x163db7(0x7a)]=_0x163db7(0x78);return;}if(_0x5b096c[_0x163db7(0x11e)]['length']===0x1&&_0x5b096c[_0x163db7(0x11e)][_0x163db7(0x80)](/[a-zA-Z0-9%]/)){clearTimeout(_0x49bad6),_0x16b283+=_0x5b096c[_0x163db7(0x11e)][_0x163db7(0xf8)]();const _0x4cf5c4=Array['from'](_0x4a9e08)[_0x163db7(0x91)](_0xc48ee5=>{var _0x4fa225=_0x163db7;const _0x3c7455=_0xc48ee5['querySelector'](_0x4fa225(0xbf))[_0x4fa225(0xce)]['toLowerCase']();return _0x3c7455['startsWith'](_0x16b283);});_0x4cf5c4&&(_0x4a9e08['forEach'](_0x58f240=>_0x58f240[_0x163db7(0xac)][_0x163db7(0x8d)](_0x163db7(0x114))),_0x4cf5c4['classList']['add'](_0x163db7(0x114)),_0x4cf5c4['scrollIntoView']({'block':_0x163db7(0xe8)})),_0x49bad6=setTimeout(()=>{_0x16b283='';},0x3e8);}});}document[_0x4ac39d(0x120)](_0x4ac39d(0x14a),function(_0x5aee79){var _0x58d163=_0x4ac39d;const _0x335b6d=document[_0x58d163(0xab)](_0x58d163(0x11d)),_0x3991c6=document[_0x58d163(0xab)]('.custom-select-options,\x20.metric-select-options');let _0x1c0c8f=![];_0x335b6d['forEach'](function(_0x30ebc2,_0x1128c8){var _0x45d70d=_0x58d163;const _0x3adf88=_0x3991c6[_0x1128c8];_0x30ebc2&&_0x3adf88&&(_0x30ebc2[_0x45d70d(0xfb)](_0x5aee79[_0x45d70d(0x166)])||_0x3adf88[_0x45d70d(0xfb)](_0x5aee79['target']))&&(_0x1c0c8f=!![]);}),!_0x1c0c8f&&_0x335b6d[_0x58d163(0xf3)](function(_0x1d114e,_0x71c24b){var _0x145068=_0x58d163;_0x1d114e&&_0x3991c6[_0x71c24b]&&(_0x1d114e[_0x145068(0xac)][_0x145068(0x8d)](_0x145068(0xd2)),_0x3991c6[_0x71c24b][_0x145068(0x95)][_0x145068(0x7a)]=_0x145068(0x78));});});const xhr=new XMLHttpRequest();xhr[_0x4ac39d(0xd2)](_0x4ac39d(0x8f),_0x4ac39d(0x13f),![]),xhr[_0x4ac39d(0x10c)](null);let csvData=xhr[_0x4ac39d(0xea)],extraHeaderRow=_0x4ac39d(0xc0);csvData=extraHeaderRow+csvData;var rows=csvData[_0x4ac39d(0x117)]()['split']('\x0a'),header=rows[0x0][_0x4ac39d(0x134)](','),data=rows[_0x4ac39d(0xa4)](0x1)[_0x4ac39d(0x15f)](function(_0x591db2){var _0x1318b3=_0x4ac39d;return _0x591db2[_0x1318b3(0x134)](',')['map'](function(_0xdc9fc7,_0x34a313){return _0x34a313>=0x3?parseFloat(_0xdc9fc7):_0xdc9fc7;});}),margin={'top':0x0,'right':0x0,'bottom':0x0,'left':0x0},width=0x43a-margin['left']-margin[_0x4ac39d(0xfe)],height=0x302-margin[_0x4ac39d(0x13a)]-margin['bottom'],leagueColors={'Premier\x20League':_0x4ac39d(0x127),'La\x20Liga':_0x4ac39d(0x90),'Bundesliga':_0x4ac39d(0x131),'Serie\x20A':'rgba(0,\x20128,\x200,\x200.7)','Ligue\x201':_0x4ac39d(0x11f),'Eredivisie':'rgba(75,\x200,\x20130,\x200.7)','Primeira\x20Liga':_0x4ac39d(0x13d)};function getLeagueColor(_0x12a854){var _0x9d9b09=_0x4ac39d;return leagueColors[_0x12a854]||_0x9d9b09(0x127);}function updateChartDimensions(){var _0x6fcc86=_0x4ac39d,_0x57525f=document[_0x6fcc86(0x118)](_0x6fcc86(0x129))[_0x6fcc86(0x146)],_0xb12992=window[_0x6fcc86(0xbe)]*0.7,_0x51028b=0x1e,_0x23adf8=Math[_0x6fcc86(0xd1)](0x43a,_0x57525f-_0x51028b*0x2),_0x377159=window[_0x6fcc86(0x12d)]/window[_0x6fcc86(0xbe)]<0x1;if(_0x377159){margin={'top':0x28,'right':0x1e,'bottom':0x3c,'left':0x4b};var _0x341dbd=1.4,_0x35cfe1=Math['min'](_0xb12992,_0x23adf8*_0x341dbd);_0x35cfe1=Math[_0x6fcc86(0x88)](_0x35cfe1,0x1f4);}else{margin={'top':0x28,'right':0x1e,'bottom':0x3c,'left':0x4f};var _0x362801=0.7,_0x35cfe1=_0x23adf8*_0x362801;}width=_0x23adf8-margin[_0x6fcc86(0x10e)]-margin[_0x6fcc86(0xfe)],height=_0x35cfe1-margin['top']-margin[_0x6fcc86(0x8c)],d3[_0x6fcc86(0x140)]('#scatter-plot')['attr'](_0x6fcc86(0xfa),_0x23adf8)[_0x6fcc86(0x128)](_0x6fcc86(0x10a),_0x35cfe1),document[_0x6fcc86(0x118)](_0x6fcc86(0xb0))[_0x6fcc86(0x95)][_0x6fcc86(0x10a)]=_0x35cfe1+'px';}window['addEventListener'](_0x4ac39d(0x147),function(){updateChartDimensions(),requestAnimationFrame(function(){updateChart();});}),updateChartDimensions();function debounce(_0x23b2ae,_0x47b445){let _0x39ddee;return function(){const _0x40eef4=this,_0x3a7f39=arguments;clearTimeout(_0x39ddee),_0x39ddee=setTimeout(function(){_0x23b2ae['apply'](_0x40eef4,_0x3a7f39);},_0x47b445);};}var prevWindowWidth=window['innerWidth'],prevWindowHeight=window[_0x4ac39d(0xbe)];window[_0x4ac39d(0x120)]('resize',debounce(function(){var _0xee19ee=_0x4ac39d,_0x42976a=prevWindowWidth/prevWindowHeight<0x1,_0x27448a=window[_0xee19ee(0x12d)]/window[_0xee19ee(0xbe)]<0x1;prevWindowWidth=window['innerWidth'],prevWindowHeight=window[_0xee19ee(0xbe)],requestAnimationFrame(function(){updateChart();});},0x32));var medianLinesVisible=![],selectX=d3[_0x4ac39d(0x140)](_0x4ac39d(0xd5)),selectY=d3[_0x4ac39d(0x140)](_0x4ac39d(0x100)),names=data[_0x4ac39d(0x15f)](function(_0x4cc8af){return _0x4cc8af[0x1];});function _0x4050(){var _0xe71f6d=['innerHeight','span','ID,Player,Top\x207\x20Leagues,Goals\x20per\x2090,xG\x20per\x2090,Shots\x20on\x20target\x20per\x2090,Shots\x20on\x20target\x20%,Passes\x20completed,Pass\x20accuracy\x20%,Possession\x20%,Positional\x20attacks\x20per\x2090,Counter\x20attacks\x20per\x2090,Touches\x20in\x20the\x20box\x20per\x2090,Goals\x20conceded\x20per\x2090,SoT\x20against\x20per\x2090,Defensive\x20duels\x20per\x2090,Defensive\x20duel\x20%,Aerial\x20duels\x20per\x2090,Aerial\x20duels\x20%,Passes\x20per\x20possession,PPDA\x0a','metrics','</span><br/>','team-label-','x-metric-options','call','14px','median-lines-tooltip','Hide\x20median\x20lines','.custom-select-trigger.open,\x20.metric-select-trigger.open','all','add','.team-label','append','textContent','end','event','min','open','x-axis','parentNode','#select-x','replace','line','indexOf','preventDefault','selectAll','duration','fontWeight','y-metric-options','font-family','xy-line','league-select-trigger','data-original-y','font-size','each','cloneNode','data-value','linearGradient#line-gradient','data-stable-position','nearest','range','responseText','fill','dark-mode','select-y','select-x','rgba(70,\x20130,\x20180,\x200.7)','true','y-metric-trigger','text','forEach','Show\x20median\x20lines','5,3','tooltip.xg-line-above','href','toLowerCase','mouseout','width','contains','xy-line-hover','ArrowDown','right','.xy-line-bg','#select-y','Goals\x20per\x2090','div','#333','Serie\x20A','34070esAbFi','rotate(-90)','select-icon','sqrt','.median-line','height','tooltip','send','8wndxnX','left','Top\x205\x20Leagues','.xy-line-hover','Teams\x20right\x20of\x20this\x20line\x20are\x20scoring\x20more\x20goals\x20than\x20expected.','#scatter-plot','#000','selected','transition','nextElementSibling','trim','querySelector','block','toFixed','iconify-icon','transparent','.custom-select-trigger,\x20.metric-select-trigger','key','rgba(0,\x200,\x20255,\x200.7)','addEventListener','Select\x20all\x20teams','select-league','metrics.','size','classed','select-all-tooltip','rgba(255,\x200,\x200,\x200.7)','attr','.chart-wrapper','input','20724165ZPtSxf','every','innerWidth','pageY','G\x20=\x20xG\x20Line','Inter,\x20sans-serif','rgba(255,\x20255,\x200,\x200.7)','pointer','172988iOgfbo','split','Bundesliga','145MmlVBd','league-legend','6rbXVXV','body','top','change','legend-color','rgba(238,\x20130,\x20238,\x200.7)','Escape','https://datamb.football/database/TEAM/teamplots.csv','select','option','<strong>','dispatchEvent','search-match','getBBox','clientWidth','resize','enter','value','click','transform','interrupt','stroke','Ligue\x201','false','ion-ios-circle-outline','tooltip.xg-line-right','ion-ios-circle-filled','node','translate(','tickSize','pageX','toggle-median-lines','unselectAll','500','class','x-label','scaleLinear','axisBottom','search-dimmed','map','includes','stroke-dasharray','x-metric-trigger','<br/>','689182achYdl','DOMContentLoaded','target','hideMedianLines','marginRight','findIndex','.xy-line-label','bold','.performance-label','className','median-line','none','cursor','display','appendChild','showMedianLines','circle','8px','data-i18n','match','filter','mouseover','length','Teams\x20above\x20this\x20line\x20are\x20scoring\x20more\x20goals\x20than\x20expected.','font-weight','push','name','max','15px','data','stroke-width','bottom','remove','domain','GET','rgba(255,\x20165,\x200,\x200.7)','find','NFD','data-original-x','median','style','search-bar','Teams\x20below\x20this\x20line\x20are\x20scoring\x20fewer\x20goals\x20than\x20expected.','currentTranslations','Teams\x20left\x20of\x20this\x20line\x20are\x20scoring\x20fewer\x20goals\x20than\x20expected.','rgba(0,\x200,\x200,\x200.3)','7686182jMuDTd','.selected','getElementById','setAttribute','</span>','text-anchor','innerHTML','Enter','getBoundingClientRect','slice','opacity','Unselect\x20all\x20teams','1692HTnqfz','<span>','y-axis','Premier\x20League','querySelectorAll','classList','xG\x20per\x2090','pow','141712NNSRYl','.chart-container','12px','backgroundColor','.xy-line-label-bg','link','</strong><br/>','1498944gReTCv','axisLeft','keydown','keys','html','createElement','property','pct'];_0x4050=function(){return _0xe71f6d;};return _0x4050();}header[_0x4ac39d(0xa4)](0x3)[_0x4ac39d(0xf3)](function(_0x580f41){var _0x49f6ac=_0x4ac39d;selectX[_0x49f6ac(0xcd)]('option')[_0x49f6ac(0xf2)](_0x580f41)[_0x49f6ac(0x128)]('value',_0x580f41),selectY[_0x49f6ac(0xcd)](_0x49f6ac(0x141))[_0x49f6ac(0xf2)](_0x580f41)[_0x49f6ac(0x128)](_0x49f6ac(0x149),_0x580f41);}),selectX[_0x4ac39d(0xbc)]('value',header[0x3]),selectY[_0x4ac39d(0xbc)](_0x4ac39d(0x149),header[0x4]);var svg=d3[_0x4ac39d(0x140)](_0x4ac39d(0x112))[_0x4ac39d(0x128)](_0x4ac39d(0xfa),width+margin[_0x4ac39d(0x10e)]+margin[_0x4ac39d(0xfe)])['attr'](_0x4ac39d(0x10a),height+margin[_0x4ac39d(0x13a)]+margin['bottom'])[_0x4ac39d(0xcd)]('g')[_0x4ac39d(0x128)](_0x4ac39d(0x14b),_0x4ac39d(0x154)+margin[_0x4ac39d(0x10e)]+','+margin[_0x4ac39d(0x13a)]+')'),xMetric=header[0x3],yMetric=header[0x4],xScale=d3[_0x4ac39d(0x15c)]()[_0x4ac39d(0xe9)]([0x0,width]),yScale=d3[_0x4ac39d(0x15c)]()[_0x4ac39d(0xe9)]([height,0x0]),xAxis=d3[_0x4ac39d(0x15d)](xScale)[_0x4ac39d(0x155)](0x0),yAxis=d3['axisLeft'](yScale)[_0x4ac39d(0x155)](0x0),gXAxis=svg[_0x4ac39d(0xcd)]('g')['attr'](_0x4ac39d(0x15a),_0x4ac39d(0xd3))['attr'](_0x4ac39d(0x14b),'translate(0,'+height+')'),gYAxis=svg[_0x4ac39d(0xcd)]('g')[_0x4ac39d(0x128)](_0x4ac39d(0x15a),_0x4ac39d(0xa9)),xLabel=svg['append'](_0x4ac39d(0xf2))[_0x4ac39d(0x128)]('class',_0x4ac39d(0x15b))['attr'](_0x4ac39d(0xa0),'end')[_0x4ac39d(0x128)]('x',width)['attr']('y',height+0x23)['style'](_0x4ac39d(0xde),_0x4ac39d(0x130))[_0x4ac39d(0x95)]('font-size','14px'),yLabel=svg[_0x4ac39d(0xcd)](_0x4ac39d(0xf2))['attr'](_0x4ac39d(0x15a),'y-label')['attr'](_0x4ac39d(0xa0),_0x4ac39d(0xcf))['attr'](_0x4ac39d(0x14b),_0x4ac39d(0x106))[_0x4ac39d(0x128)]('y',-0x35)[_0x4ac39d(0x128)]('x',0x0)[_0x4ac39d(0x95)](_0x4ac39d(0xde),'Inter,\x20sans-serif')[_0x4ac39d(0x95)]('font-size',_0x4ac39d(0xc6)),tooltip=d3[_0x4ac39d(0x140)](_0x4ac39d(0x139))[_0x4ac39d(0xcd)](_0x4ac39d(0x102))[_0x4ac39d(0x128)]('class',_0x4ac39d(0x10b));function isMobileDevice(){var _0x552a01=_0x4ac39d;return window[_0x552a01(0x12d)]<=0x300;}function positionTooltip(_0x473cfa,_0x5d7ddb){var _0x6393c5=_0x4ac39d;const _0x353642=_0x5d7ddb[_0x6393c5(0x153)]();if(!_0x353642)return{'left':0x0,'top':0x0};const _0x318769=_0x353642[_0x6393c5(0xa3)](),_0x3d7bea=window[_0x6393c5(0x12d)],_0x1333cc=window['innerHeight'];let _0x3e29e2=_0x473cfa['pageX']+0xa,_0x959d42=_0x473cfa[_0x6393c5(0x12e)]-0x1c;return _0x3e29e2+_0x318769[_0x6393c5(0xfa)]>_0x3d7bea-0xa&&(_0x3e29e2=_0x473cfa[_0x6393c5(0x156)]-_0x318769[_0x6393c5(0xfa)]-0xa),_0x959d42+_0x318769['height']>_0x1333cc-0xa&&(_0x959d42=_0x473cfa[_0x6393c5(0x12e)]-_0x318769[_0x6393c5(0x10a)]-0xa),_0x3e29e2=Math[_0x6393c5(0x88)](0xa,_0x3e29e2),_0x959d42=Math['max'](0xa,_0x959d42),{'left':_0x3e29e2,'top':_0x959d42};}var clickedCircles=[],filteredData=data,filteredNames=names,circles;function updateChart(){var _0x53fc19=_0x4ac39d;updateChartDimensions(),d3['select'](_0x53fc19(0x112))['attr']('width',width+margin[_0x53fc19(0x10e)]+margin['right'])[_0x53fc19(0x128)](_0x53fc19(0x10a),height+margin[_0x53fc19(0x13a)]+margin[_0x53fc19(0x8c)]),gXAxis[_0x53fc19(0x128)]('transform','translate(0,'+height+')'),xLabel[_0x53fc19(0x128)]('x',width)[_0x53fc19(0x128)]('y',height+0x23),yLabel['attr']('x',0x0);const _0x55182b=document['body']['classList'][_0x53fc19(0xfb)](_0x53fc19(0xec));var _0x3b02b5=document['getElementById'](_0x53fc19(0x122))[_0x53fc19(0x149)];if(_0x3b02b5===_0x53fc19(0xca))filteredData=data;else _0x3b02b5==='Top\x205\x20Leagues'?filteredData=data['filter'](function(_0x24e40c){var _0x2178bd=_0x53fc19;return _0x24e40c[0x2]===_0x2178bd(0xaa)||_0x24e40c[0x2]==='La\x20Liga'||_0x24e40c[0x2]===_0x2178bd(0x135)||_0x24e40c[0x2]===_0x2178bd(0x104)||_0x24e40c[0x2]===_0x2178bd(0x14e);}):filteredData=data[_0x53fc19(0x81)](function(_0x765123){return _0x765123[0x2]===_0x3b02b5;});filteredNames=filteredData[_0x53fc19(0x15f)](function(_0x2d90ef){return _0x2d90ef[0x1];}),xMetric=selectX[_0x53fc19(0xbc)]('value'),yMetric=selectY['property'](_0x53fc19(0x149)),xScale[_0x53fc19(0xe9)]([0x0,width])[_0x53fc19(0x8e)]((function(){var _0xf6fe5=_0x53fc19;const _0x24162b=d3[_0xf6fe5(0xd1)](filteredData,_0x21d5ba=>_0x21d5ba[header[_0xf6fe5(0xd8)](xMetric)]),_0x2d20f2=d3['max'](filteredData,_0x2d6ed4=>_0x2d6ed4[header[_0xf6fe5(0xd8)](xMetric)]),_0x30fb00=_0x2d20f2-_0x24162b,_0x553e6f=_0x30fb00*0.1;return[_0x24162b-_0x553e6f,_0x2d20f2+_0x553e6f];}())),yScale[_0x53fc19(0xe9)]([height,0x0])[_0x53fc19(0x8e)]((function(){var _0x5240c3=_0x53fc19;const _0xb40e40=d3[_0x5240c3(0xd1)](filteredData,_0x167fc8=>_0x167fc8[header['indexOf'](yMetric)]),_0x10f62d=d3['max'](filteredData,_0x536f32=>_0x536f32[header[_0x5240c3(0xd8)](yMetric)]),_0x4e43db=_0x10f62d-_0xb40e40,_0x4890b3=_0x4e43db*0.1;return[_0xb40e40-_0x4890b3,_0x10f62d+_0x4890b3];}())),gXAxis[_0x53fc19(0xc5)](d3[_0x53fc19(0x15d)](xScale)[_0x53fc19(0x155)](0x0)),gYAxis[_0x53fc19(0xc5)](d3[_0x53fc19(0xb7)](yScale)[_0x53fc19(0x155)](0x0));const _0x3d6ae4=_0x53fc19(0x123)+xMetric[_0x53fc19(0xf8)]()[_0x53fc19(0xd6)](/ /g,'-')[_0x53fc19(0xd6)](/%/g,_0x53fc19(0xbd)),_0x8d8384=_0x53fc19(0x123)+yMetric[_0x53fc19(0xf8)]()[_0x53fc19(0xd6)](/ /g,'-')[_0x53fc19(0xd6)](/%/g,_0x53fc19(0xbd));xLabel[_0x53fc19(0x128)]('data-i18n',_0x3d6ae4),yLabel['attr'](_0x53fc19(0x7f),_0x8d8384);if(window['currentTranslations']&&window[_0x53fc19(0x98)][_0x53fc19(0xc1)]){const _0x4ed656=xMetric[_0x53fc19(0xf8)]()[_0x53fc19(0xd6)](/ /g,'-')['replace'](/%/g,_0x53fc19(0xbd)),_0x53a755=yMetric[_0x53fc19(0xf8)]()[_0x53fc19(0xd6)](/ /g,'-')[_0x53fc19(0xd6)](/%/g,'pct'),_0x14e505=window[_0x53fc19(0x98)][_0x53fc19(0xc1)][_0x4ed656],_0xc25024=window[_0x53fc19(0x98)][_0x53fc19(0xc1)][_0x53a755];xLabel['text'](_0x14e505||xMetric),yLabel[_0x53fc19(0xf2)](_0xc25024||yMetric);}else xLabel[_0x53fc19(0xf2)](xMetric),yLabel['text'](yMetric);svg[_0x53fc19(0xda)]('circle')[_0x53fc19(0x8d)](),svg[_0x53fc19(0xda)](_0x53fc19(0xcc))[_0x53fc19(0x8d)](),svg['selectAll']('.xy-line')[_0x53fc19(0x8d)](),svg[_0x53fc19(0xda)](_0x53fc19(0xff))[_0x53fc19(0x8d)](),svg[_0x53fc19(0xda)](_0x53fc19(0x73))[_0x53fc19(0x8d)](),svg[_0x53fc19(0xda)](_0x53fc19(0xb3))['remove'](),svg[_0x53fc19(0xda)](_0x53fc19(0x75))[_0x53fc19(0x8d)](),svg[_0x53fc19(0xda)](_0x53fc19(0xe6))[_0x53fc19(0x8d)](),svg[_0x53fc19(0xda)]('marker#arrow-over,\x20marker#arrow-under')[_0x53fc19(0x8d)](),svg[_0x53fc19(0xda)](_0x53fc19(0x110))[_0x53fc19(0x8d)](),svg['selectAll'](_0x53fc19(0x109))[_0x53fc19(0x8d)]();if(xMetric==='xG\x20per\x2090'&&yMetric===_0x53fc19(0x101)||xMetric===_0x53fc19(0x101)&&yMetric===_0x53fc19(0xad)){var _0x6906e5=null,_0x50ad42=d3[_0x53fc19(0xd1)](filteredData,function(_0xbc08e2){return _0xbc08e2[header['indexOf'](xMetric)];}),_0x3dcc17=d3[_0x53fc19(0x88)](filteredData,function(_0x3dd157){var _0x24c043=_0x53fc19;return _0x3dd157[header[_0x24c043(0xd8)](xMetric)];}),_0x408115=d3[_0x53fc19(0xd1)](filteredData,function(_0x19a3f4){var _0x46290b=_0x53fc19;return _0x19a3f4[header[_0x46290b(0xd8)](yMetric)];}),_0x3d8418=d3[_0x53fc19(0x88)](filteredData,function(_0x5ef9d4){var _0x1df58d=_0x53fc19;return _0x5ef9d4[header[_0x1df58d(0xd8)](yMetric)];}),_0x394146=Math[_0x53fc19(0xd1)](_0x3dcc17,_0x3d8418),_0x580b2b=Math['max'](_0x50ad42,_0x408115);svg[_0x53fc19(0xcd)](_0x53fc19(0xd7))[_0x53fc19(0x128)](_0x53fc19(0x15a),_0x53fc19(0xdf))[_0x53fc19(0x128)]('x1',xScale(_0x580b2b))[_0x53fc19(0x128)]('y1',yScale(_0x580b2b))['attr']('x2',xScale(_0x394146))[_0x53fc19(0x128)]('y2',yScale(_0x394146))['style']('stroke','#2ecc71')['style']('stroke-width','2')[_0x53fc19(0x95)](_0x53fc19(0x161),_0x53fc19(0xf5)),svg[_0x53fc19(0xcd)](_0x53fc19(0xd7))[_0x53fc19(0x128)]('class',_0x53fc19(0xfc))[_0x53fc19(0x128)]('x1',xScale(_0x580b2b))[_0x53fc19(0x128)]('y1',yScale(_0x580b2b))['attr']('x2',xScale(_0x394146))[_0x53fc19(0x128)]('y2',yScale(_0x394146))[_0x53fc19(0x95)]('stroke',_0x53fc19(0x11c))[_0x53fc19(0x95)](_0x53fc19(0x8b),'15')[_0x53fc19(0x95)](_0x53fc19(0x79),'help')['on'](_0x53fc19(0x82),function(){var _0x4e7ebf=_0x53fc19;_0x6906e5&&clearTimeout(_0x6906e5);var _0x2e89de=d3[_0x4e7ebf(0xd0)][_0x4e7ebf(0x156)],_0x5e8660=d3[_0x4e7ebf(0xd0)]['pageY'];_0x6906e5=setTimeout(function(){var _0x30b444=_0x4e7ebf;tooltip[_0x30b444(0x115)]()[_0x30b444(0xdb)](0xc8)[_0x30b444(0x95)](_0x30b444(0xa5),0.9);var _0x5ae95b=_0x30b444(0x142)+getTranslation('tooltip.xg-line-title',_0x30b444(0x12f))+_0x30b444(0xb5);xMetric==='xG\x20per\x2090'&&yMetric===_0x30b444(0x101)?_0x5ae95b+=_0x30b444(0xa8)+getTranslation(_0x30b444(0xf6),_0x30b444(0x84))+_0x30b444(0xc2)+'<span>'+getTranslation('tooltip.xg-line-below',_0x30b444(0x97))+_0x30b444(0x9f):_0x5ae95b+=_0x30b444(0xa8)+getTranslation(_0x30b444(0x151),_0x30b444(0x111))+_0x30b444(0xc2)+_0x30b444(0xa8)+getTranslation('tooltip.xg-line-left',_0x30b444(0x99))+_0x30b444(0x9f),tooltip['html'](_0x5ae95b)[_0x30b444(0x95)](_0x30b444(0x10e),_0x2e89de+0xa+'px')[_0x30b444(0x95)](_0x30b444(0x13a),_0x5e8660-0x1c+'px');},0x258);})['on'](_0x53fc19(0xf9),function(){var _0x2395e4=_0x53fc19;_0x6906e5&&(clearTimeout(_0x6906e5),_0x6906e5=null),tooltip[_0x2395e4(0x115)]()[_0x2395e4(0xdb)](0x1f4)[_0x2395e4(0x95)](_0x2395e4(0xa5),0x0);});}if(medianLinesVisible){var _0x1c8495=d3[_0x53fc19(0x94)](filteredData,function(_0x30cba2){return _0x30cba2[header['indexOf'](xMetric)];}),_0x3f87eb=d3[_0x53fc19(0x94)](filteredData,function(_0x199166){return _0x199166[header['indexOf'](yMetric)];});svg[_0x53fc19(0xcd)](_0x53fc19(0xd7))['attr']('class',_0x53fc19(0x77))[_0x53fc19(0x128)]('x1',xScale(_0x1c8495))[_0x53fc19(0x128)]('y1',0x0)[_0x53fc19(0x128)]('x2',xScale(_0x1c8495))[_0x53fc19(0x128)]('y2',height)['style'](_0x53fc19(0x14d),_0x53fc19(0x9a))[_0x53fc19(0x95)]('stroke-dasharray','4'),svg[_0x53fc19(0xcd)](_0x53fc19(0xd7))[_0x53fc19(0x128)]('class',_0x53fc19(0x77))[_0x53fc19(0x128)]('x1',0x0)['attr']('y1',yScale(_0x3f87eb))['attr']('x2',width)[_0x53fc19(0x128)]('y2',yScale(_0x3f87eb))[_0x53fc19(0x95)](_0x53fc19(0x14d),'rgba(0,\x200,\x200,\x200.3)')[_0x53fc19(0x95)](_0x53fc19(0x161),'4');}circles=svg[_0x53fc19(0xda)](_0x53fc19(0x7d))[_0x53fc19(0x8a)](filteredData)[_0x53fc19(0x148)]()[_0x53fc19(0xcd)]('circle')[_0x53fc19(0x128)]('cx',function(_0x4e8783){return xScale(_0x4e8783[header['indexOf'](xMetric)]);})[_0x53fc19(0x128)]('cy',function(_0x22dd55){var _0x44a6a2=_0x53fc19;return yScale(_0x22dd55[header[_0x44a6a2(0xd8)](yMetric)]);})['attr']('r',0x8)[_0x53fc19(0x95)](_0x53fc19(0xeb),function(_0x22d879){var _0x403a16=_0x53fc19;if(clickedCircles[_0x403a16(0x160)](_0x22d879[0x1]))return getLeagueColor(_0x22d879[0x2]);return _0x403a16(0xef);})[_0x53fc19(0x95)]('stroke',function(_0x12c00f){var _0x119bc0=_0x53fc19;return clickedCircles[_0x119bc0(0x160)](_0x12c00f[0x1])?'#000':_0x119bc0(0x78);})[_0x53fc19(0x95)](_0x53fc19(0x8b),function(_0x541f03){var _0x2e8230=_0x53fc19;return clickedCircles[_0x2e8230(0x160)](_0x541f03[0x1])?0x2:0x0;})['style']('cursor',_0x53fc19(0x132))['on']('mouseover',function(_0x728531){var _0x13deaa=_0x53fc19;d3['select'](this)[_0x13deaa(0x115)]()[_0x13deaa(0xdb)](0xc8)[_0x13deaa(0x128)]('r',0xa)[_0x13deaa(0x95)](_0x13deaa(0xeb),getLeagueColor(_0x728531[0x2])),tooltip[_0x13deaa(0x115)]()[_0x13deaa(0xdb)](0xc8)['style'](_0x13deaa(0xa5),0.9);const _0x3002bf=_0x13deaa(0x123)+xMetric['toLowerCase']()[_0x13deaa(0xd6)](/ /g,'-')['replace'](/%/g,_0x13deaa(0xbd)),_0x2570ea='metrics.'+yMetric[_0x13deaa(0xf8)]()['replace'](/ /g,'-')[_0x13deaa(0xd6)](/%/g,_0x13deaa(0xbd)),_0x3fdcb2=getTranslation(_0x3002bf,xMetric),_0x2d8f92=getTranslation(_0x2570ea,yMetric);tooltip[_0x13deaa(0xba)](_0x13deaa(0x142)+_0x728531[0x1]+_0x13deaa(0xb5)+_0x3fdcb2+':\x20'+_0x728531[header[_0x13deaa(0xd8)](xMetric)][_0x13deaa(0x11a)](0x2)+_0x13deaa(0x163)+_0x2d8f92+':\x20'+_0x728531[header[_0x13deaa(0xd8)](yMetric)][_0x13deaa(0x11a)](0x2));const _0x4d65d0=tooltip['node']();if(_0x4d65d0){const _0x180e9e=_0x4d65d0[_0x13deaa(0xa3)](),_0x53ef4f=window[_0x13deaa(0x12d)],_0xf5ec72=window[_0x13deaa(0xbe)];let _0x1b58f5=d3[_0x13deaa(0xd0)][_0x13deaa(0x156)]+0xa,_0x535a7b=d3[_0x13deaa(0xd0)]['pageY']-0x1c;_0x1b58f5+_0x180e9e[_0x13deaa(0xfa)]>_0x53ef4f-0xa&&(_0x1b58f5=d3['event'][_0x13deaa(0x156)]-_0x180e9e['width']-0xa),_0x535a7b+_0x180e9e['height']>_0xf5ec72-0xa&&(_0x535a7b=d3[_0x13deaa(0xd0)]['pageY']-_0x180e9e[_0x13deaa(0x10a)]-0xa),_0x1b58f5=Math[_0x13deaa(0x88)](0xa,_0x1b58f5),_0x535a7b=Math[_0x13deaa(0x88)](0xa,_0x535a7b),tooltip[_0x13deaa(0x95)]('left',_0x1b58f5+'px')[_0x13deaa(0x95)](_0x13deaa(0x13a),_0x535a7b+'px');}else tooltip['style'](_0x13deaa(0x10e),d3[_0x13deaa(0xd0)][_0x13deaa(0x156)]+0xa+'px')[_0x13deaa(0x95)](_0x13deaa(0x13a),d3['event'][_0x13deaa(0x12e)]-0x1c+'px');window[_0x13deaa(0x12d)]<=0x300&&setTimeout(function(){var _0x203eae=_0x13deaa;tooltip[_0x203eae(0x115)]()[_0x203eae(0xdb)](0xc8)[_0x203eae(0x95)](_0x203eae(0xa5),0x0);},0x3e8);})['on']('mouseout',function(_0x5d94e2){var _0x30e869=_0x53fc19;window[_0x30e869(0x12d)]>0x300&&tooltip[_0x30e869(0x115)]()['duration'](0x1f4)[_0x30e869(0x95)](_0x30e869(0xa5),0x0);var _0x45b7ff=clickedCircles['includes'](_0x5d94e2[0x1]);d3[_0x30e869(0x140)](this)['transition']()[_0x30e869(0xdb)](0xc8)['attr']('r',0x8)[_0x30e869(0x95)](_0x30e869(0xeb),function(){var _0x3723f3=_0x30e869;return _0x45b7ff?getLeagueColor(_0x5d94e2[0x2]):_0x3723f3(0xef);});})['on']('click',function(_0x26ade0){var _0x1f49e3=_0x53fc19,_0x2bf580=d3[_0x1f49e3(0x140)](this)['classed'](_0x1f49e3(0x144));_0x2bf580&&resetSearch();var _0x3f1e84=clickedCircles[_0x1f49e3(0xd8)](_0x26ade0[0x1]);_0x3f1e84===-0x1?(clickedCircles[_0x1f49e3(0x86)](_0x26ade0[0x1]),d3[_0x1f49e3(0x140)](this)[_0x1f49e3(0x95)](_0x1f49e3(0xeb),getLeagueColor(_0x26ade0[0x2]))['style'](_0x1f49e3(0x14d),_0x1f49e3(0x113))['style'](_0x1f49e3(0x8b),0x2),addTeamLabel(_0x26ade0)):(clickedCircles['splice'](_0x3f1e84,0x1),d3[_0x1f49e3(0x140)](this)[_0x1f49e3(0x95)]('fill',_0x1f49e3(0xef))['style']('stroke','none'),svg[_0x1f49e3(0xda)]('.team-label-'+_0x26ade0[0x1][_0x1f49e3(0xd6)](/\s+/g,'-')[_0x1f49e3(0xf8)]())[_0x1f49e3(0x8d)]());updateSelectAllButtonText();var _0x2ca0d2=document['getElementById']('select-league')[_0x1f49e3(0x149)];updateLeagueLegend(_0x2ca0d2);}),clickedCircles['forEach'](function(_0x360632){var _0x383110=filteredData['find'](function(_0x41a202){return _0x41a202[0x1]===_0x360632;});_0x383110&&addTeamLabel(_0x383110);}),updateSelectAllButtonText(),updateLeagueLegend(_0x3b02b5);}function updateSelectAllButtonText(){var _0x47d2ef=_0x4ac39d,_0x16736b=document[_0x47d2ef(0x9d)](_0x47d2ef(0x107)),_0xaa7a78=document['getElementById'](_0x47d2ef(0x126)),_0x1ecc91=filteredData['every'](function(_0x3d1d8b){var _0x59b257=_0x47d2ef;return clickedCircles[_0x59b257(0x160)](_0x3d1d8b[0x1]);});_0x1ecc91?(_0x16736b[_0x47d2ef(0x76)]=_0x47d2ef(0x150),_0xaa7a78&&(window[_0x47d2ef(0x98)]&&window[_0x47d2ef(0x98)][_0x47d2ef(0x10b)]?_0xaa7a78['textContent']=window['currentTranslations'][_0x47d2ef(0x10b)][_0x47d2ef(0x158)]||_0x47d2ef(0xa6):_0xaa7a78[_0x47d2ef(0xce)]=_0x47d2ef(0xa6))):(_0x16736b[_0x47d2ef(0x76)]=_0x47d2ef(0x152),_0xaa7a78&&(window['currentTranslations']&&window[_0x47d2ef(0x98)][_0x47d2ef(0x10b)]?_0xaa7a78['textContent']=window[_0x47d2ef(0x98)]['tooltip'][_0x47d2ef(0xda)]||_0x47d2ef(0x121):_0xaa7a78[_0x47d2ef(0xce)]=_0x47d2ef(0x121)));}selectX['on'](_0x4ac39d(0x13b),updateChart),selectY['on'](_0x4ac39d(0x13b),updateChart);function removeSpecialCharsAndDiacritics(_0xecaa8f){var _0x1dc72f=_0x4ac39d;if(!_0xecaa8f)return'';return _0xecaa8f['normalize'](_0x1dc72f(0x92))[_0x1dc72f(0xd6)](/[\u0300-\u036f]/g,'')[_0x1dc72f(0xd6)](/Ø/g,'O')['replace'](/ø/g,'o');}var searchBar=document['getElementById'](_0x4ac39d(0x96));searchBar[_0x4ac39d(0x120)](_0x4ac39d(0x12a),function(){var _0x597cb9=_0x4ac39d,_0x68d64f=searchBar[_0x597cb9(0x149)][_0x597cb9(0xf8)]();if(_0x68d64f===''){resetSearch();return;}var _0x13eabb=removeSpecialCharsAndDiacritics(_0x68d64f);svg['selectAll'](_0x597cb9(0x7d))[_0x597cb9(0x125)]('search-match',![])[_0x597cb9(0x95)](_0x597cb9(0xeb),function(_0x4feaad){var _0x5dfc37=_0x597cb9;return clickedCircles[_0x5dfc37(0x160)](_0x4feaad[0x1])?getLeagueColor(_0x4feaad[0x2]):_0x5dfc37(0xef);})[_0x597cb9(0x95)](_0x597cb9(0x14d),function(_0x5a331f){var _0x624163=_0x597cb9;return clickedCircles[_0x624163(0x160)](_0x5a331f[0x1])?'#000':_0x624163(0x78);})['style'](_0x597cb9(0x8b),function(_0x27e023){return clickedCircles['includes'](_0x27e023[0x1])?0x2:0x0;})[_0x597cb9(0x95)]('filter',_0x597cb9(0x78))[_0x597cb9(0xe3)](function(){var _0x243cf8=_0x597cb9;d3['select'](this)[_0x243cf8(0x95)]('r',null);}),svg['selectAll']('.team-label')[_0x597cb9(0x125)](_0x597cb9(0x144),![])[_0x597cb9(0x125)](_0x597cb9(0x15e),![]);var _0x2a369e=[];svg[_0x597cb9(0xda)](_0x597cb9(0x7d))[_0x597cb9(0x81)](function(_0x3ecd3e){var _0x5b9c1d=_0x597cb9,_0x2239f2=_0x3ecd3e[0x1][_0x5b9c1d(0xf8)](),_0x511f75=removeSpecialCharsAndDiacritics(_0x2239f2),_0x2be744=_0x2239f2[_0x5b9c1d(0x160)](_0x68d64f)||_0x511f75[_0x5b9c1d(0x160)](_0x13eabb);return _0x2be744&&_0x2a369e[_0x5b9c1d(0x86)](_0x3ecd3e[0x1]),_0x2be744;})['classed']('search-match',!![])[_0x597cb9(0xe3)](function(){var _0x10c577=_0x597cb9;this['parentNode'][_0x10c577(0x7b)](this);}),_0x2a369e[_0x597cb9(0x83)]>0x0?(svg['selectAll'](_0x597cb9(0xcc))[_0x597cb9(0x125)](_0x597cb9(0x15e),!![]),svg[_0x597cb9(0xda)](_0x597cb9(0xcc))['filter'](function(){var _0x478590=_0x597cb9,_0x245c0e=d3[_0x478590(0x140)](this)['text']();return _0x2a369e[_0x478590(0x160)](_0x245c0e);})[_0x597cb9(0x125)](_0x597cb9(0x144),!![])[_0x597cb9(0x125)](_0x597cb9(0x15e),![])['each'](function(){var _0x213b9e=_0x597cb9;this[_0x213b9e(0xd4)][_0x213b9e(0x7b)](this);}),_0x2a369e[_0x597cb9(0xf3)](function(_0x256aba){var _0x4b4057=_0x597cb9,_0x52390d='team-label-'+_0x256aba['replace'](/\s+/g,'-')[_0x4b4057(0xf8)]();if(svg[_0x4b4057(0x140)]('.'+_0x52390d)['size']()===0x0){var _0x2a4aab=filteredData[_0x4b4057(0x91)](function(_0x140990){return _0x140990[0x1]===_0x256aba;});_0x2a4aab&&(addTeamLabel(_0x2a4aab),svg[_0x4b4057(0x140)]('.'+_0x52390d)[_0x4b4057(0x125)](_0x4b4057(0x144),!![]));}})):(svg[_0x597cb9(0xda)](_0x597cb9(0xcc))['each'](function(){var _0x48a34b=_0x597cb9,_0x5becd6=d3[_0x48a34b(0x140)](this),_0x5bcd86=_0x5becd6[_0x48a34b(0xf2)]();!clickedCircles[_0x48a34b(0x160)](_0x5bcd86)&&_0x5becd6[_0x48a34b(0x8d)]();}),svg[_0x597cb9(0xda)](_0x597cb9(0x7d))[_0x597cb9(0x95)](_0x597cb9(0xeb),function(_0x46fdb3){var _0x175893=_0x597cb9;return clickedCircles[_0x175893(0x160)](_0x46fdb3[0x1])?getLeagueColor(_0x46fdb3[0x2]):_0x175893(0xef);})['style'](_0x597cb9(0x14d),function(_0x64d405){var _0x2fb31d=_0x597cb9;return clickedCircles[_0x2fb31d(0x160)](_0x64d405[0x1])?'#000':_0x2fb31d(0x78);})[_0x597cb9(0x95)](_0x597cb9(0x8b),function(_0x102a5b){return clickedCircles['includes'](_0x102a5b[0x1])?0x2:0x0;}));});function resetSearch(){var _0xd36950=_0x4ac39d;searchBar['value']='',svg[_0xd36950(0xda)](_0xd36950(0x7d))[_0xd36950(0x125)](_0xd36950(0x144),![])[_0xd36950(0x95)](_0xd36950(0xeb),function(_0x41a65c){var _0x47f94e=_0xd36950;return clickedCircles[_0x47f94e(0x160)](_0x41a65c[0x1])?getLeagueColor(_0x41a65c[0x2]):_0x47f94e(0xef);})[_0xd36950(0x95)]('stroke',function(_0x50e885){var _0x29d532=_0xd36950;return clickedCircles[_0x29d532(0x160)](_0x50e885[0x1])?_0x29d532(0x113):_0x29d532(0x78);})['style'](_0xd36950(0x8b),function(_0x4080b8){return clickedCircles['includes'](_0x4080b8[0x1])?0x2:0x0;})[_0xd36950(0x95)](_0xd36950(0x81),'none')['each'](function(){var _0x17bdd1=_0xd36950;d3[_0x17bdd1(0x140)](this)[_0x17bdd1(0x95)]('r',null),d3[_0x17bdd1(0x140)](this)[_0x17bdd1(0x14c)]();}),svg[_0xd36950(0xda)]('.team-label')[_0xd36950(0x125)](_0xd36950(0x144),![])[_0xd36950(0x125)](_0xd36950(0x15e),![])[_0xd36950(0xe3)](function(){var _0x18d825=_0xd36950;d3[_0x18d825(0x140)](this)[_0x18d825(0x14c)]();}),svg[_0xd36950(0xda)](_0xd36950(0xcc))[_0xd36950(0xe3)](function(){var _0x3a8582=_0xd36950,_0x304e86=d3[_0x3a8582(0x140)](this),_0x27e02a=_0x304e86[_0x3a8582(0xf2)]();!clickedCircles['includes'](_0x27e02a)&&_0x304e86[_0x3a8582(0x8d)]();});}var toggleButton=document[_0x4ac39d(0x9d)](_0x4ac39d(0x157));toggleButton['addEventListener'](_0x4ac39d(0x14a),function(){var _0x420c43=_0x4ac39d;medianLinesVisible=!medianLinesVisible,updateChart();const _0x3b5c47=document[_0x420c43(0x9d)](_0x420c43(0xc7));window[_0x420c43(0x98)]&&window[_0x420c43(0x98)][_0x420c43(0x10b)]?_0x3b5c47['textContent']=medianLinesVisible?window[_0x420c43(0x98)][_0x420c43(0x10b)][_0x420c43(0x167)]||_0x420c43(0xc8):window[_0x420c43(0x98)][_0x420c43(0x10b)][_0x420c43(0x7c)]||_0x420c43(0xf4):_0x3b5c47[_0x420c43(0xce)]=medianLinesVisible?_0x420c43(0xc8):_0x420c43(0xf4);});function selectAllCircles(){var _0x4f8428=_0x4ac39d,_0x3b90b0=filteredData[_0x4f8428(0x12c)](function(_0x1ccec6){var _0x191430=_0x4f8428;return clickedCircles[_0x191430(0x160)](_0x1ccec6[0x1]);});_0x3b90b0?(clickedCircles=[],svg['selectAll'](_0x4f8428(0x7d))['style'](_0x4f8428(0xeb),_0x4f8428(0xef))[_0x4f8428(0x95)](_0x4f8428(0x14d),_0x4f8428(0x78)),svg[_0x4f8428(0xda)](_0x4f8428(0xcc))['remove']()):(svg[_0x4f8428(0xda)](_0x4f8428(0x7d))['each'](function(_0x29d9ee){var _0x47883a=_0x4f8428;!clickedCircles[_0x47883a(0x160)](_0x29d9ee[0x1])&&(clickedCircles[_0x47883a(0x86)](_0x29d9ee[0x1]),d3[_0x47883a(0x140)](this)[_0x47883a(0x95)](_0x47883a(0xeb),getLeagueColor(_0x29d9ee[0x2]))[_0x47883a(0x95)](_0x47883a(0x14d),_0x47883a(0x113))[_0x47883a(0x95)]('stroke-width',0x2));}),filteredData[_0x4f8428(0xf3)](function(_0x5b8f43){addTeamLabel(_0x5b8f43);}));updateSelectAllButtonText();var _0x35edb7=document['getElementById']('select-league')[_0x4f8428(0x149)];updateLeagueLegend(_0x35edb7);}updateChart(),initializeCustomSelectors();function updateLeagueLegend(_0x5ce452){var _0x34a8d7=_0x4ac39d,_0x7860f5=document[_0x34a8d7(0x9d)](_0x34a8d7(0x137));if(_0x5ce452!==_0x34a8d7(0xca)&&_0x5ce452!==_0x34a8d7(0x10f)){_0x7860f5[_0x34a8d7(0x95)][_0x34a8d7(0x7a)]=_0x34a8d7(0x78);return;}if(clickedCircles[_0x34a8d7(0x83)]===0x0){_0x7860f5[_0x34a8d7(0x95)]['display']=_0x34a8d7(0x78);return;}_0x7860f5[_0x34a8d7(0x95)][_0x34a8d7(0x7a)]='flex',_0x7860f5[_0x34a8d7(0xa1)]='';var _0x202fa7=document['createElement'](_0x34a8d7(0x102));_0x202fa7[_0x34a8d7(0x95)][_0x34a8d7(0xdc)]=_0x34a8d7(0x74),_0x202fa7[_0x34a8d7(0x95)][_0x34a8d7(0x168)]=_0x34a8d7(0x89),_0x7860f5[_0x34a8d7(0x7b)](_0x202fa7);var _0x57dea0=[];if(_0x5ce452===_0x34a8d7(0xca))_0x57dea0=Object[_0x34a8d7(0xb9)](leagueColors);else _0x5ce452==='Top\x205\x20Leagues'&&(_0x57dea0=['Premier\x20League','La\x20Liga','Bundesliga',_0x34a8d7(0x104),_0x34a8d7(0x14e)]);_0x57dea0[_0x34a8d7(0xf3)](function(_0x3a6860){var _0x15854a=_0x34a8d7,_0x3d9b74=document['createElement']('div');_0x3d9b74[_0x15854a(0x76)]='legend-item';var _0x1ce2bf=document[_0x15854a(0xbb)]('div');_0x1ce2bf['className']=_0x15854a(0x13c),_0x1ce2bf['style'][_0x15854a(0xb2)]=leagueColors[_0x3a6860];var _0x258cc9=document['createElement'](_0x15854a(0xbf));_0x258cc9[_0x15854a(0xce)]=_0x3a6860,_0x3d9b74[_0x15854a(0x7b)](_0x1ce2bf),_0x3d9b74[_0x15854a(0x7b)](_0x258cc9),_0x7860f5[_0x15854a(0x7b)](_0x3d9b74);});}const data1=dataLines['map'](_0x5cde67=>{var _0xcbf52b=_0x4ac39d;const [_0x2aa65e,_0x4b19eb]=_0x5cde67[_0xcbf52b(0x134)](',');return{'name':_0x2aa65e,'link':_0x4b19eb};});function search2(_0x21abc0){var _0x393560=_0x4ac39d;autocompleteBox['innerHTML']='';const _0x48b5fc=_0x21abc0[_0x393560(0xf8)](),_0x3e7e33=data1[_0x393560(0x81)](_0x3b4ddb=>{var _0x32af88=_0x393560;const _0x1bdad3=_0x3b4ddb['name']?_0x3b4ddb['name'][_0x32af88(0xf8)]():'';return _0x1bdad3['includes'](_0x48b5fc);});if(_0x3e7e33[_0x393560(0x83)]===0x0){autocompleteBox[_0x393560(0x95)][_0x393560(0x7a)]='none';return;}_0x3e7e33['forEach'](_0x5fad0a=>{var _0x18b8eb=_0x393560;if(_0x5fad0a[_0x18b8eb(0x87)]&&_0x5fad0a[_0x18b8eb(0xb4)]){const _0xfdcde6=document['createElement'](_0x18b8eb(0x102)),_0x5a4273=document[_0x18b8eb(0xbb)]('a');_0x5a4273[_0x18b8eb(0xf7)]=_0x5fad0a[_0x18b8eb(0xb4)],_0x5a4273[_0x18b8eb(0xce)]=_0x5fad0a[_0x18b8eb(0x87)],_0xfdcde6[_0x18b8eb(0x7b)](_0x5a4273),autocompleteBox[_0x18b8eb(0x7b)](_0xfdcde6);}}),autocompleteBox[_0x393560(0x95)][_0x393560(0x7a)]='block';}searchInput['addEventListener'](_0x4ac39d(0x12a),()=>{var _0x4d2f11=_0x4ac39d;const _0x86652=searchInput['value'];_0x86652[_0x4d2f11(0x117)]()===''?autocompleteBox[_0x4d2f11(0x95)][_0x4d2f11(0x7a)]='none':search2(_0x86652);});function addTeamLabel(_0x4b9db2){var _0x2bede7=_0x4ac39d,_0x8eee88=xScale(_0x4b9db2[header['indexOf'](xMetric)]),_0x53861a=yScale(_0x4b9db2[header[_0x2bede7(0xd8)](yMetric)]),_0x2d1fd6=_0x2bede7(0xc3)+_0x4b9db2[0x1][_0x2bede7(0xd6)](/\s+/g,'-')[_0x2bede7(0xf8)]();if(svg[_0x2bede7(0x140)]('.'+_0x2d1fd6)[_0x2bede7(0x124)]()>0x0)return;var _0x3b5d87=svg[_0x2bede7(0xcd)]('text')[_0x2bede7(0x128)](_0x2bede7(0x15a),'team-label\x20'+_0x2d1fd6)[_0x2bede7(0x128)]('x',_0x8eee88+0xc)[_0x2bede7(0x128)]('y',_0x53861a+0x4)[_0x2bede7(0xf2)](_0x4b9db2[0x1])[_0x2bede7(0x95)](_0x2bede7(0xde),_0x2bede7(0x130))[_0x2bede7(0x95)](_0x2bede7(0xe2),_0x2bede7(0xb1))[_0x2bede7(0x95)](_0x2bede7(0x85),_0x2bede7(0x159))[_0x2bede7(0x95)](_0x2bede7(0xeb),_0x2bede7(0x103))['attr'](_0x2bede7(0x93),_0x8eee88)['attr']('data-original-y',_0x53861a)[_0x2bede7(0x128)]('data-stable-position',_0x2bede7(0x14f));positionLabelToAvoidOverlap(_0x3b5d87,_0x8eee88,_0x53861a);}function positionLabelToAvoidOverlap(_0x666117,_0x3a8c3b,_0x374298){var _0x4ec359=_0x4ac39d;if(_0x666117[_0x4ec359(0x128)](_0x4ec359(0xe7))===_0x4ec359(0xf0)){var _0x474bd4=parseFloat(_0x666117[_0x4ec359(0x128)](_0x4ec359(0x93))),_0x3374fc=parseFloat(_0x666117[_0x4ec359(0x128)](_0x4ec359(0xe1))),_0x43e628=parseFloat(_0x666117['attr']('x')),_0x29d095=parseFloat(_0x666117[_0x4ec359(0x128)]('y')),_0x5b0d39=Math[_0x4ec359(0x108)](Math[_0x4ec359(0xae)](_0x474bd4-_0x3a8c3b,0x2)+Math[_0x4ec359(0xae)](_0x3374fc-_0x374298,0x2));if(_0x5b0d39<0x5){_0x666117['attr'](_0x4ec359(0x93),_0x3a8c3b)[_0x4ec359(0x128)](_0x4ec359(0xe1),_0x374298);return;}_0x666117[_0x4ec359(0x128)](_0x4ec359(0xe7),_0x4ec359(0x14f));}var _0x119982=svg[_0x4ec359(0xda)](_0x4ec359(0xcc))[_0x4ec359(0x81)](function(){var _0x36797c=_0x4ec359;return this!==_0x666117[_0x36797c(0x153)]();}),_0x3e2fbb=_0x666117[_0x4ec359(0x153)]()[_0x4ec359(0x145)](),_0x3f1bd7=[{'x':_0x3a8c3b+0xc,'y':_0x374298+0x4},{'x':_0x3a8c3b+0xc,'y':_0x374298-0xa},{'x':_0x3a8c3b+0xc,'y':_0x374298+0x12},{'x':_0x3a8c3b-_0x3e2fbb[_0x4ec359(0xfa)]-0x5,'y':_0x374298+0x4},{'x':_0x3a8c3b-_0x3e2fbb[_0x4ec359(0xfa)]-0x5,'y':_0x374298-0xa},{'x':_0x3a8c3b-_0x3e2fbb[_0x4ec359(0xfa)]-0x5,'y':_0x374298+0x12},{'x':_0x3a8c3b-_0x3e2fbb['width']/0x2,'y':_0x374298-0xf},{'x':_0x3a8c3b-_0x3e2fbb[_0x4ec359(0xfa)]/0x2,'y':_0x374298+0x19}],_0x4584e4=findPositionWithoutOverlap(_0x3f1bd7,_0x119982,_0x3e2fbb);_0x666117[_0x4ec359(0x128)]('x',_0x4584e4['x'])['attr']('y',_0x4584e4['y'])[_0x4ec359(0x128)](_0x4ec359(0x93),_0x3a8c3b)[_0x4ec359(0x128)]('data-original-y',_0x374298)[_0x4ec359(0x128)](_0x4ec359(0xe7),'true');}function findPositionWithoutOverlap(_0x2b55c5,_0x588855,_0x246e44){var _0x3456e5=_0x4ac39d;for(var _0xb11da4=0x0;_0xb11da4<_0x2b55c5[_0x3456e5(0x83)];_0xb11da4++){var _0x35540c=_0x2b55c5[_0xb11da4],_0x5b68b5=![],_0x552356={'x1':_0x35540c['x'],'y1':_0x35540c['y']-_0x246e44[_0x3456e5(0x10a)],'x2':_0x35540c['x']+_0x246e44[_0x3456e5(0xfa)],'y2':_0x35540c['y']+0x5};if(_0x552356['x1']<0x0||_0x552356['x2']>width||_0x552356['y1']<0x0||_0x552356['y2']>height)continue;_0x588855[_0x3456e5(0xe3)](function(){var _0x1c4bf8=_0x3456e5,_0xab296b=d3[_0x1c4bf8(0x140)](this)[_0x1c4bf8(0x153)]()[_0x1c4bf8(0x145)](),_0x39e419=parseFloat(d3['select'](this)[_0x1c4bf8(0x128)]('x')),_0x447626=parseFloat(d3[_0x1c4bf8(0x140)](this)[_0x1c4bf8(0x128)]('y')),_0x5042ef={'x1':_0x39e419,'y1':_0x447626-_0xab296b['height'],'x2':_0x39e419+_0xab296b[_0x1c4bf8(0xfa)],'y2':_0x447626+0x5};!(_0x552356['x2']<_0x5042ef['x1']||_0x552356['x1']>_0x5042ef['x2']||_0x552356['y2']<_0x5042ef['y1']||_0x552356['y1']>_0x5042ef['y2'])&&(_0x5b68b5=!![]);});if(!_0x5b68b5)return _0x35540c;}for(var _0xb11da4=0x0;_0xb11da4<_0x2b55c5[_0x3456e5(0x83)];_0xb11da4++){var _0x35540c=_0x2b55c5[_0xb11da4],_0x552356={'x1':_0x35540c['x'],'y1':_0x35540c['y']-_0x246e44[_0x3456e5(0x10a)],'x2':_0x35540c['x']+_0x246e44[_0x3456e5(0xfa)],'y2':_0x35540c['y']+0x5};if(_0x552356['x1']>=0x0&&_0x552356['x2']<=width&&_0x552356['y1']>=0x0&&_0x552356['y2']<=height)return _0x35540c;}var _0x397112={'x':Math[_0x3456e5(0xd1)](Math[_0x3456e5(0x88)](0x0,_0x2b55c5[0x0]['x']),width-_0x246e44[_0x3456e5(0xfa)]),'y':Math[_0x3456e5(0xd1)](Math[_0x3456e5(0x88)](_0x246e44[_0x3456e5(0x10a)],_0x2b55c5[0x0]['y']),height)};return _0x397112;}var originalUpdateChart=updateChart;updateChart=function(){originalUpdateChart(),setTimeout(function(){var _0x14ab63=_0x7f36,_0x37332a=svg['selectAll'](_0x14ab63(0xcc));_0x37332a[_0x14ab63(0xe3)](function(){var _0x37e354=_0x14ab63,_0x4d71e6=d3[_0x37e354(0x140)](this),_0x907463=_0x4d71e6[_0x37e354(0xf2)](),_0x5d31fe=filteredData[_0x37e354(0x91)](function(_0x475e1b){return _0x475e1b[0x1]===_0x907463;});if(_0x5d31fe){var _0x2524e9=xScale(_0x5d31fe[header[_0x37e354(0xd8)](xMetric)]),_0x3d03b0=yScale(_0x5d31fe[header[_0x37e354(0xd8)](yMetric)]);positionLabelToAvoidOverlap(_0x4d71e6,_0x2524e9,_0x3d03b0);}});},0xa);},document['addEventListener'](_0x4ac39d(0x165),function(){var _0x44971d=_0x4ac39d;const _0x2b5e75=document[_0x44971d(0x9d)](_0x44971d(0xc7));_0x2b5e75[_0x44971d(0xce)]=medianLinesVisible?_0x44971d(0xc8):_0x44971d(0xf4);});
    </script>
  <script>



        // Global translation helper function
        function getTranslation(key, defaultText) {
            // Split the key into parts (e.g., "tooltip.xg-line-title" -> ["tooltip", "xg-line-title"])
            const keys = key.split('.');
            
            // Try to find the translation in the current language
            try {
                let currentTranslations = window.currentTranslations || {};
                for (const k of keys) {
                    if (currentTranslations && currentTranslations[k]) {
                        currentTranslations = currentTranslations[k];
                    } else {
                        return defaultText;
                    }
                }
                return currentTranslations;
            } catch (e) {
                return defaultText;
            }
        }
        
    
  function setLanguage(language) {
    localStorage.setItem('preferredLanguage', language);
    const url = new URL(window.location.href);
    if (language === 'en') {
      url.searchParams.delete('lang');
    } else {
      url.searchParams.set('lang', language);
    }
    window.history.pushState({}, '', url);
    applyLanguage(language);
  }
  
  function getPreferredLanguage() {
    // PRIORITY 1: Check URL parameter first
    const urlParams = new URLSearchParams(window.location.search);
    const langParam = urlParams.get('lang');
    if (langParam) {
      return langParam;
    }
    // PRIORITY 2: Check localStorage
    const storedLang = localStorage.getItem('preferredLanguage');
    if (storedLang) {
      return storedLang;
    }
    // PRIORITY 3: Use browser language
    return getBrowserLanguage() || 'en';
  }

  function getBrowserLanguage() {
    return navigator.language.slice(0, 2);
  }

  function applyLanguage(language) {
    console.log(language);

    if (language === 'en') {
      return;
    }

    
    fetch(`locales/${language}.json`)
      .then(response => {
        // Don't throw an error, just return null if response is not OK
        return response.ok ? response.json() : null;
      })
      .then(translations => {
        // Only proceed if translations exist
        if (translations) {
          document.querySelectorAll('[data-i18n]').forEach(element => {
            const keys = element.getAttribute('data-i18n').split('.');
            let value = translations;
            for (const key of keys) {
              if (value === undefined || value === null) break;
              value = value[key];
            }
            if (value) {
              if (element.tagName === 'META') {
              element.setAttribute('content', value);
          } else if (value.includes('<')) {
              element.innerHTML = value;
          } else {
              element.textContent = value;
          }          }
          });
          // REMOVE FOR PAGES WITH NO METADATA
          document.querySelector('meta[name="language"]').setAttribute('content', language);
        }
      })
      .catch(() => {
        // Completely empty catch block to silently ignore any errors
      });
  }
  
  const preferredLanguage = getPreferredLanguage();
  applyLanguage(preferredLanguage);
  
  // BUTTON LANGUAGE SWITCHER REMOVE FOR PAGES WITH NO LANGUAGE SWITCHER
  document.addEventListener('DOMContentLoaded', function() {
    const languageButton = document.getElementById('languageButton');
    const languageDropdown = document.getElementById('languageDropdown');
    

    if (languageButton) {
      languageButton.addEventListener('click', function(e) {
        e.stopPropagation();
        languageDropdown.classList.toggle('show');
      });
    }
  
    document.querySelectorAll('.language-option').forEach(option => {
      option.addEventListener('click', function(e) {
        e.preventDefault();
        const lang = this.getAttribute('href').split('=')[1];
        setLanguage(lang);
        languageDropdown.classList.remove('show');
      });
    });
  
    document.addEventListener('click', function(event) {
      if (!event.target.closest('.language-switcher-container')) {
        if (languageDropdown) {
          languageDropdown.classList.remove('show');
        }
      }
    });
  });


function toggleDarkMode() {
            const body = document.querySelector("body");
            body.classList.toggle("dark-mode");
            
            // Store the user's preference in local storage
            const isDarkMode = body.classList.contains("dark-mode");
            localStorage.setItem("darkMode", isDarkMode);
            
            // Update chart to apply dark mode styles to SVG elements
            updateChart();
        }
        
        // Check if user has a stored preference for dark mode
        document.addEventListener('DOMContentLoaded', function() {
            const storedDarkMode = localStorage.getItem("darkMode");
            
            if (storedDarkMode === "true") {
                const body = document.querySelector("body");
                body.classList.add("dark-mode");
            }
            
 
        });
        

function takeScreenshot() {
    const isDarkMode = document.body.classList.contains('dark-mode');
    const svg = document.getElementById('scatter-plot');
    const svgRect = svg.getBoundingClientRect();
    
    // Create a canvas with 2x resolution for higher quality
    const canvas = document.createElement('canvas');
    const scale = 2; // Increase resolution by 2x
    canvas.width = svgRect.width * scale;
    canvas.height = svgRect.height * scale;
    
    const ctx = canvas.getContext('2d');
    ctx.scale(scale, scale); 

    ctx.imageSmoothingEnabled = true;
    ctx.imageSmoothingQuality = 'high';
    
    ctx.fillStyle = isDarkMode ? '#2c2c2c' : '#FFFFFF';
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    
    const svgImg = new Image();
    const svgData = new XMLSerializer().serializeToString(svg);
    const svgBlob = new Blob([svgData], {type: 'image/svg+xml;charset=utf-8'});
    const url = URL.createObjectURL(svgBlob);

    const watermarkImg = new Image();
    watermarkImg.crossOrigin = "Anonymous";
    
    svgImg.onload = function() {
        ctx.drawImage(svgImg, 0, 0, svgRect.width, svgRect.height);
        watermarkImg.onload = function() {
            ctx.save();
            ctx.globalAlpha = 0.04;
            
            const watermarkWidth = svgRect.width * 0.3;
            const watermarkHeight = (watermarkWidth / watermarkImg.width) * watermarkImg.height;
            const x = (svgRect.width - watermarkWidth) / 2;
            const y = (svgRect.height - watermarkHeight) / 2;
            
            ctx.drawImage(watermarkImg, x, y, watermarkWidth, watermarkHeight);
            ctx.restore();
            
            const dataURL = canvas.toDataURL('image/png', 1.0);
            const link = document.createElement('a');
            link.download = 'DataMB Screenshot.png';
            link.href = dataURL;
            link.click();
            URL.revokeObjectURL(url);
        };
        
        watermarkImg.src = 'https://datamb.football/logo.png';
    };
    
    svgImg.src = url;
}
        
    </script>
         <center>
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7677714701428206"
                 crossorigin="anonymous"></script>
            <!-- radarplotsearch -->
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-7677714701428206"
                 data-ad-slot="6673239737"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script></center>
</body>
</html>
