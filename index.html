<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <meta name="language" content="en">
    <link rel="canonical" href="https://datamb.football/plotteam/" />
<link rel="alternate" hreflang="x-default" href="https://datamb.football/plotteam"/>
<link rel="alternate" hreflang="en" href="https://datamb.football/plotteam/?lang=en" />
    <link rel="shortcut icon" type="image/x-icon" href="https://datamb.football/favicon.ico">
    <meta name="description" data-i18n="meta.description" content="Plot Top 7 League team statistics. Visualize team performance and analyze multiple metrics such as Goals, Goals conceded, xG, Shots on target, Pressing, Defensive duels, Pass completion and more for teams in Premier League, La Liga, Bundesliga, Serie A, Ligue 1, Eredivisie, Primeira Liga.">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@DataMB_">
    <meta name="twitter:title" content="DataMB | Plot Teams">
    <meta name="twitter:description" content="Generate scatter plots for Top 7 League teams">
    <meta name="twitter:image" content="https://datamb.football/vignettes/teamplots.png">
    <meta property="og:image" content="https://datamb.football/vignettes/teamplots.png">
    <title data-i18n="meta.title">DataMB | Plot Teams</title>
    <script>
        (function() {
            var width = window.innerWidth;
            var viewportMeta = document.querySelector('meta[name="viewport"]');
            if (viewportMeta) {
      if (width < 645) {
                
            var initialScale = width / 645;
      viewportMeta.setAttribute('content', 'width=device-width, initial-scale=' + initialScale + ', user-scalable=no');
      } else {
                  var fixedScale = 1;
          viewportMeta.setAttribute('content', 'width=device-width, initial-scale=' + fixedScale + ', user-scalable=no');
      
        }
          } 
      })();
      </script>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --background-color: #f5f7fa;
            --container-bg: #ffffff;
            --text-color: #333333;
            --border-color: #e0e0e0;
            --hover-color: #f0f0f0;
            --button-color: #3498db;
            --button-text: #ffffff;
            --header-bg: #ffffff;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .dark-mode {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --background-color: #0e0f0f;
            --container-bg: #1a1a1a;
            --text-color: #e0e0e0;
            --border-color: #333333;
            --hover-color: #252525;
            --button-color: #2980b9;
            --button-text: #ffffff;
            --header-bg: #0e0f0f;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s;
        }

        .header {
            background-color: var(--header-bg);
            display: flex;
            padding: 20px;
            align-items: center;
            justify-content: space-between;
            box-shadow: var(--shadow);
            position: relative;
            font-family: system-ui;
            top: 0;
            z-index: 100;
        }


        .container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
            box-sizing: border-box;
        }

        /* Replace plot-container with a simpler structure */
        .chart-wrapper {
            background-color: var(--container-bg);
            border-radius: 10px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 30px;
            position: relative;
            width: 100%;
        }

        .legend {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            padding: 10px;
            border-top: 1px solid var(--border-color);
            width: 100%;
        }

        .legend-item {
            display: flex;
            align-items: center;
            font-size: 12px;
        }

        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 5px;
            border: 1px solid rgba(0, 0, 0, 0.2);
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 20px;
            justify-content: center;
            align-items: center;
        }

        select, input {
            padding: 8px 12px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            background-color: var(--container-bg);
            color: var(--text-color);
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            transition: border-color 0.2s;
            height: 36px;
            box-sizing: border-box;
        }

        select:focus, input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        /* Ensure consistent height for controls in the same row */
        select, input, .btn:not(.btn-icon), .custom-select-trigger, .metric-select-trigger {
            height: 36px;
            box-sizing: border-box;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            background-color: var(--button-color);
            color: var(--button-text);
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
            height: 36px;
            box-sizing: border-box;
        }

        .btn:hover {
            background-color: #2980b9;
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-color);
        }

        .btn-outline:hover {
            background-color: var(--hover-color);
        }

        .btn-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            padding: 0;
            border-radius: 6px;
        }

        #search-bar, #select-league {
            width: 178px;
        }

        #select-x, #select-y {
            width: 190px;
        }

        /* Add tooltip for icon buttons */
        .btn-icon .icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
        }

        .btn-icon i {
            font-size: 18px;
        }
        .chart-container {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            margin-top: 30px; /* Consistent spacing from controls */
        }

        #scatter-plot {
            width: 100%;
            height: auto; /* Height will be set dynamically */
            display: block;
            margin: 0 auto;
            max-width: 1082px;
        }
        
  

        .tooltip {
            position: absolute;
            background-color: var(--container-bg);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 10px;
            font-size: 12px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
            box-shadow: var(--shadow);
            z-index: 1000;
        }

        /* Custom button tooltips */
        .btn-tooltip {
            position: relative;
            display: inline-block;
        }

        .btn-tooltip .btn-tooltip-text {
            visibility: hidden;
            width: 120px;
            background-color: var(--container-bg);
            color: var(--text-color);
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1001;
            bottom: 125%;
            left: 50%;
            margin-left: -60px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 12px;
            font-weight: normal;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            pointer-events: none;
        }

        /* Hide button tooltips on mobile */
        @media (max-width: 768px) {
            .btn-tooltip .btn-tooltip-text {
                display: none;
            }
        }

        .btn-tooltip .btn-tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--border-color) transparent transparent transparent;
        }

        .btn-tooltip:hover .btn-tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        .player-name {
            font-size: 12px;
            font-weight: 500;
        }

        circle {
            cursor: pointer;
            transition: r 0.2s, fill 0.2s;
        }


        /* Add new styles for better search highlighting */
        circle.search-match {
            fill: #ff3366 !important; /* Bright pink fill */
            stroke: #ffffff;
            stroke-width: 2px;
            filter: drop-shadow(0 0 5px rgba(255, 51, 102, 0.7));
            animation: circlePulse 1.5s infinite ease-in-out;
        }

        .dark-mode circle.search-match {
            stroke: #000000;
        }

        @keyframes circlePulse {
            0% { r: 6; }
            50% { r: 9; }
            100% { r: 6; }
        }

        .team-label.search-match {
            font-weight: 700 !important;
            fill: #ff3366 !important;
            filter: drop-shadow(0 0 2px rgba(255, 255, 255, 1));
            opacity: 1 !important;
            animation: labelPulse 1.5s infinite ease-in-out;
        }

        @keyframes labelPulse {
            0% { font-size: 12px; }
            50% { font-size: 14px; }
            100% { font-size: 12px; }
        }

        .dark-mode .team-label.search-match {
            filter: drop-shadow(0 0 2px rgba(0, 0, 0, 1));
        }

        .team-label.search-dimmed {
            opacity: 0 !important;
        }

        .team-label {
            pointer-events: none;
            text-shadow: 0px 0px 2px white, 0px 0px 2px white, 0px 0px 2px white, 0px 0px 2px white;
        }

        .dark-mode .team-label {
            fill: #f5f5f5 !important;
            text-shadow: 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a;
        }

        .dark-mode-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--container-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--shadow);
            z-index: 100;
            transition: background-color 0.3s;
        }

        .dark-mode-toggle.mobile-only {
            position: fixed;
            bottom: 20px;
            right: 20px;
        }

        .dark-mode-toggle.pc-only {
            position: relative;
            bottom: auto;
            right: auto;
        }

        .pc-only {
            display: flex;
        }

        .mobile-only {
            display: none;
        }

        .toggle-icon::before {
            font-family: "Ionicons";
            content: "\f467";
            font-size: 30px;
            color: var(--text-color);
        }

        .dark-mode .toggle-icon::before {
            content: "\f3b0";
            font-size: 20px;
        }

        @media (max-width: 768px) {
            .pc-only {
                display: none;
            }
            
            .mobile-only {
                display: flex;
            }
  
            
  .chart-wrapper {
      padding: 15px;
  }
  
  
  /* Remove fixed height for scatter plot - now handled by updateChartDimensions */
  #scatter-plot {
      min-height: 500px; /* Minimum height for mobile */
  }
  
  select, input {
      width: 100%;
  }
  
  
  /* Make text elements more readable on mobile */
  .x-label, .y-label {
      font-size: 12px;
  }
  
  /* Adjust tooltip position for mobile */
  .tooltip {
      max-width: 80%;
  }
}

        /* Styles for the diagonal reference line */
        .dark-mode .xy-line {
            stroke: #3cb371; /* Slightly different green for dark mode */
        }


  
  .search-input-modal {
      display: none;
      position: fixed; 
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7); 
      z-index: 999; 
  }
  
  .search-input-container {
      position: absolute;
      top: 30%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #fff;
      padding: 20px;
      border-radius: 4px;
      z-index: 1000; 
  }
  
  #searchInput {
              width: 370px;
              padding: 12px;
              border: 3px solid #ccc;
              border-radius: 4px;
              font-size: 18.3px;
              outline: none;
              height: 50px;
              color: #000000;
              background-color: #fff;
              ;          }
  
          #autocompleteBox {
              width: 370px;
              max-height: 150px;
              overflow-y: auto;
              background-color: #fff;
          }
  
  
          #autocompleteBox ul {
              list-style: none;
              padding: 0;
              margin: 0;
          }
  
          #autocompleteBox li {
              margin: 0;
              padding: 5px;
          }
  
          #autocompleteBox {
              line-height: 2; 
              text-align: center !important;
  
          }
  
          #autocompleteBox a {
              text-decoration: none;
              font-family: Arial, sans-serif;
              text-align: center !important;
              color: #333 !important;
              cursor: pointer; 
          }
  
          #autocompleteBox li:hover {
              background-color: #f0f0f0;
          }
          #searchButton3 {
            padding: 8.5px;  /* Reduced from 10px */
  background-color: #0074d9;
  color: #fff;
  border: none;
  width: 34px;  /* Reduced from 40px */
  height: 34px;  /* Reduced from 40px */
  border-radius: 50%;
  cursor: pointer;
  font-size: 17px;  /* Reduced from 20px */
  }


  body.dark-mode .header .button10 {
      color: #aeaeae;
}
body.dark-mode .header .button10:hover {
  color: #2563eb;
background-color: #ffffff;
}

    body.dark-mode header a {
      color: #aeaeae;
}

body.dark-mode .header .logo img {
  opacity: 0.88;
}


body.dark-mode .language-button {
      background-color: #0F0F0E;
      color: #aeaeae;
}


  

.header .logo {
  display: flex;
  align-items: center;
  margin-right: auto; /* Push logo to the left */
}

.header .logo img {
  height: 34px;
  width: auto;
  opacity: 0.84;
}
.header .logo-text {
  margin-left: 10px;
  font-size: 23px;
  font-weight: 600;
  transform: translateY(-1.1px); /* Move logo text slightly higher */
}

.header .navigation {
  display: flex;
  align-items: center;
  gap: 25px; /* Reduced gap between buttons */
  position: absolute;
  left: 50%;
  transform: translateX(-50%) translateY(-2px); /* Center the navigation and move it higher */
}



.header .button10 {
  padding: 0.5rem 1rem;
  text-decoration: none;
  color: #333;
  line-height: 1.6;
  border-radius: 4px;
  transition: background-color 0.2s;
  font-size: 1.1rem;  /* Added larger font size */
}


.header .button10:hover {
  background-color: #f0f0f0;
  color: #2563eb;

}



/* Group search and language buttons */
.header-right {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-left: auto; /* Push buttons to the right */
  transform: translateY(-1.25px); /* Move search and language buttons higher */
}

header a {
      color: black;
      text-decoration: none;
    }

    .language-switcher-container {
  position: relative;
  display: none;
}

.language-button {
  background: none;
  border: none;
  cursor: pointer;
  padding: 10px;
  color: #444444;
  display: flex;
  align-items: center;
  font-size: 17px;
}

.language-button iconify-icon {
  font-size: 24px;
  opacity: 0.7;
}

.language-dropdown {
  display: none;
  position: absolute;
  top: 100%;
  right: 0;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  padding: 10px;
  width: 200px;
  z-index: 1000;
}

.language-option {
  display: flex;
  align-items: center;
  padding: 8px 12px;
  cursor: pointer;
  border-radius: 4px;
  color: #444444;
  text-decoration: none;
}



.language-option iconify-icon {
  margin-right: 10px;
  font-size: 20px;
}

.language-dropdown.show {
  display: block;
}

/* Styles for flag icons in select dropdown */
#select-league option {
    display: flex;
    align-items: center;
    padding: 8px 12px;
}

#select-league iconify-icon {
    display: inline-flex;
    vertical-align: middle;
}

/* Styles for custom league selector dropdown */
.custom-select-container {
    position: relative;
    width: 172px;
}

.metric-select-container {
    position: relative;
    width: 192px;
}

.custom-select-option, .metric-select-option {
    display: flex;
    align-items: center;
    padding: 8px 16px;
    cursor: pointer;
    color: var(--text-color);
    background-color: var(--container-bg);
}


.custom-select-option iconify-icon, .metric-select-option iconify-icon {
    margin-right: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.custom-select-trigger, .metric-select-trigger {
    display: flex;
    align-items: center;
    padding: 0 12px;
    border: 1px solid var(--border-color);
    border-radius: 6px;
    background-color: var(--container-bg);
    color: var(--text-color);
    font-family: 'Inter', sans-serif;
    font-size: 14px;
    cursor: pointer;
    user-select: none;
    position: relative;
    line-height: 1;
}

.custom-select-trigger span, .metric-select-trigger span {
    display: inline-block;
    transform: translateY(1px);
    white-space: nowrap;
    overflow: hidden;
    max-width: calc(100% - 20px); /* Account for the icon width and margin */
    line-height: normal; /* Ensure consistent line height */    
}


/* Make the league selector span 30px smaller */
#league-select-trigger span {
    max-width: calc(100% - 45px); /* 20px + 30px reduction */
}

.custom-select-trigger::after, .metric-select-trigger::after {
    content: '';
    width: 6px;
    height: 6px;
    margin-left: auto;
    border-right: 1.5px solid var(--text-color);
    border-bottom: 1.5px solid var(--text-color);
    transform: rotate(45deg) translateY(-2px);
    transition: transform 0.3s;
    opacity: 0.7;
    margin-right: 2px;
}

.custom-select-trigger.open::after, .metric-select-trigger.open::after {
    transform: rotate(-135deg) translateY(1px);
}

.custom-select-options, .metric-select-options {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background-color: var(--container-bg);
    border: 1px solid var(--border-color);
    border-radius: 6px;
    margin-top: 4px;
    max-height: 300px;
    overflow-y: auto;
    z-index: 100;
    font-size: 13px;
    display: none;
    box-shadow: var(--shadow);
}


.custom-select-option:hover, .metric-select-option:hover {
    background-color: var(--hover-color);
}



.custom-select-option.selected {
    background-color: var(--primary-color);
    color: white;
}

.metric-select-option.selected {
    background-color: var(--primary-color);
    color: white;
}


.dark-mode .custom-select-option:hover {
    background-color: var(--hover-color);
}

.dark-mode .custom-select-option.selected {
    background-color: var(--primary-color);
    color: white;
}

@media (max-width: 768px) {
    .custom-select-option {
        padding: 6px 12px;
    }
}

body.dark-mode .language-button:hover {
      background-color: #0F0F0E;
      color: #aeaeae;
}

body.dark-mode .language-dropdown {
  background: #e8e6e6;
}

body.dark-mode .language-option {
  color: #000000;
}

/* Dark mode styles for custom dropdown */
.dark-mode .custom-select-trigger,
.dark-mode .custom-select-options,
.dark-mode .metric-select-trigger,
.dark-mode .metric-select-options {
    border-color: var(--border-color);
    background-color: var(--container-bg);
    color: var(--text-color);
}

.dark-mode .custom-select-option:hover,
.dark-mode .metric-select-option:hover {
    background-color: var(--hover-color);
}

.dark-mode .custom-select-option.selected,
.dark-mode .metric-select-option.selected {
    background-color: rgba(52, 152, 219, 0.2);
}

/* Adjust flag icon alignment in the trigger */
#league-select-trigger iconify-icon {
    margin-right: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transform: translateY(-1px);
}
@media screen and (max-width: 550px) { .header .navigation { display: none; } }

        /* Enhanced Dark Mode Styles */
        .dark-mode .chart-wrapper {
            background-color: var(--container-bg);
            border: 1px solid #333;
        }

        .dark-mode .btn {
            background-color: var(--button-color);
        }

        .dark-mode .btn-outline {
            background-color: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-color);
        }

        .dark-mode .btn-outline:hover {
            background-color: var(--hover-color);
            border-color: #444;
        }


        .dark-mode input, 
        .dark-mode select {
            background-color: #1a1a1a;
            color: var(--text-color);
            border-color: #333;
        }

        .dark-mode input::placeholder {
            color: #777;
        }

        .dark-mode input:focus, 
        .dark-mode select:focus {
            border-color: var(--primary-color);
            outline: none;
        }

        .dark-mode .tooltip {
            background-color: #1a1a1a;
            border-color: #333;
            color: var(--text-color);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .legend {
            border-top-color: #333;
        }

        .dark-mode .legend-item {
            color: #ccc;
        }

        .dark-mode .btn-tooltip .btn-tooltip-text {
            background-color: #1a1a1a;
            border-color: #333;
            color: #e0e0e0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .btn-tooltip .btn-tooltip-text::after {
            border-color: #333 transparent transparent transparent;
        }

        .dark-mode .team-label {
            fill: #e0e0e0 !important;
            text-shadow: 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f;
        }

        .dark-mode .x-axis path,
        .dark-mode .y-axis path,
        .dark-mode .x-axis line,
        .dark-mode .y-axis line {
            stroke: #444;
        }

        .dark-mode .x-axis text,
        .dark-mode .y-axis text {
            fill: #aaa;
        }

        .dark-mode .x-label,
        .dark-mode .y-label {
            fill: #ccc;
        }

        .dark-mode .median-line {
            stroke: rgba(255, 255, 255, 0.2) !important;
        }

        .dark-mode .xy-line {
            stroke: #2ecc71;
            opacity: 0.8;
        }

        .dark-mode .dark-mode-toggle {
            background-color: #1a1a1a;
            border: 1px solid #333;
        }

        .dark-mode .toggle-icon::before {
            color: #e0e0e0;
        }

 



        .dark-mode #searchButton3 {
            background-color: #0074d9;
            color: #fff;
        }


        .dark-mode .header .button10 {
            color: #aaa;
        }

        .dark-mode .header .button10:hover {
            color: #2563eb;
            background-color: #1a1a1a;
        }

        .dark-mode header a {
            color: #aaa;
        }

        .dark-mode .header .logo img {
            opacity: 0.9;
            filter: brightness(0.9);
        }

        .dark-mode .language-button {
            background-color: #0e0f0f;
            color: #aaa;
        }

        .dark-mode .language-button:hover {
            background-color: #1a1a1a;
        }

        .dark-mode .language-dropdown {
            background: #1a1a1a;
            border: 1px solid #333;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .language-option {
            color: #e0e0e0;
        }

        .dark-mode .language-option:hover {
            background-color: #252525;
        }

        .dark-mode #search-bar::placeholder {
            color: #777;
        }

        .dark-mode circle {
            stroke-width: 1px;
        }

        .dark-mode circle.search-match {
            fill: #ff3366 !important;
            stroke: #0e0f0f;
            stroke-width: 2px;
            filter: drop-shadow(0 0 5px rgba(255, 51, 102, 0.7));
        }

  
        
        /* Additional dark mode styles for chart elements */
        .dark-mode .chart-container {
            background-color: var(--container-bg);
        }
        
  
        
    
        
        
        /* Fix for custom select dropdown in dark mode */
        .dark-mode .custom-select-trigger::after, 
        .dark-mode .metric-select-trigger::after {
            border-right: 1.5px solid var(--text-color);
            border-bottom: 1.5px solid var(--text-color);
        }
        
        /* Improve contrast for selected items in dark mode */
        .dark-mode .custom-select-option.selected, 
        .dark-mode .metric-select-option.selected {
            background-color: rgba(52, 152, 219, 0.3);
        }
        
        /* Improve visibility of SVG elements in dark mode */
        .dark-mode svg text {
            fill: #ccc;
        }
        
        .dark-mode .legend-color {
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        /* Improve button states in dark mode */
        .dark-mode .btn:hover {
            background-color: #3498db;
        }
        
        .dark-mode .btn-outline:active {
            background-color: #333;
        }
        
        /* Improve focus states for accessibility */
        .dark-mode input:focus,
        .dark-mode select:focus,
        .dark-mode .btn:focus {
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.5);
        }
        
        /* Fix for buttons staying focused with blue outline */
        button:focus, 
        .btn:focus, 
        select:focus, 
        input:focus {
            outline: none;
        }
        
        /* Custom focus styles for better accessibility */
        button:focus-visible, 
        .btn:focus-visible, 
        select:focus-visible, 
        input:focus-visible {
            outline: none;
            box-shadow: 0 0 0 2px var(--primary-color);
        }
        
        /* Remove focus styles when using mouse */
        button:focus:not(:focus-visible), 
        .btn:focus:not(:focus-visible), 
        select:focus:not(:focus-visible), 
        input:focus:not(:focus-visible) {
            box-shadow: none;
        }



.logo img {
  width: 50px;
  height: 50px;
}

/* Promo links styling */
.promo-links-container {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
    margin: 15px auto 25px;
    max-width: 800px;
    flex-wrap: wrap;
    padding: 0 20px;
}

.promo-link {
    display: flex;
    align-items: center;
    padding: 10px 15px;
    background-color: var(--container-bg);
    color: var(--text-color);
    text-decoration: none;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    transition: all 0.3s ease;
    box-shadow: var(--shadow);
    font-weight: 500;
    flex: 1;
    min-width: 220px;
    max-width: 350px;
    justify-content: center;
}

.promo-link iconify-icon {
    margin-right: 8px;
}

.promo-link:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.radar-link {
    border-left: 4px solid #3498db;
}

.pro-link {
    border-left: 4px solid #f39c12;
}

.dark-mode .radar-link {
    border-left: 4px solid #2980b9;
}

.dark-mode .pro-link {
    border-left: 4px solid #d35400;
}

@media (max-width: 768px) {
  

    
    select, input {
        width: 100%;
    }
    
    /* Make text elements more readable on mobile */
    .x-label, .y-label {
        font-size: 12px;
    }
    
    /* Adjust tooltip position for mobile */
    .tooltip {
        max-width: 80%;
    }
    
    /* Adjust promo links for mobile */
    .promo-links-container {
        flex-direction: column;
        align-items: center;
        gap: 10px;
        padding: 0 15px;
    }
}


.custom-select-option {
    -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            
}
        /* Disable text selection for SVG text elements */
        svg text, .legend,
        .x-label,
        .y-label,
        .team-label,
        .player-name,
        .x-axis text,
        .y-axis text {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            pointer-events: none;
        }


    </style>

  <header class="header">
    <div class="logo">
      <a href="https://datamb.football">
        <img src="https://datamb.football/logo.png" alt="Football team statistics comparison. Radar comparison tool. Visualise and compare team data from the top 7 leagues : Premier League, La Liga, Bundesliga, Serie A, Ligue 1, Eredivisie, Primeira Liga" /></a>
        <div class="logo-text"><a href="https://datamb.football">&nbsp;Teams</a></div>
    </div>
    <nav class="navigation">
      <a href="https://datamb.football/teams" class="button10" data-i18n="header.home">Home</a>
      <a href="https://datamb.football/join" class="button10" data-i18n="header.pro">Pro</a>
      <a href="https://datamb.football/guide" class="button10" data-i18n="header.guide">Guide</a>
    </nav>
    <div class="header-right">
    <div class="search-container">
      <button id="searchButton3"><iconify-icon icon="ion:search-outline"></iconify-icon></button>
  </div>
    <div class="language-switcher-container">
      <button class="language-button" id="languageButton">
        <iconify-icon icon="heroicons:globe-alt"></iconify-icon>
      </button>
      <div class="language-dropdown" id="languageDropdown">
        <a href="?lang=en" class="language-option"><iconify-icon icon="flag:gb-4x3"></iconify-icon>English</a>
      </div>
    </div></div>
  </header>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7677714701428206"
     crossorigin="anonymous"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PSBMXX80EF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-PSBMXX80EF');
</script>
</head>
<div class="search-input-modal" id="searchInputModal">
    <div class="search-input-container">
        <input type="text" id="searchInput" data-i18n="search.placeholder" placeholder="Enter a team or player name...">
        <div id="autocompleteBox"></div>
    </div>
</div>
<script>
    const xhr1 = new XMLHttpRequest();
  xhr1.open('GET', 'https://datamb.football/database/searchbar.csv', false); // false for synchronous request
  xhr1.send(null);
  
  let dataCSV = xhr1.responseText;
    
function _0x5707(_0xd20fa7,_0x4d36b5){const _0x4dcd69=_0x4dcd();return _0x5707=function(_0x57077a,_0xde96b9){_0x57077a=_0x57077a-0x140;let _0x383e81=_0x4dcd69[_0x57077a];return _0x383e81;},_0x5707(_0xd20fa7,_0x4d36b5);}const _0xedf2b2=_0x5707;(function(_0x16e1b0,_0x125833){const _0x222c5a=_0x5707,_0x3f540c=_0x16e1b0();while(!![]){try{const _0x3105f2=parseInt(_0x222c5a(0x161))/0x1+parseInt(_0x222c5a(0x144))/0x2+parseInt(_0x222c5a(0x148))/0x3+-parseInt(_0x222c5a(0x155))/0x4+parseInt(_0x222c5a(0x141))/0x5*(-parseInt(_0x222c5a(0x145))/0x6)+-parseInt(_0x222c5a(0x157))/0x7+parseInt(_0x222c5a(0x14b))/0x8*(parseInt(_0x222c5a(0x159))/0x9);if(_0x3105f2===_0x125833)break;else _0x3f540c['push'](_0x3f540c['shift']());}catch(_0x450250){_0x3f540c['push'](_0x3f540c['shift']());}}}(_0x4dcd,0x1bc51));const dataLines=dataCSV[_0xedf2b2(0x160)]('\x0a'),searchButton3=document[_0xedf2b2(0x142)]('searchButton3'),searchInputModal=document[_0xedf2b2(0x142)](_0xedf2b2(0x14a)),searchInput=document[_0xedf2b2(0x142)](_0xedf2b2(0x143)),autocompleteBox=document[_0xedf2b2(0x142)](_0xedf2b2(0x162)),data11=dataLines[_0xedf2b2(0x146)](_0x19546c=>{const _0x89300c=_0xedf2b2,[_0x5af128,_0x515bec]=_0x19546c[_0x89300c(0x160)](',');return{'name':_0x5af128,'link':_0x515bec};});function removeDiacritics(_0x3ed1af){const _0x202611=_0xedf2b2,_0x4b45cf={'ø':'o','Ø':'O','ı':'i'};return _0x3ed1af=_0x3ed1af[_0x202611(0x147)](/[øØıI]/g,_0x19f74a=>_0x4b45cf[_0x19f74a]),_0x3ed1af[_0x202611(0x15d)]('NFD')[_0x202611(0x147)](/[\u0300-\u036f]/g,'');}function search2(_0x1db14d){const _0x26c944=_0xedf2b2;autocompleteBox[_0x26c944(0x15e)]='';const _0x321867=removeDiacritics(_0x1db14d)[_0x26c944(0x147)](/[^\w\s]/g,'')[_0x26c944(0x149)](),_0x3ad89e=data11[_0x26c944(0x15c)](_0xb995bf=>{const _0x3866b0=_0x26c944,_0x2b7de7=removeDiacritics(_0xb995bf[_0x3866b0(0x14e)])['replace'](/[^\w\s]/g,'')[_0x3866b0(0x149)]();return _0x2b7de7['includes'](_0x321867);});if(_0x3ad89e[_0x26c944(0x163)]===0x0){autocompleteBox[_0x26c944(0x152)][_0x26c944(0x14c)]='none';return;}_0x3ad89e[_0x26c944(0x151)](_0x4b9def=>{const _0x31eeb1=_0x26c944,_0x505ab8=document[_0x31eeb1(0x14d)]('div'),_0x3a2d70=document[_0x31eeb1(0x14d)]('a');_0x3a2d70['href']=_0x4b9def[_0x31eeb1(0x154)],_0x3a2d70[_0x31eeb1(0x150)]=_0x4b9def[_0x31eeb1(0x14e)],_0x505ab8[_0x31eeb1(0x15b)](_0x3a2d70),autocompleteBox[_0x31eeb1(0x15b)](_0x505ab8);}),autocompleteBox['style'][_0x26c944(0x14c)]=_0x26c944(0x153);}searchButton3[_0xedf2b2(0x156)](_0xedf2b2(0x14f),()=>{const _0x350b96=_0xedf2b2;searchInputModal['style'][_0x350b96(0x14c)]=_0x350b96(0x153);}),searchInput['addEventListener'](_0xedf2b2(0x158),()=>{const _0x122364=_0xedf2b2,_0x1aac33=searchInput['value'];_0x1aac33[_0x122364(0x140)]()===''?autocompleteBox[_0x122364(0x152)][_0x122364(0x14c)]='none':search2(_0x1aac33);}),document['addEventListener']('click',_0x17873a=>{const _0x2c2a21=_0xedf2b2;_0x17873a[_0x2c2a21(0x15a)]===searchInputModal&&(searchInputModal[_0x2c2a21(0x152)][_0x2c2a21(0x14c)]=_0x2c2a21(0x15f));});function _0x4dcd(){const _0x3abacf=['forEach','style','block','link','165476bdcaHI','addEventListener','430668iEzpyY','input','90cmGEmO','target','appendChild','filter','normalize','innerHTML','none','split','102625kyWWmb','autocompleteBox','length','trim','5KymJaR','getElementById','searchInput','423476PJmBDe','1170534HGXHHf','map','replace','60222cRWbFM','toLowerCase','searchInputModal','61832bbygIm','display','createElement','name','click','textContent'];_0x4dcd=function(){return _0x3abacf;};return _0x4dcd();}
  
  
  
  </script>


<body>
    <div class="container">
        <div class="chart-wrapper">
            <div class="controls">
                <select id="select-x" style="display: none;"></select>
                <select id="select-y" style="display: none;"></select>
                <select id="select-league" style="display: none;" onchange="updateChart()">
                    <option value="all">Top 7 Leagues</option>
                    <option value="Top 5 Leagues">Top 5 Leagues</option>
                    <option value="Premier League">Premier League</option>
                    <option value="La Liga">La Liga</option>
                    <option value="Bundesliga">Bundesliga</option>
                    <option value="Serie A">Serie A</option> 
                    <option value="Ligue 1">Ligue 1</option>
                    <option value="Eredivisie">Eredivisie</option>
                    <option value="Primeira Liga">Liga Portugal</option>
                </select>
                
                <!-- Custom X metric selector -->
                <div class="metric-select-container">
                    <div class="metric-select-trigger" id="x-metric-trigger">
                        <span data-i18n="metrics.goals-per-90">Goals per 90</span>
                    </div>
                    <div class="metric-select-options" id="x-metric-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Custom Y metric selector -->
                <div class="metric-select-container">
                    <div class="metric-select-trigger" id="y-metric-trigger">
                        <span data-i18n="metrics.xg-per-90">xG per 90</span>
                    </div>
                    <div class="metric-select-options" id="y-metric-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Custom league selector with flag icons -->
                <div class="custom-select-container">
                    <div class="custom-select-trigger" id="league-select-trigger">
                        <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                        <span data-i18n="leagues.top7">Top 7 Leagues</span>
                    </div>
                    <div class="custom-select-options" id="league-select-options">
                        <div class="custom-select-option selected" data-value="all">
                            <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                            <span data-i18n="leagues.top7">Top 7 Leagues</span>
                        </div>
                        <div class="custom-select-option" data-value="Top 5 Leagues">
                            <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                            <span data-i18n="leagues.top5">Top 5 Leagues</span>
                        </div>
                        <div class="custom-select-option" data-value="Premier League">
                            <iconify-icon icon="emojione:flag-for-united-kingdom" width="18" height="18"></iconify-icon>
                            <span>Premier League</span>
                        </div>
                        <div class="custom-select-option" data-value="La Liga">
                            <iconify-icon icon="emojione:flag-for-spain" width="18" height="18"></iconify-icon>
                            <span>La Liga</span>
                        </div>
                        <div class="custom-select-option" data-value="Bundesliga">
                            <iconify-icon icon="emojione:flag-for-germany" width="18" height="18"></iconify-icon>
                            <span>Bundesliga</span>
                        </div>
                        <div class="custom-select-option" data-value="Serie A">
                            <iconify-icon icon="emojione:flag-for-italy" width="18" height="18"></iconify-icon>
                            <span>Serie A</span>
                        </div>
                        <div class="custom-select-option" data-value="Ligue 1">
                            <iconify-icon icon="emojione:flag-for-france" width="18" height="18"></iconify-icon>
                            <span>Ligue 1</span>
                        </div>
                        <div class="custom-select-option" data-value="Eredivisie">
                            <iconify-icon icon="emojione:flag-for-netherlands" width="18" height="18"></iconify-icon>
                            <span>Eredivisie</span>
                        </div>
                        <div class="custom-select-option" data-value="Primeira Liga">
                            <iconify-icon icon="emojione:flag-for-portugal" width="18" height="18"></iconify-icon>
                            <span>Liga Portugal</span>
                        </div>
                    </div>
                </div>
                
                <input type="text" id="search-bar" data-i18n="search.placeholder2" placeholder="Search team...">
                <div class="btn-tooltip">
                    <button id="toggle-median-lines" class="btn btn-outline btn-icon">
                        <div class="icon">
                            <i class="ion-stats-bars"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" id="median-lines-tooltip" data-i18n="tooltip.median-lines">Show median lines</span>
                </div>
                <div class="btn-tooltip">
                    <button class="btn btn-outline btn-icon" id="select-all-button" onclick="selectAllCircles()">
                        <div class="icon">
                            <i class="ion-ios-circle-filled" id="select-icon"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" id="select-all-tooltip" data-i18n="tooltip.select-all">Select all teams</span>
                </div>
                <div class="btn-tooltip">
                    <button class="btn btn-outline btn-icon" onclick="takeScreenshot()">
                        <div class="icon">
                            <i class="ion-camera"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" data-i18n="tooltip.screenshot">Download chart as image</span>
                </div>
            </div>
       
            <div class="chart-container">
              <svg id="scatter-plot"></svg>
            </div>

            <div class="legend" id="league-legend">
              <!-- Legend items will be added here dynamically -->
            </div>
        </div>

        <div class="promo-links-container">
            <a href="https://datamb.football/teamradars" class="promo-link radar-link">
                <iconify-icon icon="mdi:radar" width="20" height="20"></iconify-icon>
                <span data-i18n="promo.radar-link">Compare Teams with Radars</span>
            </a>
            <a href="https://datamb.football/join" class="promo-link pro-link">
                <iconify-icon icon="mdi:account-star" width="20" height="20"></iconify-icon>
                <span data-i18n="promo.pro-link">Get Pro for Player Plots</span>
            </a>
            <div class="dark-mode-toggle pc-only" onclick="toggleDarkMode()">
                <div class="toggle-icon"></div>
            </div>
        </div>
    </div>

    <div class="dark-mode-toggle mobile-only" onclick="toggleDarkMode()">
        <div class="toggle-icon"></div>
    </div>

    <script>
        var _0x33be0b=_0x562f;(function(_0x29783d,_0x16ba9b){var _0x2da673=_0x562f,_0x609139=_0x29783d();while(!![]){try{var _0x5bdcd0=parseInt(_0x2da673(0x1c2))/0x1+-parseInt(_0x2da673(0x108))/0x2*(-parseInt(_0x2da673(0xf9))/0x3)+parseInt(_0x2da673(0x133))/0x4+parseInt(_0x2da673(0xef))/0x5+-parseInt(_0x2da673(0x115))/0x6*(-parseInt(_0x2da673(0x14e))/0x7)+-parseInt(_0x2da673(0xd6))/0x8*(parseInt(_0x2da673(0xea))/0x9)+parseInt(_0x2da673(0x146))/0xa*(-parseInt(_0x2da673(0xd4))/0xb);if(_0x5bdcd0===_0x16ba9b)break;else _0x609139['push'](_0x609139['shift']());}catch(_0x2490cc){_0x609139['push'](_0x609139['shift']());}}}(_0x1181,0x366a7));let initializeCustomSelectors=function(){var _0x453837=_0x562f;const _0x5f15e9=document[_0x453837(0x11e)]('league-select-trigger'),_0x5b7b6a=document[_0x453837(0x11e)](_0x453837(0x19c)),_0x47dfe1=document[_0x453837(0x11e)](_0x453837(0x195));setupCustomSelect(_0x5f15e9,_0x5b7b6a,_0x47dfe1);const _0x45144d=document[_0x453837(0x11e)]('x-metric-trigger'),_0x177726=document[_0x453837(0x11e)](_0x453837(0x169)),_0x15d154=document[_0x453837(0x11e)](_0x453837(0x1ba));populateMetricOptions(_0x177726,header[_0x453837(0x14d)](0x3),function(_0x2e27a4,_0x4320ba){var _0x5b220b=_0x453837;_0x45144d['querySelector'](_0x5b220b(0x175))[_0x5b220b(0xe3)]===_0x4320ba&&_0x2e27a4[_0x5b220b(0x178)]['add'](_0x5b220b(0x11a));if(_0x4320ba===header[0x3]){_0x2e27a4[_0x5b220b(0x178)][_0x5b220b(0x150)](_0x5b220b(0x11a)),_0x45144d[_0x5b220b(0xff)]('span')[_0x5b220b(0xe3)]=_0x4320ba;const _0x23210d=_0x4320ba[_0x5b220b(0x10c)]()[_0x5b220b(0x14b)](/ /g,'-')[_0x5b220b(0x14b)](/%/g,'pct');_0x45144d['querySelector']('span')[_0x5b220b(0xd9)](_0x5b220b(0x179),_0x5b220b(0xe8)+_0x23210d);}}),setupCustomSelect(_0x45144d,_0x177726,_0x15d154);const _0x30138d=document[_0x453837(0x11e)](_0x453837(0x10e)),_0x409e51=document[_0x453837(0x11e)](_0x453837(0x104)),_0x2dbdf6=document['getElementById'](_0x453837(0x18e));populateMetricOptions(_0x409e51,header[_0x453837(0x14d)](0x3),function(_0x559463,_0x342c47){var _0x292b43=_0x453837;_0x30138d[_0x292b43(0xff)]('span')[_0x292b43(0xe3)]===_0x342c47&&_0x559463[_0x292b43(0x178)]['add'](_0x292b43(0x11a));if(_0x342c47===header[0x4]){_0x559463[_0x292b43(0x178)][_0x292b43(0x150)](_0x292b43(0x11a)),_0x30138d[_0x292b43(0xff)](_0x292b43(0x175))['textContent']=_0x342c47;const _0x49ba39=_0x342c47['toLowerCase']()[_0x292b43(0x14b)](/ /g,'-')[_0x292b43(0x14b)](/%/g,_0x292b43(0x151));_0x30138d['querySelector'](_0x292b43(0x175))['setAttribute']('data-i18n',_0x292b43(0xe8)+_0x49ba39);}}),setupCustomSelect(_0x30138d,_0x409e51,_0x2dbdf6);};function populateMetricOptions(_0x1b549d,_0x590df0,_0x3bc1b1){var _0x101151=_0x562f;_0x1b549d['innerHTML']='',_0x590df0[_0x101151(0x1b8)](function(_0x4b2f34){var _0x1e0ef2=_0x101151;const _0x3280fe=document[_0x1e0ef2(0x18b)](_0x1e0ef2(0x12f));_0x3280fe['className']='metric-select-option',_0x3280fe[_0x1e0ef2(0xd9)]('data-value',_0x4b2f34);const _0x443f0f=document[_0x1e0ef2(0x18b)](_0x1e0ef2(0x175));_0x443f0f[_0x1e0ef2(0xe3)]=_0x4b2f34;const _0xa0f9bf=_0x4b2f34['toLowerCase']()[_0x1e0ef2(0x14b)](/ /g,'-')[_0x1e0ef2(0x14b)](/%/g,_0x1e0ef2(0x151));_0x443f0f[_0x1e0ef2(0xd9)](_0x1e0ef2(0x179),'metrics.'+_0xa0f9bf),_0x3280fe[_0x1e0ef2(0x14c)](_0x443f0f);if(_0x3bc1b1)_0x3bc1b1(_0x3280fe,_0x4b2f34);_0x1b549d[_0x1e0ef2(0x14c)](_0x3280fe);});}function setupCustomSelect(_0x26113c,_0x59deb4,_0x310844){var _0x5bb952=_0x562f;_0x26113c[_0x5bb952(0x16d)]('click',function(){var _0x122d52=_0x5bb952;document[_0x122d52(0x147)](_0x122d52(0x13c))[_0x122d52(0x1b8)](function(_0x43e576){var _0x3c2dc1=_0x122d52;if(_0x43e576!==_0x26113c){_0x43e576[_0x3c2dc1(0x178)][_0x3c2dc1(0x185)](_0x3c2dc1(0xdb));const _0x31a7dc=_0x43e576[_0x3c2dc1(0x152)];if(_0x31a7dc)_0x31a7dc[_0x3c2dc1(0x149)][_0x3c2dc1(0x12e)]=_0x3c2dc1(0x103);}}),_0x26113c[_0x122d52(0x178)][_0x122d52(0x111)](_0x122d52(0xdb));const _0x54f72a=_0x26113c['classList']['contains'](_0x122d52(0xdb));_0x59deb4[_0x122d52(0x149)][_0x122d52(0x12e)]=_0x54f72a?_0x122d52(0x194):'none';});const _0x16c7d7=_0x59deb4[_0x5bb952(0x147)](_0x5bb952(0xe1));_0x16c7d7[_0x5bb952(0x1b8)](_0x3971fd=>{var _0x21438a=_0x5bb952;_0x3971fd[_0x21438a(0x16d)]('click',function(){var _0x2aae22=_0x21438a;_0x16c7d7[_0x2aae22(0x1b8)](_0x5d565d=>_0x5d565d[_0x2aae22(0x178)][_0x2aae22(0x185)](_0x2aae22(0x11a))),this[_0x2aae22(0x178)]['add'](_0x2aae22(0x11a));const _0x123880=this[_0x2aae22(0xff)]('span')[_0x2aae22(0xe3)],_0x436958=this['querySelector']('span')[_0x2aae22(0x114)](_0x2aae22(0x179)),_0x23875a=this['querySelector']('iconify-icon');_0x26113c['innerHTML']='';if(_0x23875a){const _0xf2f33f=_0x23875a[_0x2aae22(0x128)](!![]);_0xf2f33f['style'][_0x2aae22(0xf2)]=_0x2aae22(0x170),_0x26113c[_0x2aae22(0x14c)](_0xf2f33f);}const _0x34385f=document[_0x2aae22(0x18b)]('span');_0x34385f[_0x2aae22(0xe3)]=_0x123880;_0x436958&&_0x34385f[_0x2aae22(0xd9)](_0x2aae22(0x179),_0x436958);_0x26113c['appendChild'](_0x34385f);const _0x3f7e14=this['getAttribute']('data-value');_0x310844['value']=_0x3f7e14||_0x123880;const _0x18d883=new Event(_0x2aae22(0x11b));_0x310844[_0x2aae22(0xfb)](_0x18d883),_0x26113c[_0x2aae22(0x178)][_0x2aae22(0x185)]('open'),_0x59deb4[_0x2aae22(0x149)][_0x2aae22(0x12e)]=_0x2aae22(0x103);});});let _0x2a56a6='',_0x5017f1;document[_0x5bb952(0x16d)](_0x5bb952(0x1c1),function(_0x574d0c){var _0x4b0bd3=_0x5bb952;if(!_0x26113c[_0x4b0bd3(0x178)]['contains']('open'))return;if(_0x574d0c[_0x4b0bd3(0xf5)]==='ArrowDown'||_0x574d0c[_0x4b0bd3(0xf5)]===_0x4b0bd3(0x1c0)){_0x574d0c[_0x4b0bd3(0x1a0)]();const _0x9f7a92=Array['from'](_0x16c7d7),_0x212af0=_0x9f7a92[_0x4b0bd3(0x1be)](_0x3a962d=>_0x3a962d[_0x4b0bd3(0x178)][_0x4b0bd3(0x19e)]('selected'));let _0x1de471;_0x574d0c[_0x4b0bd3(0xf5)]===_0x4b0bd3(0x10a)?_0x1de471=_0x212af0<_0x9f7a92['length']-0x1?_0x212af0+0x1:0x0:_0x1de471=_0x212af0>0x0?_0x212af0-0x1:_0x9f7a92[_0x4b0bd3(0x1ad)]-0x1;_0x16c7d7[_0x4b0bd3(0x1b8)](_0x5df6f4=>_0x5df6f4[_0x4b0bd3(0x178)][_0x4b0bd3(0x185)](_0x4b0bd3(0x11a))),_0x9f7a92[_0x1de471][_0x4b0bd3(0x178)][_0x4b0bd3(0x150)]('selected'),_0x9f7a92[_0x1de471][_0x4b0bd3(0x188)]({'block':_0x4b0bd3(0x13a)});return;}if(_0x574d0c[_0x4b0bd3(0xf5)]===_0x4b0bd3(0x183)){_0x574d0c['preventDefault']();const _0x43aee8=_0x59deb4[_0x4b0bd3(0xff)]('.selected');_0x43aee8&&_0x43aee8['click']();return;}if(_0x574d0c['key']===_0x4b0bd3(0x186)){_0x574d0c[_0x4b0bd3(0x1a0)](),_0x26113c[_0x4b0bd3(0x178)]['remove'](_0x4b0bd3(0xdb)),_0x59deb4[_0x4b0bd3(0x149)][_0x4b0bd3(0x12e)]=_0x4b0bd3(0x103);return;}if(_0x574d0c['key']['length']===0x1&&_0x574d0c[_0x4b0bd3(0xf5)][_0x4b0bd3(0x18a)](/[a-zA-Z0-9%]/)){clearTimeout(_0x5017f1),_0x2a56a6+=_0x574d0c['key'][_0x4b0bd3(0x10c)]();const _0x16add5=Array[_0x4b0bd3(0x1b3)](_0x16c7d7)[_0x4b0bd3(0x11f)](_0xed480b=>{var _0x42a31b=_0x4b0bd3;const _0x2e7fa4=_0xed480b[_0x42a31b(0xff)](_0x42a31b(0x175))[_0x42a31b(0xe3)][_0x42a31b(0x10c)]();return _0x2e7fa4[_0x42a31b(0x1b2)](_0x2a56a6);});_0x16add5&&(_0x16c7d7[_0x4b0bd3(0x1b8)](_0x4859c6=>_0x4859c6[_0x4b0bd3(0x178)][_0x4b0bd3(0x185)](_0x4b0bd3(0x11a))),_0x16add5[_0x4b0bd3(0x178)][_0x4b0bd3(0x150)](_0x4b0bd3(0x11a)),_0x16add5['scrollIntoView']({'block':_0x4b0bd3(0x13a)})),_0x5017f1=setTimeout(()=>{_0x2a56a6='';},0x3e8);}});}document['addEventListener'](_0x33be0b(0x122),function(_0x1210bf){var _0x4cf65c=_0x33be0b;const _0x12095a=document[_0x4cf65c(0x147)]('.custom-select-trigger,\x20.metric-select-trigger'),_0x48770d=document[_0x4cf65c(0x147)](_0x4cf65c(0x1c4));let _0x453e4d=![];_0x12095a[_0x4cf65c(0x1b8)](function(_0x952b4d,_0x5014bb){var _0x384440=_0x4cf65c;const _0x348316=_0x48770d[_0x5014bb];_0x952b4d&&_0x348316&&(_0x952b4d['contains'](_0x1210bf[_0x384440(0x12b)])||_0x348316[_0x384440(0x19e)](_0x1210bf['target']))&&(_0x453e4d=!![]);}),!_0x453e4d&&_0x12095a[_0x4cf65c(0x1b8)](function(_0xb2a9f8,_0x594ab8){var _0xf8ae6f=_0x4cf65c;_0xb2a9f8&&_0x48770d[_0x594ab8]&&(_0xb2a9f8[_0xf8ae6f(0x178)][_0xf8ae6f(0x185)](_0xf8ae6f(0xdb)),_0x48770d[_0x594ab8][_0xf8ae6f(0x149)][_0xf8ae6f(0x12e)]=_0xf8ae6f(0x103));});});const xhr=new XMLHttpRequest();xhr[_0x33be0b(0xdb)]('GET','https://datamb.football/database/TEAM/teamplots.csv',![]),xhr[_0x33be0b(0x11d)](null);let csvData=xhr[_0x33be0b(0x157)],extraHeaderRow='ID,Player,Top\x207\x20Leagues,Goals\x20per\x2090,xG\x20per\x2090,Shots\x20on\x20target\x20per\x2090,Shots\x20on\x20target\x20%,Passes\x20completed,Pass\x20accuracy\x20%,Possession\x20%,Positional\x20attacks\x20per\x2090,Counter\x20attacks\x20per\x2090,Touches\x20in\x20the\x20box\x20per\x2090,Goals\x20conceded\x20per\x2090,SoT\x20against\x20per\x2090,Defensive\x20duels\x20per\x2090,Defensive\x20duel\x20%,Aerial\x20duels\x20per\x2090,Aerial\x20duels\x20%,Passes\x20per\x20possession,PPDA\x0a';csvData=extraHeaderRow+csvData;var rows=csvData[_0x33be0b(0x16c)]()['split']('\x0a'),header=rows[0x0][_0x33be0b(0x119)](','),data=rows[_0x33be0b(0x14d)](0x1)[_0x33be0b(0x118)](function(_0x5c3843){var _0x2ed16d=_0x33be0b;return _0x5c3843[_0x2ed16d(0x119)](',')[_0x2ed16d(0x118)](function(_0x38594f,_0x51b717){return _0x51b717>=0x3?parseFloat(_0x38594f):_0x38594f;});}),margin={'top':0x0,'right':0x0,'bottom':0x0,'left':0x0},width=0x43a-margin[_0x33be0b(0x11c)]-margin[_0x33be0b(0x159)],height=0x302-margin['top']-margin['bottom'],leagueColors={'Premier\x20League':_0x33be0b(0x131),'La\x20Liga':_0x33be0b(0x1c3),'Bundesliga':'rgba(255,\x20255,\x200,\x200.7)','Serie\x20A':_0x33be0b(0x191),'Ligue\x201':_0x33be0b(0x162),'Eredivisie':_0x33be0b(0x127),'Primeira\x20Liga':_0x33be0b(0x145)};function getLeagueColor(_0x311211){var _0x6fefc3=_0x33be0b;return leagueColors[_0x311211]||_0x6fefc3(0x131);}function updateChartDimensions(){var _0x3916d1=_0x33be0b,_0x585552=document[_0x3916d1(0xff)](_0x3916d1(0x15e))[_0x3916d1(0x1af)],_0x1a16fe=window[_0x3916d1(0x10d)]*0.7,_0x50d2f2=0x1e,_0x547a95=Math['min'](0x43a,_0x585552-_0x50d2f2*0x2),_0x336dc1=window[_0x3916d1(0x1a9)]/window[_0x3916d1(0x10d)]<0x1;if(_0x336dc1){margin={'top':0x28,'right':0x1e,'bottom':0x3c,'left':0x4b};var _0x1755fb=1.4,_0x2cffb8=Math[_0x3916d1(0x17c)](_0x1a16fe,_0x547a95*_0x1755fb);_0x2cffb8=Math['max'](_0x2cffb8,0x1f4);}else{margin={'top':0x28,'right':0x1e,'bottom':0x3c,'left':0x4f};var _0x296469=0.7,_0x2cffb8=_0x547a95*_0x296469;}width=_0x547a95-margin['left']-margin['right'],height=_0x2cffb8-margin['top']-margin[_0x3916d1(0x112)],d3['select'](_0x3916d1(0x102))[_0x3916d1(0x135)]('width',_0x547a95)[_0x3916d1(0x135)]('height',_0x2cffb8),document[_0x3916d1(0xff)](_0x3916d1(0xdc))['style'][_0x3916d1(0x1b7)]=_0x2cffb8+'px';}window[_0x33be0b(0x16d)](_0x33be0b(0x171),function(){updateChartDimensions(),requestAnimationFrame(function(){updateChart();});}),updateChartDimensions();function debounce(_0x35bb7b,_0x3d8d40){let _0x568141;return function(){const _0x5de146=this,_0x4da359=arguments;clearTimeout(_0x568141),_0x568141=setTimeout(function(){var _0x54c68a=_0x562f;_0x35bb7b[_0x54c68a(0x19b)](_0x5de146,_0x4da359);},_0x3d8d40);};}var prevWindowWidth=window[_0x33be0b(0x1a9)],prevWindowHeight=window[_0x33be0b(0x10d)];window[_0x33be0b(0x16d)](_0x33be0b(0x171),debounce(function(){var _0x34e623=_0x33be0b,_0x1f5b16=prevWindowWidth/prevWindowHeight<0x1,_0x5a9b4c=window[_0x34e623(0x1a9)]/window['innerHeight']<0x1;prevWindowWidth=window[_0x34e623(0x1a9)],prevWindowHeight=window['innerHeight'],requestAnimationFrame(function(){updateChart();});},0x32));var medianLinesVisible=![],selectX=d3[_0x33be0b(0x187)](_0x33be0b(0x193)),selectY=d3[_0x33be0b(0x187)]('#select-y'),names=data[_0x33be0b(0x118)](function(_0xe43261){return _0xe43261[0x1];});header[_0x33be0b(0x14d)](0x3)[_0x33be0b(0x1b8)](function(_0x241f4d){var _0x164c95=_0x33be0b;selectX[_0x164c95(0x1aa)](_0x164c95(0xed))['text'](_0x241f4d)[_0x164c95(0x135)](_0x164c95(0x1a4),_0x241f4d),selectY[_0x164c95(0x1aa)]('option')[_0x164c95(0x1ac)](_0x241f4d)['attr'](_0x164c95(0x1a4),_0x241f4d);}),selectX[_0x33be0b(0x136)]('value',header[0x3]),selectY[_0x33be0b(0x136)]('value',header[0x4]);var svg=d3[_0x33be0b(0x187)](_0x33be0b(0x102))[_0x33be0b(0x135)]('width',width+margin[_0x33be0b(0x11c)]+margin[_0x33be0b(0x159)])[_0x33be0b(0x135)](_0x33be0b(0x1b7),height+margin[_0x33be0b(0x12c)]+margin[_0x33be0b(0x112)])[_0x33be0b(0x1aa)]('g')[_0x33be0b(0x135)](_0x33be0b(0xde),_0x33be0b(0xe7)+margin[_0x33be0b(0x11c)]+','+margin[_0x33be0b(0x12c)]+')'),xMetric=header[0x3],yMetric=header[0x4],xScale=d3[_0x33be0b(0x1c5)]()[_0x33be0b(0x1b0)]([0x0,width]),yScale=d3[_0x33be0b(0x1c5)]()[_0x33be0b(0x1b0)]([height,0x0]),xAxis=d3[_0x33be0b(0x1bf)](xScale)['tickSize'](0x0),yAxis=d3[_0x33be0b(0x143)](yScale)[_0x33be0b(0x1a6)](0x0),gXAxis=svg[_0x33be0b(0x1aa)]('g')[_0x33be0b(0x135)]('class',_0x33be0b(0x18c))[_0x33be0b(0x135)]('transform','translate(0,'+height+')'),gYAxis=svg[_0x33be0b(0x1aa)]('g')[_0x33be0b(0x135)](_0x33be0b(0x177),_0x33be0b(0xe4)),xLabel=svg['append'](_0x33be0b(0x1ac))[_0x33be0b(0x135)](_0x33be0b(0x177),_0x33be0b(0x124))[_0x33be0b(0x135)](_0x33be0b(0x161),_0x33be0b(0xfc))[_0x33be0b(0x135)]('x',width)[_0x33be0b(0x135)]('y',height+0x23)[_0x33be0b(0x149)](_0x33be0b(0xda),_0x33be0b(0x166))[_0x33be0b(0x149)]('font-size','14px'),yLabel=svg[_0x33be0b(0x1aa)](_0x33be0b(0x1ac))['attr'](_0x33be0b(0x177),_0x33be0b(0xf8))[_0x33be0b(0x135)](_0x33be0b(0x161),_0x33be0b(0xfc))['attr'](_0x33be0b(0xde),'rotate(-90)')['attr']('y',-0x35)[_0x33be0b(0x135)]('x',0x0)[_0x33be0b(0x149)]('font-family',_0x33be0b(0x166))[_0x33be0b(0x149)]('font-size','14px'),tooltip=d3[_0x33be0b(0x187)](_0x33be0b(0x1bb))[_0x33be0b(0x1aa)]('div')[_0x33be0b(0x135)]('class',_0x33be0b(0x109));function isMobileDevice(){var _0x370b62=_0x33be0b;return window[_0x370b62(0x1a9)]<=0x300;}function positionTooltip(_0x19532e,_0xbdfec8){var _0xa2a64d=_0x33be0b;const _0x3ee53e=_0xbdfec8[_0xa2a64d(0x164)]();if(!_0x3ee53e)return{'left':0x0,'top':0x0};const _0x1287fb=_0x3ee53e[_0xa2a64d(0x1ae)](),_0x4e297d=window[_0xa2a64d(0x1a9)],_0x4c10a5=window[_0xa2a64d(0x10d)];let _0x10b5f6=_0x19532e[_0xa2a64d(0x15b)]+0xa,_0x2a40f3=_0x19532e[_0xa2a64d(0x174)]-0x1c;return _0x10b5f6+_0x1287fb[_0xa2a64d(0x132)]>_0x4e297d-0xa&&(_0x10b5f6=_0x19532e['pageX']-_0x1287fb[_0xa2a64d(0x132)]-0xa),_0x2a40f3+_0x1287fb[_0xa2a64d(0x1b7)]>_0x4c10a5-0xa&&(_0x2a40f3=_0x19532e[_0xa2a64d(0x174)]-_0x1287fb[_0xa2a64d(0x1b7)]-0xa),_0x10b5f6=Math[_0xa2a64d(0x1b5)](0xa,_0x10b5f6),_0x2a40f3=Math[_0xa2a64d(0x1b5)](0xa,_0x2a40f3),{'left':_0x10b5f6,'top':_0x2a40f3};}var clickedCircles=[],filteredData=data,filteredNames=names,circles;function updateChart(){var _0x4a45e0=_0x33be0b;updateChartDimensions(),d3[_0x4a45e0(0x187)]('#scatter-plot')[_0x4a45e0(0x135)]('width',width+margin[_0x4a45e0(0x11c)]+margin[_0x4a45e0(0x159)])[_0x4a45e0(0x135)](_0x4a45e0(0x1b7),height+margin[_0x4a45e0(0x12c)]+margin['bottom']),gXAxis[_0x4a45e0(0x135)](_0x4a45e0(0xde),_0x4a45e0(0x1a1)+height+')'),xLabel[_0x4a45e0(0x135)]('x',width)[_0x4a45e0(0x135)]('y',height+0x23),yLabel[_0x4a45e0(0x135)]('x',0x0);const _0x500854=document[_0x4a45e0(0x1bb)][_0x4a45e0(0x178)][_0x4a45e0(0x19e)](_0x4a45e0(0x12a));var _0x4fd07e=document[_0x4a45e0(0x11e)](_0x4a45e0(0x195))[_0x4a45e0(0x1a4)];if(_0x4fd07e===_0x4a45e0(0xeb))filteredData=data;else _0x4fd07e==='Top\x205\x20Leagues'?filteredData=data[_0x4a45e0(0xf7)](function(_0x52f1d0){var _0x19fa5c=_0x4a45e0;return _0x52f1d0[0x2]===_0x19fa5c(0x121)||_0x52f1d0[0x2]==='La\x20Liga'||_0x52f1d0[0x2]===_0x19fa5c(0x16a)||_0x52f1d0[0x2]===_0x19fa5c(0x1b4)||_0x52f1d0[0x2]===_0x19fa5c(0x189);}):filteredData=data[_0x4a45e0(0xf7)](function(_0x1c2fab){return _0x1c2fab[0x2]===_0x4fd07e;});filteredNames=filteredData[_0x4a45e0(0x118)](function(_0x362214){return _0x362214[0x1];}),xMetric=selectX[_0x4a45e0(0x136)](_0x4a45e0(0x1a4)),yMetric=selectY[_0x4a45e0(0x136)](_0x4a45e0(0x1a4)),xScale[_0x4a45e0(0x1b0)]([0x0,width])['domain']((function(){var _0x2e1521=_0x4a45e0;const _0x37f78=d3[_0x2e1521(0x141)](filteredData,function(_0x443c8b){var _0x5942f1=_0x2e1521;return+_0x443c8b[header[_0x5942f1(0x17a)](xMetric)];}),_0x5cd324=d3['scaleLinear']()[_0x2e1521(0x167)](_0x37f78)[_0x2e1521(0x134)](),_0x320592=_0x5cd324[_0x2e1521(0x167)](),_0x50bffe=_0x37f78[0x1]-_0x37f78[0x0],_0x319698=_0x320592[0x1]-_0x320592[0x0];if(_0x319698/_0x50bffe>1.2){const _0x2b3021=_0x50bffe*0.1;return[_0x37f78[0x0]-_0x2b3021,_0x37f78[0x1]+_0x2b3021];}else return _0x320592;}())),yScale[_0x4a45e0(0x1b0)]([height,0x0])[_0x4a45e0(0x167)]((function(){var _0x3c0fad=_0x4a45e0;const _0x55fb80=d3[_0x3c0fad(0x141)](filteredData,function(_0x36adb7){return+_0x36adb7[header['indexOf'](yMetric)];}),_0x2c181c=d3[_0x3c0fad(0x1c5)]()['domain'](_0x55fb80)[_0x3c0fad(0x134)](),_0x3d0246=_0x2c181c[_0x3c0fad(0x167)](),_0x584a52=_0x55fb80[0x1]-_0x55fb80[0x0],_0x1aa80b=_0x3d0246[0x1]-_0x3d0246[0x0];if(_0x1aa80b/_0x584a52>1.2){const _0x299636=_0x584a52*0.1;return[_0x55fb80[0x0]-_0x299636,_0x55fb80[0x1]+_0x299636];}else return _0x3d0246;}())),gXAxis['call'](d3[_0x4a45e0(0x1bf)](xScale)[_0x4a45e0(0x1a6)](0x0)),gYAxis[_0x4a45e0(0x137)](d3[_0x4a45e0(0x143)](yScale)[_0x4a45e0(0x1a6)](0x0));const _0x3ded08=_0x4a45e0(0xe8)+xMetric[_0x4a45e0(0x10c)]()[_0x4a45e0(0x14b)](/ /g,'-')[_0x4a45e0(0x14b)](/%/g,_0x4a45e0(0x151)),_0x103b41=_0x4a45e0(0xe8)+yMetric[_0x4a45e0(0x10c)]()[_0x4a45e0(0x14b)](/ /g,'-')['replace'](/%/g,_0x4a45e0(0x151));xLabel[_0x4a45e0(0x135)]('data-i18n',_0x3ded08),yLabel[_0x4a45e0(0x135)](_0x4a45e0(0x179),_0x103b41);if(window[_0x4a45e0(0x142)]&&window[_0x4a45e0(0x142)][_0x4a45e0(0xd3)]){const _0x4adf35=xMetric[_0x4a45e0(0x10c)]()[_0x4a45e0(0x14b)](/ /g,'-')[_0x4a45e0(0x14b)](/%/g,_0x4a45e0(0x151)),_0x6d27ca=yMetric[_0x4a45e0(0x10c)]()['replace'](/ /g,'-')[_0x4a45e0(0x14b)](/%/g,'pct'),_0x1746e2=window[_0x4a45e0(0x142)][_0x4a45e0(0xd3)][_0x4adf35],_0x98a956=window[_0x4a45e0(0x142)][_0x4a45e0(0xd3)][_0x6d27ca];xLabel[_0x4a45e0(0x1ac)](_0x1746e2||xMetric),yLabel[_0x4a45e0(0x1ac)](_0x98a956||yMetric);}else xLabel[_0x4a45e0(0x1ac)](xMetric),yLabel['text'](yMetric);svg[_0x4a45e0(0x17e)]('circle')[_0x4a45e0(0x185)](),svg[_0x4a45e0(0x17e)](_0x4a45e0(0xec))['remove'](),svg[_0x4a45e0(0x17e)](_0x4a45e0(0x198))[_0x4a45e0(0x185)](),svg['selectAll'](_0x4a45e0(0x168))['remove'](),svg['selectAll'](_0x4a45e0(0xf4))[_0x4a45e0(0x185)](),svg[_0x4a45e0(0x17e)](_0x4a45e0(0x13f))[_0x4a45e0(0x185)](),svg[_0x4a45e0(0x17e)](_0x4a45e0(0x180))[_0x4a45e0(0x185)](),svg[_0x4a45e0(0x17e)]('linearGradient#line-gradient')['remove'](),svg['selectAll'](_0x4a45e0(0x172))[_0x4a45e0(0x185)](),svg[_0x4a45e0(0x17e)](_0x4a45e0(0x106))['remove'](),svg['selectAll'](_0x4a45e0(0x148))[_0x4a45e0(0x185)]();if(xMetric===_0x4a45e0(0x15d)&&yMetric==='Goals\x20per\x2090'||xMetric===_0x4a45e0(0x18f)&&yMetric===_0x4a45e0(0x15d)){var _0x4f8495=null,_0x4d6232=d3[_0x4a45e0(0x17c)](filteredData,function(_0xa3e9f7){return _0xa3e9f7[header['indexOf'](xMetric)];}),_0x13d6b6=d3[_0x4a45e0(0x1b5)](filteredData,function(_0x44ec7d){var _0x53fc90=_0x4a45e0;return _0x44ec7d[header[_0x53fc90(0x17a)](xMetric)];}),_0x44a311=d3[_0x4a45e0(0x17c)](filteredData,function(_0x31b970){return _0x31b970[header['indexOf'](yMetric)];}),_0x3fc5db=d3[_0x4a45e0(0x1b5)](filteredData,function(_0x501a31){var _0x1337e0=_0x4a45e0;return _0x501a31[header[_0x1337e0(0x17a)](yMetric)];}),_0x149db6=Math[_0x4a45e0(0x17c)](_0x13d6b6,_0x3fc5db),_0xf807f=Math['max'](_0x4d6232,_0x44a311);svg[_0x4a45e0(0x1aa)](_0x4a45e0(0x123))['attr']('class',_0x4a45e0(0x101))[_0x4a45e0(0x135)]('x1',xScale(_0xf807f))[_0x4a45e0(0x135)]('y1',yScale(_0xf807f))[_0x4a45e0(0x135)]('x2',xScale(_0x149db6))[_0x4a45e0(0x135)]('y2',yScale(_0x149db6))[_0x4a45e0(0x149)](_0x4a45e0(0xfd),'#2ecc71')['style'](_0x4a45e0(0x18d),'2')[_0x4a45e0(0x149)](_0x4a45e0(0x1a8),_0x4a45e0(0x1b6)),svg[_0x4a45e0(0x1aa)]('line')[_0x4a45e0(0x135)]('class',_0x4a45e0(0x1a3))[_0x4a45e0(0x135)]('x1',xScale(_0xf807f))[_0x4a45e0(0x135)]('y1',yScale(_0xf807f))[_0x4a45e0(0x135)]('x2',xScale(_0x149db6))[_0x4a45e0(0x135)]('y2',yScale(_0x149db6))[_0x4a45e0(0x149)]('stroke','transparent')[_0x4a45e0(0x149)](_0x4a45e0(0x18d),'15')['style']('cursor','help')['on']('mouseover',function(){var _0x46cdb9=_0x4a45e0;_0x4f8495&&clearTimeout(_0x4f8495);var _0x544e49=d3[_0x46cdb9(0x12d)]['pageX'],_0x21fd0d=d3[_0x46cdb9(0x12d)][_0x46cdb9(0x174)];_0x4f8495=setTimeout(function(){var _0x22cbd5=_0x46cdb9;tooltip['transition']()[_0x22cbd5(0x197)](0xc8)[_0x22cbd5(0x149)](_0x22cbd5(0x13d),0.9);var _0x2d4db7=_0x22cbd5(0x1b9)+getTranslation(_0x22cbd5(0xd7),_0x22cbd5(0x16e))+_0x22cbd5(0xe2);xMetric===_0x22cbd5(0x15d)&&yMetric==='Goals\x20per\x2090'?_0x2d4db7+='<span>'+getTranslation(_0x22cbd5(0x17b),_0x22cbd5(0xee))+_0x22cbd5(0x192)+_0x22cbd5(0x16b)+getTranslation(_0x22cbd5(0x16f),'Teams\x20below\x20this\x20line\x20are\x20scoring\x20fewer\x20goals\x20than\x20expected.')+_0x22cbd5(0x155):_0x2d4db7+=_0x22cbd5(0x16b)+getTranslation('tooltip.xg-line-right',_0x22cbd5(0x199))+'</span><br/>'+_0x22cbd5(0x16b)+getTranslation(_0x22cbd5(0x165),_0x22cbd5(0xe5))+_0x22cbd5(0x155),tooltip[_0x22cbd5(0x10f)](_0x2d4db7)[_0x22cbd5(0x149)](_0x22cbd5(0x11c),_0x544e49+0xa+'px')['style'](_0x22cbd5(0x12c),_0x21fd0d-0x1c+'px');},0x258);})['on'](_0x4a45e0(0xd5),function(){var _0x14f87e=_0x4a45e0;_0x4f8495&&(clearTimeout(_0x4f8495),_0x4f8495=null),tooltip[_0x14f87e(0x105)]()[_0x14f87e(0x197)](0x1f4)[_0x14f87e(0x149)](_0x14f87e(0x13d),0x0);});}if(medianLinesVisible){var _0xba0a04=d3[_0x4a45e0(0x15a)](filteredData,function(_0x555724){var _0x20e61e=_0x4a45e0;return _0x555724[header[_0x20e61e(0x17a)](xMetric)];}),_0x20a922=d3[_0x4a45e0(0x15a)](filteredData,function(_0x2384d8){var _0x1104b5=_0x4a45e0;return _0x2384d8[header[_0x1104b5(0x17a)](yMetric)];});svg[_0x4a45e0(0x1aa)](_0x4a45e0(0x123))[_0x4a45e0(0x135)]('class','median-line')[_0x4a45e0(0x135)]('x1',xScale(_0xba0a04))['attr']('y1',0x0)[_0x4a45e0(0x135)]('x2',xScale(_0xba0a04))[_0x4a45e0(0x135)]('y2',height)[_0x4a45e0(0x149)]('stroke','rgba(0,\x200,\x200,\x200.3)')[_0x4a45e0(0x149)](_0x4a45e0(0x1a8),'4'),svg[_0x4a45e0(0x1aa)](_0x4a45e0(0x123))[_0x4a45e0(0x135)]('class',_0x4a45e0(0x129))[_0x4a45e0(0x135)]('x1',0x0)['attr']('y1',yScale(_0x20a922))[_0x4a45e0(0x135)]('x2',width)['attr']('y2',yScale(_0x20a922))[_0x4a45e0(0x149)](_0x4a45e0(0xfd),_0x4a45e0(0xf0))[_0x4a45e0(0x149)](_0x4a45e0(0x1a8),'4');}circles=svg[_0x4a45e0(0x17e)](_0x4a45e0(0x176))[_0x4a45e0(0x190)](filteredData)[_0x4a45e0(0xdd)]()[_0x4a45e0(0x1aa)](_0x4a45e0(0x176))[_0x4a45e0(0x135)]('cx',function(_0x21b979){var _0x2037be=_0x4a45e0;return xScale(_0x21b979[header[_0x2037be(0x17a)](xMetric)]);})[_0x4a45e0(0x135)]('cy',function(_0x47b161){return yScale(_0x47b161[header['indexOf'](yMetric)]);})[_0x4a45e0(0x135)]('r',0x8)[_0x4a45e0(0x149)](_0x4a45e0(0x1bc),function(_0x286255){var _0x227997=_0x4a45e0;if(clickedCircles['includes'](_0x286255[0x1]))return getLeagueColor(_0x286255[0x2]);return _0x227997(0xe0);})[_0x4a45e0(0x149)](_0x4a45e0(0xfd),function(_0x45ecff){var _0x2ebad6=_0x4a45e0;return clickedCircles[_0x2ebad6(0x15c)](_0x45ecff[0x1])?_0x2ebad6(0x113):_0x2ebad6(0x103);})[_0x4a45e0(0x149)]('stroke-width',function(_0x1dfc3c){var _0x4dceaf=_0x4a45e0;return clickedCircles[_0x4dceaf(0x15c)](_0x1dfc3c[0x1])?0x2:0x0;})[_0x4a45e0(0x149)](_0x4a45e0(0x158),'pointer')['on'](_0x4a45e0(0x107),function(_0x4d7a4a){var _0x55bae2=_0x4a45e0;d3[_0x55bae2(0x187)](this)[_0x55bae2(0x105)]()[_0x55bae2(0x197)](0xc8)[_0x55bae2(0x135)]('r',0xa)[_0x55bae2(0x149)](_0x55bae2(0x1bc),getLeagueColor(_0x4d7a4a[0x2])),tooltip['transition']()[_0x55bae2(0x197)](0xc8)[_0x55bae2(0x149)](_0x55bae2(0x13d),0.9);const _0x509d59=_0x55bae2(0xe8)+xMetric['toLowerCase']()[_0x55bae2(0x14b)](/ /g,'-')['replace'](/%/g,_0x55bae2(0x151)),_0x3e1d6c=_0x55bae2(0xe8)+yMetric['toLowerCase']()[_0x55bae2(0x14b)](/ /g,'-')['replace'](/%/g,'pct'),_0x7a25f=getTranslation(_0x509d59,xMetric),_0x16dc2d=getTranslation(_0x3e1d6c,yMetric);tooltip[_0x55bae2(0x10f)](_0x55bae2(0x1b9)+_0x4d7a4a[0x1]+_0x55bae2(0xe2)+_0x7a25f+':\x20'+_0x4d7a4a[header[_0x55bae2(0x17a)](xMetric)][_0x55bae2(0x139)](0x2)+_0x55bae2(0x1b1)+_0x16dc2d+':\x20'+_0x4d7a4a[header[_0x55bae2(0x17a)](yMetric)][_0x55bae2(0x139)](0x2));const _0x1d043a=tooltip[_0x55bae2(0x164)]();if(_0x1d043a){const _0x7cfedc=_0x1d043a[_0x55bae2(0x1ae)](),_0x28ee84=window['innerWidth'],_0x4bbf14=window['innerHeight'];let _0x364df3=d3[_0x55bae2(0x12d)][_0x55bae2(0x15b)]+0xa,_0x145b21=d3[_0x55bae2(0x12d)]['pageY']-0x1c;_0x364df3+_0x7cfedc[_0x55bae2(0x132)]>_0x28ee84-0xa&&(_0x364df3=d3[_0x55bae2(0x12d)][_0x55bae2(0x15b)]-_0x7cfedc[_0x55bae2(0x132)]-0xa),_0x145b21+_0x7cfedc['height']>_0x4bbf14-0xa&&(_0x145b21=d3[_0x55bae2(0x12d)]['pageY']-_0x7cfedc['height']-0xa),_0x364df3=Math[_0x55bae2(0x1b5)](0xa,_0x364df3),_0x145b21=Math[_0x55bae2(0x1b5)](0xa,_0x145b21),tooltip[_0x55bae2(0x149)](_0x55bae2(0x11c),_0x364df3+'px')['style'](_0x55bae2(0x12c),_0x145b21+'px');}else tooltip[_0x55bae2(0x149)](_0x55bae2(0x11c),d3[_0x55bae2(0x12d)][_0x55bae2(0x15b)]+0xa+'px')[_0x55bae2(0x149)](_0x55bae2(0x12c),d3[_0x55bae2(0x12d)][_0x55bae2(0x174)]-0x1c+'px');window[_0x55bae2(0x1a9)]<=0x300&&setTimeout(function(){var _0x1a616f=_0x55bae2;tooltip['transition']()[_0x1a616f(0x197)](0xc8)[_0x1a616f(0x149)](_0x1a616f(0x13d),0x0);},0x3e8);})['on']('mouseout',function(_0x26db19){var _0x461b1b=_0x4a45e0;window[_0x461b1b(0x1a9)]>0x300&&tooltip[_0x461b1b(0x105)]()['duration'](0x1f4)['style'](_0x461b1b(0x13d),0x0);var _0x4b6ebb=clickedCircles[_0x461b1b(0x15c)](_0x26db19[0x1]);d3[_0x461b1b(0x187)](this)['transition']()[_0x461b1b(0x197)](0xc8)[_0x461b1b(0x135)]('r',0x8)[_0x461b1b(0x149)]('fill',function(){var _0x48dd1b=_0x461b1b;return _0x4b6ebb?getLeagueColor(_0x26db19[0x2]):_0x48dd1b(0xe0);});})['on'](_0x4a45e0(0x122),function(_0x433f12){var _0x124b9a=_0x4a45e0,_0xf99480=d3[_0x124b9a(0x187)](this)[_0x124b9a(0xe6)](_0x124b9a(0x182));_0xf99480&&resetSearch();var _0x53d963=clickedCircles[_0x124b9a(0x17a)](_0x433f12[0x1]);_0x53d963===-0x1?(clickedCircles['push'](_0x433f12[0x1]),d3['select'](this)[_0x124b9a(0x149)](_0x124b9a(0x1bc),getLeagueColor(_0x433f12[0x2]))[_0x124b9a(0x149)](_0x124b9a(0xfd),'#000')['style']('stroke-width',0x2),addTeamLabel(_0x433f12)):(clickedCircles['splice'](_0x53d963,0x1),d3[_0x124b9a(0x187)](this)['style'](_0x124b9a(0x1bc),_0x124b9a(0xe0))[_0x124b9a(0x149)](_0x124b9a(0xfd),_0x124b9a(0x103)),svg[_0x124b9a(0x17e)]('.team-label-'+_0x433f12[0x1]['replace'](/\s+/g,'-')['toLowerCase']())[_0x124b9a(0x185)]());updateSelectAllButtonText();var _0x1dda4d=document[_0x124b9a(0x11e)](_0x124b9a(0x195))['value'];updateLeagueLegend(_0x1dda4d);}),clickedCircles[_0x4a45e0(0x1b8)](function(_0x1bef24){var _0x51e233=_0x4a45e0,_0x342e00=filteredData[_0x51e233(0x11f)](function(_0x2b8200){return _0x2b8200[0x1]===_0x1bef24;});_0x342e00&&addTeamLabel(_0x342e00);}),updateSelectAllButtonText(),updateLeagueLegend(_0x4fd07e);}function updateSelectAllButtonText(){var _0x2952dd=_0x33be0b,_0x1e20fb=document[_0x2952dd(0x11e)]('select-icon'),_0x138046=document[_0x2952dd(0x11e)](_0x2952dd(0x116)),_0x1fbaec=filteredData['every'](function(_0x5303fd){var _0x19b1b7=_0x2952dd;return clickedCircles[_0x19b1b7(0x15c)](_0x5303fd[0x1]);});_0x1fbaec?(_0x1e20fb[_0x2952dd(0xfe)]=_0x2952dd(0x14a),_0x138046&&(window[_0x2952dd(0x142)]&&window[_0x2952dd(0x142)][_0x2952dd(0x109)]?_0x138046['textContent']=window[_0x2952dd(0x142)][_0x2952dd(0x109)]['unselectAll']||_0x2952dd(0x120):_0x138046['textContent']=_0x2952dd(0x120))):(_0x1e20fb[_0x2952dd(0xfe)]='ion-ios-circle-filled',_0x138046&&(window[_0x2952dd(0x142)]&&window[_0x2952dd(0x142)][_0x2952dd(0x109)]?_0x138046[_0x2952dd(0xe3)]=window['currentTranslations'][_0x2952dd(0x109)][_0x2952dd(0x17e)]||_0x2952dd(0x1ab):_0x138046['textContent']=_0x2952dd(0x1ab)));}selectX['on']('change',updateChart),selectY['on'](_0x33be0b(0x11b),updateChart);function removeSpecialCharsAndDiacritics(_0x217f23){var _0x366de7=_0x33be0b;if(!_0x217f23)return'';return _0x217f23[_0x366de7(0x17d)](_0x366de7(0x19f))['replace'](/[\u0300-\u036f]/g,'')[_0x366de7(0x14b)](/Ø/g,'O')[_0x366de7(0x14b)](/ø/g,'o');}var searchBar=document[_0x33be0b(0x11e)](_0x33be0b(0x125));function _0x562f(_0x55c55b,_0x1096ab){var _0x118161=_0x1181();return _0x562f=function(_0x562faf,_0x205ac3){_0x562faf=_0x562faf-0xd3;var _0x45f3a8=_0x118161[_0x562faf];return _0x45f3a8;},_0x562f(_0x55c55b,_0x1096ab);}searchBar['addEventListener'](_0x33be0b(0x15f),function(){var _0x144139=_0x33be0b,_0x25bfc5=searchBar['value'][_0x144139(0x10c)]();if(_0x25bfc5===''){resetSearch();return;}var _0x28f006=removeSpecialCharsAndDiacritics(_0x25bfc5);svg['selectAll']('circle')[_0x144139(0xe6)](_0x144139(0x182),![])[_0x144139(0x149)](_0x144139(0x1bc),function(_0x1225b8){var _0x4f2e54=_0x144139;return clickedCircles[_0x4f2e54(0x15c)](_0x1225b8[0x1])?getLeagueColor(_0x1225b8[0x2]):_0x4f2e54(0xe0);})[_0x144139(0x149)](_0x144139(0xfd),function(_0x2a9ec3){var _0x36239a=_0x144139;return clickedCircles[_0x36239a(0x15c)](_0x2a9ec3[0x1])?_0x36239a(0x113):_0x36239a(0x103);})[_0x144139(0x149)](_0x144139(0x18d),function(_0x2918cb){var _0x22c8ef=_0x144139;return clickedCircles[_0x22c8ef(0x15c)](_0x2918cb[0x1])?0x2:0x0;})[_0x144139(0x149)]('filter','none')[_0x144139(0x181)](function(){d3['select'](this)['style']('r',null);}),svg[_0x144139(0x17e)]('.team-label')[_0x144139(0xe6)](_0x144139(0x182),![])[_0x144139(0xe6)]('search-dimmed',![]);var _0x57f661=[];svg[_0x144139(0x17e)](_0x144139(0x176))[_0x144139(0xf7)](function(_0x2532d3){var _0x53ed10=_0x144139,_0xe0df00=_0x2532d3[0x1][_0x53ed10(0x10c)](),_0x2bac1b=removeSpecialCharsAndDiacritics(_0xe0df00),_0x221f04=_0xe0df00[_0x53ed10(0x15c)](_0x25bfc5)||_0x2bac1b['includes'](_0x28f006);return _0x221f04&&_0x57f661['push'](_0x2532d3[0x1]),_0x221f04;})['classed'](_0x144139(0x182),!![])['each'](function(){var _0xaae8b6=_0x144139;this[_0xaae8b6(0x13e)][_0xaae8b6(0x14c)](this);}),_0x57f661[_0x144139(0x1ad)]>0x0?(svg[_0x144139(0x17e)](_0x144139(0xec))[_0x144139(0xe6)]('search-dimmed',!![]),svg[_0x144139(0x17e)]('.team-label')[_0x144139(0xf7)](function(){var _0x275d20=_0x144139,_0x36e9d2=d3[_0x275d20(0x187)](this)[_0x275d20(0x1ac)]();return _0x57f661[_0x275d20(0x15c)](_0x36e9d2);})[_0x144139(0xe6)](_0x144139(0x182),!![])[_0x144139(0xe6)]('search-dimmed',![])[_0x144139(0x181)](function(){var _0x421d93=_0x144139;this[_0x421d93(0x13e)][_0x421d93(0x14c)](this);}),_0x57f661[_0x144139(0x1b8)](function(_0x56b4d9){var _0x263aa3=_0x144139,_0x822844=_0x263aa3(0x110)+_0x56b4d9[_0x263aa3(0x14b)](/\s+/g,'-')[_0x263aa3(0x10c)]();if(svg[_0x263aa3(0x187)]('.'+_0x822844)[_0x263aa3(0x1a5)]()===0x0){var _0x138c1a=filteredData[_0x263aa3(0x11f)](function(_0x14a984){return _0x14a984[0x1]===_0x56b4d9;});_0x138c1a&&(addTeamLabel(_0x138c1a),svg['select']('.'+_0x822844)[_0x263aa3(0xe6)]('search-match',!![]));}})):(svg[_0x144139(0x17e)](_0x144139(0xec))['each'](function(){var _0x19149e=_0x144139,_0x27a1bd=d3[_0x19149e(0x187)](this),_0x327b6c=_0x27a1bd[_0x19149e(0x1ac)]();!clickedCircles[_0x19149e(0x15c)](_0x327b6c)&&_0x27a1bd['remove']();}),svg[_0x144139(0x17e)](_0x144139(0x176))[_0x144139(0x149)](_0x144139(0x1bc),function(_0x475be9){var _0xdc55f=_0x144139;return clickedCircles[_0xdc55f(0x15c)](_0x475be9[0x1])?getLeagueColor(_0x475be9[0x2]):_0xdc55f(0xe0);})[_0x144139(0x149)](_0x144139(0xfd),function(_0xaa1af7){var _0x37bd0b=_0x144139;return clickedCircles[_0x37bd0b(0x15c)](_0xaa1af7[0x1])?'#000':_0x37bd0b(0x103);})['style']('stroke-width',function(_0x4cd573){var _0x4ff2f8=_0x144139;return clickedCircles[_0x4ff2f8(0x15c)](_0x4cd573[0x1])?0x2:0x0;}));});function resetSearch(){var _0x2e7a59=_0x33be0b;searchBar['value']='',svg['selectAll']('circle')[_0x2e7a59(0xe6)](_0x2e7a59(0x182),![])['style'](_0x2e7a59(0x1bc),function(_0x43f3ba){var _0x5cc543=_0x2e7a59;return clickedCircles[_0x5cc543(0x15c)](_0x43f3ba[0x1])?getLeagueColor(_0x43f3ba[0x2]):_0x5cc543(0xe0);})[_0x2e7a59(0x149)]('stroke',function(_0x4c0295){var _0x330e4d=_0x2e7a59;return clickedCircles['includes'](_0x4c0295[0x1])?_0x330e4d(0x113):_0x330e4d(0x103);})['style'](_0x2e7a59(0x18d),function(_0x56d134){return clickedCircles['includes'](_0x56d134[0x1])?0x2:0x0;})[_0x2e7a59(0x149)]('filter','none')['each'](function(){var _0x585dea=_0x2e7a59;d3[_0x585dea(0x187)](this)['style']('r',null),d3['select'](this)['interrupt']();}),svg[_0x2e7a59(0x17e)](_0x2e7a59(0xec))[_0x2e7a59(0xe6)](_0x2e7a59(0x182),![])['classed'](_0x2e7a59(0x160),![])[_0x2e7a59(0x181)](function(){var _0x598356=_0x2e7a59;d3[_0x598356(0x187)](this)[_0x598356(0x1a7)]();}),svg[_0x2e7a59(0x17e)](_0x2e7a59(0xec))[_0x2e7a59(0x181)](function(){var _0x3d97e9=_0x2e7a59,_0x131748=d3['select'](this),_0x4ebe2b=_0x131748[_0x3d97e9(0x1ac)]();!clickedCircles['includes'](_0x4ebe2b)&&_0x131748[_0x3d97e9(0x185)]();});}var toggleButton=document[_0x33be0b(0x11e)]('toggle-median-lines');toggleButton[_0x33be0b(0x16d)](_0x33be0b(0x122),function(){var _0x4db3ef=_0x33be0b;medianLinesVisible=!medianLinesVisible,updateChart();const _0x20e405=document['getElementById']('median-lines-tooltip');window[_0x4db3ef(0x142)]&&window[_0x4db3ef(0x142)][_0x4db3ef(0x109)]?_0x20e405[_0x4db3ef(0xe3)]=medianLinesVisible?window[_0x4db3ef(0x142)][_0x4db3ef(0x109)]['hideMedianLines']||'Hide\x20median\x20lines':window[_0x4db3ef(0x142)][_0x4db3ef(0x109)]['showMedianLines']||'Show\x20median\x20lines':_0x20e405['textContent']=medianLinesVisible?_0x4db3ef(0x1bd):_0x4db3ef(0x100);});function selectAllCircles(){var _0x356804=_0x33be0b,_0x245954=filteredData['every'](function(_0x4bf043){var _0x478c42=_0x562f;return clickedCircles[_0x478c42(0x15c)](_0x4bf043[0x1]);});_0x245954?(clickedCircles=[],svg[_0x356804(0x17e)](_0x356804(0x176))['style']('fill',_0x356804(0xe0))[_0x356804(0x149)](_0x356804(0xfd),_0x356804(0x103)),svg[_0x356804(0x17e)](_0x356804(0xec))[_0x356804(0x185)]()):(svg['selectAll'](_0x356804(0x176))['each'](function(_0xb47cdd){var _0x20fce4=_0x356804;!clickedCircles['includes'](_0xb47cdd[0x1])&&(clickedCircles[_0x20fce4(0x10b)](_0xb47cdd[0x1]),d3[_0x20fce4(0x187)](this)['style'](_0x20fce4(0x1bc),getLeagueColor(_0xb47cdd[0x2]))[_0x20fce4(0x149)](_0x20fce4(0xfd),'#000')[_0x20fce4(0x149)](_0x20fce4(0x18d),0x2));}),filteredData[_0x356804(0x1b8)](function(_0xa0c6e7){addTeamLabel(_0xa0c6e7);}));updateSelectAllButtonText();var _0x2452d2=document[_0x356804(0x11e)](_0x356804(0x195))[_0x356804(0x1a4)];updateLeagueLegend(_0x2452d2);}function _0x1181(){var _0x3be26=['none','y-metric-options','transition','.xy-line-hover','mouseover','2ozINsG','tooltip','ArrowDown','push','toLowerCase','innerHeight','y-metric-trigger','html','team-label-','toggle','bottom','#000','getAttribute','532326kThKEf','select-all-tooltip','#333','map','split','selected','change','left','send','getElementById','find','Unselect\x20all\x20teams','Premier\x20League','click','line','x-label','search-bar','sqrt','rgba(75,\x200,\x20130,\x200.7)','cloneNode','median-line','dark-mode','target','top','event','display','div','anchor','rgba(255,\x200,\x200,\x200.7)','width','4144LpPBAe','nice','attr','property','call','La\x20Liga','toFixed','nearest','fontWeight','.custom-select-trigger.open,\x20.metric-select-trigger.open','opacity','parentNode','.xy-line-label-bg','pow','extent','currentTranslations','axisLeft','legend-color','rgba(238,\x20130,\x20238,\x200.7)','180BLSpYo','querySelectorAll','.median-line','style','ion-ios-circle-outline','replace','appendChild','slice','35HDiNhu','legend-item','add','pct','nextElementSibling','middle','temp-label','</span>','Top\x205\x20Leagues','responseText','cursor','right','median','pageX','includes','xG\x20per\x2090','.chart-wrapper','input','search-dimmed','text-anchor','rgba(0,\x200,\x20255,\x200.7)','auto','node','tooltip.xg-line-left','Inter,\x20sans-serif','domain','.xy-line-bg','x-metric-options','Bundesliga','<span>','trim','addEventListener','G\x20=\x20xG\x20Line','tooltip.xg-line-below','8px','resize','marker#arrow-over,\x20marker#arrow-under','team-label\x20','pageY','span','circle','class','classList','data-i18n','indexOf','tooltip.xg-line-above','min','normalize','selectAll','flex','.performance-label','each','search-match','Enter','dominant-baseline','remove','Escape','select','scrollIntoView','Ligue\x201','match','createElement','x-axis','stroke-width','select-y','Goals\x20per\x2090','data','rgba(0,\x20128,\x200,\x200.7)','</span><br/>','#select-x','block','select-league','15px','duration','.xy-line','Teams\x20right\x20of\x20this\x20line\x20are\x20scoring\x20more\x20goals\x20than\x20expected.','text.team-label','apply','league-select-options','getBBox','contains','NFD','preventDefault','translate(0,','getComputedTextLength','xy-line-hover','value','size','tickSize','interrupt','stroke-dasharray','innerWidth','append','Select\x20all\x20teams','text','length','getBoundingClientRect','clientWidth','range','<br/>','startsWith','from','Serie\x20A','max','5,3','height','forEach','<strong>','select-x','body','fill','Hide\x20median\x20lines','findIndex','axisBottom','ArrowUp','keydown','114799TTlhcl','rgba(255,\x20165,\x200,\x200.7)','.custom-select-options,\x20.metric-select-options','scaleLinear','metrics','340219DhVJWQ','mouseout','24IMHyda','tooltip.xg-line-title','keys','setAttribute','font-family','open','.chart-container','enter','transform','font-size','rgba(70,\x20130,\x20180,\x200.7)','.custom-select-option,\x20.metric-select-option','</strong><br/>','textContent','y-axis','Teams\x20left\x20of\x20this\x20line\x20are\x20scoring\x20fewer\x20goals\x20than\x20expected.','classed','translate(','metrics.','start','963063hNpFVb','all','.team-label','option','Teams\x20above\x20this\x20line\x20are\x20scoring\x20more\x20goals\x20than\x20expected.','498765ijavxg','rgba(0,\x200,\x200,\x200.3)','font-weight','marginRight','500','.xy-line-label','key','league-legend','filter','y-label','1324311vixwXU','hanging','dispatchEvent','end','stroke','className','querySelector','Show\x20median\x20lines','xy-line','#scatter-plot'];_0x1181=function(){return _0x3be26;};return _0x1181();}updateChart(),initializeCustomSelectors();function updateLeagueLegend(_0x3e1501){var _0x371d70=_0x33be0b,_0x3b6198=document[_0x371d70(0x11e)](_0x371d70(0xf6));if(_0x3e1501!==_0x371d70(0xeb)&&_0x3e1501!==_0x371d70(0x156)){_0x3b6198['style'][_0x371d70(0x12e)]=_0x371d70(0x103);return;}if(clickedCircles['length']===0x0){_0x3b6198[_0x371d70(0x149)][_0x371d70(0x12e)]=_0x371d70(0x103);return;}var _0x52a321=![];for(var _0x2d7914=0x0;_0x2d7914<filteredData[_0x371d70(0x1ad)];_0x2d7914++){if(clickedCircles['includes'](filteredData[_0x2d7914][0x1])){_0x52a321=!![];break;}}if(!_0x52a321){_0x3b6198[_0x371d70(0x149)]['display']=_0x371d70(0x103);return;}_0x3b6198[_0x371d70(0x149)]['display']=_0x371d70(0x17f),_0x3b6198['innerHTML']='';var _0x37db74=document[_0x371d70(0x18b)](_0x371d70(0x12f));_0x37db74[_0x371d70(0x149)][_0x371d70(0x13b)]='bold',_0x37db74[_0x371d70(0x149)][_0x371d70(0xf2)]=_0x371d70(0x196),_0x3b6198[_0x371d70(0x14c)](_0x37db74);var _0x579ef6=[];if(_0x3e1501===_0x371d70(0xeb))_0x579ef6=Object[_0x371d70(0xd8)](leagueColors);else _0x3e1501===_0x371d70(0x156)&&(_0x579ef6=[_0x371d70(0x121),_0x371d70(0x138),_0x371d70(0x16a),_0x371d70(0x1b4),_0x371d70(0x189)]);_0x579ef6[_0x371d70(0x1b8)](function(_0x2ff915){var _0x255047=_0x371d70,_0x4d4981=document[_0x255047(0x18b)](_0x255047(0x12f));_0x4d4981[_0x255047(0xfe)]=_0x255047(0x14f);var _0x361741=document[_0x255047(0x18b)]('div');_0x361741['className']=_0x255047(0x144),_0x361741['style']['backgroundColor']=leagueColors[_0x2ff915];var _0x44cd8d=document[_0x255047(0x18b)](_0x255047(0x175));_0x44cd8d[_0x255047(0xe3)]=_0x2ff915,_0x4d4981[_0x255047(0x14c)](_0x361741),_0x4d4981[_0x255047(0x14c)](_0x44cd8d),_0x3b6198[_0x255047(0x14c)](_0x4d4981);});}function addTeamLabel(_0x51d33a,_0x4a4f88){var _0x2a7bbb=_0x33be0b,_0x552f51=xScale(_0x51d33a[header['indexOf'](xMetric)]),_0x152e30=yScale(_0x51d33a[header[_0x2a7bbb(0x17a)](yMetric)]),_0x4c679f=_0x2a7bbb(0x110)+_0x51d33a[0x1][_0x2a7bbb(0x10c)]()[_0x2a7bbb(0x14b)](/\s+/g,'-');if(svg['select']('.'+_0x4c679f)[_0x2a7bbb(0x1a5)]()>0x0)return;var _0x37fed8=svg[_0x2a7bbb(0x1aa)](_0x2a7bbb(0x1ac))[_0x2a7bbb(0x135)](_0x2a7bbb(0x177),_0x2a7bbb(0x154))[_0x2a7bbb(0x1ac)](_0x51d33a[0x1])['style'](_0x2a7bbb(0xda),_0x2a7bbb(0x166))[_0x2a7bbb(0x149)](_0x2a7bbb(0xdf),'12px')[_0x2a7bbb(0x149)](_0x2a7bbb(0x13d),0x0),_0x2dc54f=_0x37fed8[_0x2a7bbb(0x164)]()[_0x2a7bbb(0x1a2)]();_0x37fed8['remove']();var _0x5a3105=[{'dx':0x8,'dy':0x0,'anchor':_0x2a7bbb(0xe9)},{'dx':-0x8,'dy':0x0,'anchor':_0x2a7bbb(0xfc)},{'dx':0x0,'dy':-0x8,'anchor':_0x2a7bbb(0x153)},{'dx':0x0,'dy':0x8,'anchor':_0x2a7bbb(0x153)}],_0x31c1ad=[];svg[_0x2a7bbb(0x17e)](_0x2a7bbb(0x19a))[_0x2a7bbb(0x181)](function(){var _0x10991c=_0x2a7bbb,_0x4a85a8=this['getBBox']();_0x31c1ad[_0x10991c(0x10b)]({'x1':_0x4a85a8['x']-0x2,'y1':_0x4a85a8['y']-0x2,'x2':_0x4a85a8['x']+_0x4a85a8['width']+0x2,'y2':_0x4a85a8['y']+_0x4a85a8[_0x10991c(0x1b7)]+0x2});});var _0x2526b4=null,_0x340edb=0xc,_0x43d74d=width,_0x1c437c=height;if(!_0x4a4f88){for(var _0x3c2c7e=0x0;_0x3c2c7e<_0x5a3105[_0x2a7bbb(0x1ad)];_0x3c2c7e++){var _0x238897=_0x5a3105[_0x3c2c7e],_0x15b046=_0x552f51+_0x238897['dx'],_0x4d1131=_0x152e30+_0x238897['dy'],_0x43081f={'x1':_0x238897[_0x2a7bbb(0x130)]===_0x2a7bbb(0xfc)?_0x15b046-_0x2dc54f:_0x238897[_0x2a7bbb(0x130)]==='middle'?_0x15b046-_0x2dc54f/0x2:_0x15b046,'y1':_0x238897['dy']<0x0?_0x4d1131-_0x340edb:_0x4d1131,'x2':_0x238897['anchor']===_0x2a7bbb(0xe9)?_0x15b046+_0x2dc54f:_0x238897[_0x2a7bbb(0x130)]===_0x2a7bbb(0x153)?_0x15b046+_0x2dc54f/0x2:_0x15b046,'y2':_0x238897['dy']<0x0?_0x4d1131:_0x4d1131+_0x340edb};if(_0x43081f['x1']<0x0||_0x43081f['x2']>_0x43d74d||_0x43081f['y1']<0x0||_0x43081f['y2']>_0x1c437c)continue;var _0x5aa785=![];for(var _0x43f4d3=0x0;_0x43f4d3<_0x31c1ad[_0x2a7bbb(0x1ad)];_0x43f4d3++){var _0x19a354=_0x31c1ad[_0x43f4d3];if(!(_0x43081f['x2']<_0x19a354['x1']||_0x43081f['x1']>_0x19a354['x2']||_0x43081f['y2']<_0x19a354['y1']||_0x43081f['y1']>_0x19a354['y2'])){_0x5aa785=!![];break;}}if(!_0x5aa785){_0x2526b4=_0x238897;break;}}if(!_0x2526b4){var _0x3b5c8c=0x32,_0x3c9cb2=0x0;_0x31c1ad[_0x2a7bbb(0x1b8)](function(_0x506ac7){var _0xe52904=_0x2a7bbb,_0x7bff6f=(_0x506ac7['x1']+_0x506ac7['x2'])/0x2,_0x1e72ec=(_0x506ac7['y1']+_0x506ac7['y2'])/0x2,_0x10106d=Math[_0xe52904(0x126)](Math[_0xe52904(0x140)](_0x7bff6f-_0x552f51,0x2)+Math[_0xe52904(0x140)](_0x1e72ec-_0x152e30,0x2));_0x10106d<_0x3b5c8c&&_0x3c9cb2++;});if(_0x3c9cb2>0x3)return;}}if(!_0x2526b4){_0x2526b4=_0x5a3105[0x0];var _0x15b046=_0x552f51+_0x2526b4['dx'],_0x4d1131=_0x152e30+_0x2526b4['dy'],_0x43081f={'x1':_0x2526b4['anchor']===_0x2a7bbb(0xfc)?_0x15b046-_0x2dc54f:_0x2526b4[_0x2a7bbb(0x130)]===_0x2a7bbb(0x153)?_0x15b046-_0x2dc54f/0x2:_0x15b046,'y1':_0x2526b4['dy']<0x0?_0x4d1131-_0x340edb:_0x4d1131,'x2':_0x2526b4[_0x2a7bbb(0x130)]===_0x2a7bbb(0xe9)?_0x15b046+_0x2dc54f:_0x2526b4['anchor']===_0x2a7bbb(0x153)?_0x15b046+_0x2dc54f/0x2:_0x15b046,'y2':_0x2526b4['dy']<0x0?_0x4d1131:_0x4d1131+_0x340edb};if(_0x43081f['x1']<0x0)_0x2526b4=_0x5a3105[0x0];else _0x43081f['x2']>_0x43d74d&&(_0x2526b4=_0x5a3105[0x1]);if(_0x43081f['y1']<0x0)_0x2526b4=_0x5a3105[0x3];else _0x43081f['y2']>_0x1c437c&&(_0x2526b4=_0x5a3105[0x2]);}var _0x20efa6=svg[_0x2a7bbb(0x1aa)]('text')[_0x2a7bbb(0x135)](_0x2a7bbb(0x177),_0x2a7bbb(0x173)+_0x4c679f)[_0x2a7bbb(0x135)]('x',_0x552f51+_0x2526b4['dx'])[_0x2a7bbb(0x135)]('y',_0x152e30+_0x2526b4['dy'])[_0x2a7bbb(0x135)]('text-anchor',_0x2526b4[_0x2a7bbb(0x130)])['attr'](_0x2a7bbb(0x184),_0x2526b4['dy']<0x0?_0x2a7bbb(0x163):_0x2a7bbb(0xfa))['text'](_0x51d33a[0x1])[_0x2a7bbb(0x149)]('font-family','Inter,\x20sans-serif')['style'](_0x2a7bbb(0xdf),'12px')[_0x2a7bbb(0x149)](_0x2a7bbb(0xf1),_0x2a7bbb(0xf3))[_0x2a7bbb(0x149)](_0x2a7bbb(0x1bc),_0x2a7bbb(0x117));_0x4a4f88&&_0x20efa6[_0x2a7bbb(0xe6)](_0x2a7bbb(0x182),!![]);var _0x18f179=_0x20efa6[_0x2a7bbb(0x164)]()[_0x2a7bbb(0x19d)]();_0x31c1ad[_0x2a7bbb(0x10b)]({'x1':_0x18f179['x']-0x2,'y1':_0x18f179['y']-0x2,'x2':_0x18f179['x']+_0x18f179[_0x2a7bbb(0x132)]+0x2,'y2':_0x18f179['y']+_0x18f179[_0x2a7bbb(0x1b7)]+0x2});}document[_0x33be0b(0x16d)]('DOMContentLoaded',function(){var _0x2b11dc=_0x33be0b;const _0x58217b=document['getElementById']('median-lines-tooltip');_0x58217b[_0x2b11dc(0xe3)]=medianLinesVisible?_0x2b11dc(0x1bd):'Show\x20median\x20lines';});
    </script>
  <script>



        // Global translation helper function
        function getTranslation(key, defaultText) {
            // Split the key into parts (e.g., "tooltip.xg-line-title" -> ["tooltip", "xg-line-title"])
            const keys = key.split('.');
            
            // Try to find the translation in the current language
            try {
                let currentTranslations = window.currentTranslations || {};
                for (const k of keys) {
                    if (currentTranslations && currentTranslations[k]) {
                        currentTranslations = currentTranslations[k];
                    } else {
                        return defaultText;
                    }
                }
                return currentTranslations;
            } catch (e) {
                return defaultText;
            }
        }
        
    
  function setLanguage(language) {
    localStorage.setItem('preferredLanguage', language);
    const url = new URL(window.location.href);
    if (language === 'en') {
      url.searchParams.delete('lang');
    } else {
      url.searchParams.set('lang', language);
    }
    window.history.pushState({}, '', url);
    applyLanguage(language);
  }
  
  function getPreferredLanguage() {
    // PRIORITY 1: Check URL parameter first
    const urlParams = new URLSearchParams(window.location.search);
    const langParam = urlParams.get('lang');
    if (langParam) {
      return langParam;
    }
    // PRIORITY 2: Check localStorage
    const storedLang = localStorage.getItem('preferredLanguage');
    if (storedLang) {
      return storedLang;
    }
    // PRIORITY 3: Use browser language
    return getBrowserLanguage() || 'en';
  }

  function getBrowserLanguage() {
    return navigator.language.slice(0, 2);
  }

  function applyLanguage(language) {
    console.log(language);

    if (language === 'en') {
      return;
    }

    
    fetch(`locales/${language}.json`)
      .then(response => {
        // Don't throw an error, just return null if response is not OK
        return response.ok ? response.json() : null;
      })
      .then(translations => {
        // Only proceed if translations exist
        if (translations) {
            window.currentTranslations = translations;
          document.querySelectorAll('[data-i18n]').forEach(element => {
            const keys = element.getAttribute('data-i18n').split('.');
            let value = translations;
            for (const key of keys) {
              if (value === undefined || value === null) break;
              value = value[key];
            }
            if (value) {
              if (element.tagName === 'META') {
              element.setAttribute('content', value);
          } else if (element.tagName === 'INPUT') {
              element.setAttribute('placeholder', value);
          } else if (value.includes('<')) {
              element.innerHTML = value;
          } else {
              element.textContent = value;
          }          }
          });
          // REMOVE FOR PAGES WITH NO METADATA
          document.querySelector('meta[name="language"]').setAttribute('content', language);
        }
      })
      .catch(() => {
        // Completely empty catch block to silently ignore any errors
      });
  }
  
  const preferredLanguage = getPreferredLanguage();
  applyLanguage(preferredLanguage);
  
  // BUTTON LANGUAGE SWITCHER REMOVE FOR PAGES WITH NO LANGUAGE SWITCHER
  document.addEventListener('DOMContentLoaded', function() {
    const languageButton = document.getElementById('languageButton');
    const languageDropdown = document.getElementById('languageDropdown');
    

    if (languageButton) {
      languageButton.addEventListener('click', function(e) {
        e.stopPropagation();
        languageDropdown.classList.toggle('show');
      });
    }
  
    document.querySelectorAll('.language-option').forEach(option => {
      option.addEventListener('click', function(e) {
        e.preventDefault();
        const lang = this.getAttribute('href').split('=')[1];
        setLanguage(lang);
        languageDropdown.classList.remove('show');
      });
    });
  
    document.addEventListener('click', function(event) {
      if (!event.target.closest('.language-switcher-container')) {
        if (languageDropdown) {
          languageDropdown.classList.remove('show');
        }
      }
    });
  });


function toggleDarkMode() {
            const body = document.querySelector("body");
            body.classList.toggle("dark-mode");
            
            // Store the user's preference in local storage
            const isDarkMode = body.classList.contains("dark-mode");
            localStorage.setItem("darkMode", isDarkMode);
            
            // Update chart to apply dark mode styles to SVG elements
        }
        
        // Check if user has a stored preference for dark mode
        document.addEventListener('DOMContentLoaded', function() {
            const storedDarkMode = localStorage.getItem("darkMode");
            
            if (storedDarkMode === "true") {
                const body = document.querySelector("body");
                body.classList.add("dark-mode");
            }
            
 
        });
        
        function takeScreenshot() {
            const chartContainer = document.querySelector('.chart-container');
            const isDarkMode = document.body.classList.contains('dark-mode');
            
            html2canvas(chartContainer, {
                scale: 2, // Higher quality
                backgroundColor: isDarkMode ? '#2c2c2c' : '#FFFFFF',
                allowTaint: true,
                useCORS: true,
                logging: false
            }).then(function(renderedCanvas) {
                const finalCanvas = document.createElement('canvas');
                finalCanvas.width = renderedCanvas.width;
                finalCanvas.height = renderedCanvas.height;
                const finalCtx = finalCanvas.getContext('2d');
                finalCtx.drawImage(renderedCanvas, 0, 0);
                
                // Load the watermark
                const watermarkImg = new Image();
                watermarkImg.crossOrigin = "Anonymous";
                
                watermarkImg.onload = function() {
                    const watermarkWidth = finalCanvas.width * 0.3;
                    const watermarkHeight = (watermarkWidth / watermarkImg.width) * watermarkImg.height;
                    
                    const x = (finalCanvas.width - watermarkWidth) / 2;
                    const y = (finalCanvas.height - watermarkHeight) / 2;
                    
                    finalCtx.save();
                    finalCtx.globalAlpha = 0.04;
                    finalCtx.drawImage(watermarkImg, x, y, watermarkWidth, watermarkHeight);
                    finalCtx.restore();
                    
                    const dataURL = finalCanvas.toDataURL('image/png', 1.0);
                    const link = document.createElement('a');
                    link.download = 'DataMB Screenshot.png';
                    link.href = dataURL;
                    link.click();
                };
                watermarkImg.src = 'https://datamb.football/logo.png';
            }).catch(function(error) {
            });
        }
        
    </script>
         <center>
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7677714701428206"
                 crossorigin="anonymous"></script>
            <!-- radarplotsearch -->
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-7677714701428206"
                 data-ad-slot="6673239737"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script></center>
</body>
</html>
