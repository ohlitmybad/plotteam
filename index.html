<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <meta name="language" content="en">
    <link rel="canonical" href="https://datamb.football/plotteam/" />
<link rel="alternate" hreflang="x-default" href="https://datamb.football/plotteam"/>
<link rel="alternate" hreflang="en" href="https://datamb.football/plotteam/?lang=en" />
    <link rel="shortcut icon" type="image/x-icon" href="https://datamb.football/favicon.ico">
    <meta name="description" data-i18n="meta.description" content="Plot Top 7 League team statistics. Visualize team performance and analyze multiple metrics such as Goals, Goals conceded, xG, Shots on target, Pressing, Defensive duels, Pass completion and more for teams in Premier League, La Liga, Bundesliga, Serie A, Ligue 1, Eredivisie, Primeira Liga.">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@DataMB_">
    <meta name="twitter:title" content="DataMB | Plot Teams">
    <meta name="twitter:description" content="Generate scatter plots for Top 7 League teams">
    <meta name="twitter:image" content="https://datamb.football/vignettes/teamplots.png">
    <meta property="og:image" content="https://datamb.football/vignettes/teamplots.png">
    <title data-i18n="meta.title">DataMB | Plot Teams</title>
    <script>
        (function() {
            var width = window.innerWidth;
            var viewportMeta = document.querySelector('meta[name="viewport"]');
            if (viewportMeta) {
      if (width < 645) {
                
            var initialScale = width / 645;
      viewportMeta.setAttribute('content', 'width=device-width, initial-scale=' + initialScale + ', user-scalable=no');
      } else {
                  var fixedScale = 1;
          viewportMeta.setAttribute('content', 'width=device-width, initial-scale=' + fixedScale + ', user-scalable=no');
      
        }
          } 
      })();
      </script>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --background-color: #f5f7fa;
            --container-bg: #ffffff;
            --text-color: #333333;
            --border-color: #e0e0e0;
            --hover-color: #f0f0f0;
            --button-color: #3498db;
            --button-text: #ffffff;
            --header-bg: #ffffff;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .dark-mode {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --background-color: #0e0f0f;
            --container-bg: #1a1a1a;
            --text-color: #e0e0e0;
            --border-color: #333333;
            --hover-color: #252525;
            --button-color: #2980b9;
            --button-text: #ffffff;
            --header-bg: #0e0f0f;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s;
        }

        .header {
            background-color: var(--header-bg);
            display: flex;
            padding: 20px;
            align-items: center;
            justify-content: space-between;
            box-shadow: var(--shadow);
            position: relative;
            font-family: system-ui;
            top: 0;
            z-index: 100;
        }


        .container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
            box-sizing: border-box;
        }

        /* Replace plot-container with a simpler structure */
        .chart-wrapper {
            background-color: var(--container-bg);
            border-radius: 10px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 30px;
            position: relative;
            width: 100%;
        }

        .legend {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            padding: 10px;
            border-top: 1px solid var(--border-color);
            width: 100%;
        }

        .legend-item {
            display: flex;
            align-items: center;
            font-size: 12px;
        }

        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 5px;
            border: 1px solid rgba(0, 0, 0, 0.2);
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 20px;
            justify-content: center;
            align-items: center;
        }

        select, input {
            padding: 8px 12px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            background-color: var(--container-bg);
            color: var(--text-color);
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            transition: border-color 0.2s;
            height: 36px;
            box-sizing: border-box;
        }

        select:focus, input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        /* Ensure consistent height for controls in the same row */
        select, input, .btn:not(.btn-icon), .custom-select-trigger, .metric-select-trigger {
            height: 36px;
            box-sizing: border-box;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            background-color: var(--button-color);
            color: var(--button-text);
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
            height: 36px;
            box-sizing: border-box;
        }

        .btn:hover {
            background-color: #2980b9;
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-color);
        }

        .btn-outline:hover {
            background-color: var(--hover-color);
        }

        .btn-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            padding: 0;
            border-radius: 6px;
        }

        #search-bar, #select-league {
            width: 178px;
        }

        #select-x, #select-y {
            width: 190px;
        }

        /* Add tooltip for icon buttons */
        .btn-icon .icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
        }

        .btn-icon i {
            font-size: 18px;
        }
        .chart-container {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            margin-top: 30px; /* Consistent spacing from controls */
        }

        #scatter-plot {
            width: 100%;
            height: auto; /* Height will be set dynamically */
            display: block;
            margin: 0 auto;
            max-width: 1082px;
        }
        
  

        .tooltip {
            position: absolute;
            background-color: var(--container-bg);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 10px;
            font-size: 12px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
            box-shadow: var(--shadow);
            z-index: 1000;
        }

        /* Custom button tooltips */
        .btn-tooltip {
            position: relative;
            display: inline-block;
        }

        .btn-tooltip .btn-tooltip-text {
            visibility: hidden;
            width: 120px;
            background-color: var(--container-bg);
            color: var(--text-color);
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1001;
            bottom: 125%;
            left: 50%;
            margin-left: -60px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 12px;
            font-weight: normal;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            pointer-events: none;
        }

        /* Hide button tooltips on mobile */
        @media (max-width: 768px) {
            .btn-tooltip .btn-tooltip-text {
                display: none;
            }
        }

        .btn-tooltip .btn-tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--border-color) transparent transparent transparent;
        }

        .btn-tooltip:hover .btn-tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        .player-name {
            font-size: 12px;
            font-weight: 500;
        }

        circle {
            cursor: pointer;
            transition: r 0.2s, fill 0.2s;
        }


        /* Add new styles for better search highlighting */
        circle.search-match {
            fill: #ff3366 !important; /* Bright pink fill */
            stroke: #ffffff;
            stroke-width: 2px;
            filter: drop-shadow(0 0 5px rgba(255, 51, 102, 0.7));
            animation: circlePulse 1.5s infinite ease-in-out;
        }

        .dark-mode circle.search-match {
            stroke: #000000;
        }

        @keyframes circlePulse {
            0% { r: 6; }
            50% { r: 9; }
            100% { r: 6; }
        }

        .team-label.search-match {
            font-weight: 700 !important;
            fill: #ff3366 !important;
            filter: drop-shadow(0 0 2px rgba(255, 255, 255, 1));
            opacity: 1 !important;
            animation: labelPulse 1.5s infinite ease-in-out;
        }

        @keyframes labelPulse {
            0% { font-size: 12px; }
            50% { font-size: 14px; }
            100% { font-size: 12px; }
        }

        .dark-mode .team-label.search-match {
            filter: drop-shadow(0 0 2px rgba(0, 0, 0, 1));
        }

        .team-label.search-dimmed {
            opacity: 0 !important;
        }

        .team-label {
            pointer-events: none;
            text-shadow: 0px 0px 2px white, 0px 0px 2px white, 0px 0px 2px white, 0px 0px 2px white;
        }

        .dark-mode .team-label {
            fill: #f5f5f5 !important;
            text-shadow: 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a;
        }

        .dark-mode-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--container-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--shadow);
            z-index: 100;
            transition: background-color 0.3s;
        }

        .dark-mode-toggle.mobile-only {
            position: fixed;
            bottom: 20px;
            right: 20px;
        }

        .dark-mode-toggle.pc-only {
            position: relative;
            bottom: auto;
            right: auto;
        }

        .pc-only {
            display: flex;
        }

        .mobile-only {
            display: none;
        }

        .toggle-icon::before {
            font-family: "Ionicons";
            content: "\f467";
            font-size: 30px;
            color: var(--text-color);
        }

        .dark-mode .toggle-icon::before {
            content: "\f3b0";
            font-size: 20px;
        }

        @media (max-width: 768px) {
            .pc-only {
                display: none;
            }
            
            .mobile-only {
                display: flex;
            }
  
            
  .chart-wrapper {
      padding: 15px;
  }
  
  
  /* Remove fixed height for scatter plot - now handled by updateChartDimensions */
  #scatter-plot {
      min-height: 500px; /* Minimum height for mobile */
  }
  
  select, input {
      width: 100%;
  }
  
  
  /* Make text elements more readable on mobile */
  .x-label, .y-label {
      font-size: 12px;
  }
  
  /* Adjust tooltip position for mobile */
  .tooltip {
      max-width: 80%;
  }
}

        /* Styles for the diagonal reference line */
        .dark-mode .xy-line {
            stroke: #3cb371; /* Slightly different green for dark mode */
        }


  
  .search-input-modal {
      display: none;
      position: fixed; 
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7); 
      z-index: 999; 
  }
  
  .search-input-container {
      position: absolute;
      top: 30%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #fff;
      padding: 20px;
      border-radius: 4px;
      z-index: 1000; 
  }
  
  #searchInput {
              width: 370px;
              padding: 12px;
              border: 3px solid #ccc;
              border-radius: 4px;
              font-size: 18.3px;
              outline: none;
              height: 50px;
              color: #000000;
              background-color: #fff;
              ;          }
  
          #autocompleteBox {
              width: 370px;
              max-height: 150px;
              overflow-y: auto;
              background-color: #fff;
          }
  
  
          #autocompleteBox ul {
              list-style: none;
              padding: 0;
              margin: 0;
          }
  
          #autocompleteBox li {
              margin: 0;
              padding: 5px;
          }
  
          #autocompleteBox {
              line-height: 2; 
              text-align: center !important;
  
          }
  
          #autocompleteBox a {
              text-decoration: none;
              font-family: Arial, sans-serif;
              text-align: center !important;
              color: #333 !important;
              cursor: pointer; 
          }
  
          #autocompleteBox li:hover {
              background-color: #f0f0f0;
          }
          #searchButton3 {
            padding: 8.5px;  /* Reduced from 10px */
  background-color: #0074d9;
  color: #fff;
  border: none;
  width: 34px;  /* Reduced from 40px */
  height: 34px;  /* Reduced from 40px */
  border-radius: 50%;
  cursor: pointer;
  font-size: 17px;  /* Reduced from 20px */
  }


  body.dark-mode .header .button10 {
      color: #aeaeae;
}
body.dark-mode .header .button10:hover {
  color: #2563eb;
background-color: #ffffff;
}

    body.dark-mode header a {
      color: #aeaeae;
}

body.dark-mode .header .logo img {
  opacity: 0.88;
}


body.dark-mode .language-button {
      background-color: #0F0F0E;
      color: #aeaeae;
}


  

.header .logo {
  display: flex;
  align-items: center;
  margin-right: auto; /* Push logo to the left */
}

.header .logo img {
  height: 34px;
  width: auto;
  opacity: 0.84;
}
.header .logo-text {
  margin-left: 10px;
  font-size: 23px;
  font-weight: 600;
  transform: translateY(-1.1px); /* Move logo text slightly higher */
}

.header .navigation {
  display: flex;
  align-items: center;
  gap: 25px; /* Reduced gap between buttons */
  position: absolute;
  left: 50%;
  transform: translateX(-50%) translateY(-2px); /* Center the navigation and move it higher */
}



.header .button10 {
  padding: 0.5rem 1rem;
  text-decoration: none;
  color: #333;
  line-height: 1.6;
  border-radius: 4px;
  transition: background-color 0.2s;
  font-size: 1.1rem;  /* Added larger font size */
}


.header .button10:hover {
  background-color: #f0f0f0;
  color: #2563eb;

}



/* Group search and language buttons */
.header-right {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-left: auto; /* Push buttons to the right */
  transform: translateY(-1.25px); /* Move search and language buttons higher */
}

header a {
      color: black;
      text-decoration: none;
    }

    .language-switcher-container {
  position: relative;
  display: none;
}

.language-button {
  background: none;
  border: none;
  cursor: pointer;
  padding: 10px;
  color: #444444;
  display: flex;
  align-items: center;
  font-size: 17px;
}

.language-button iconify-icon {
  font-size: 24px;
  opacity: 0.7;
}

.language-dropdown {
  display: none;
  position: absolute;
  top: 100%;
  right: 0;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  padding: 10px;
  width: 200px;
  z-index: 1000;
}

.language-option {
  display: flex;
  align-items: center;
  padding: 8px 12px;
  cursor: pointer;
  border-radius: 4px;
  color: #444444;
  text-decoration: none;
}



.language-option iconify-icon {
  margin-right: 10px;
  font-size: 20px;
}

.language-dropdown.show {
  display: block;
}

/* Styles for flag icons in select dropdown */
#select-league option {
    display: flex;
    align-items: center;
    padding: 8px 12px;
}

#select-league iconify-icon {
    display: inline-flex;
    vertical-align: middle;
}

/* Styles for custom league selector dropdown */
.custom-select-container {
    position: relative;
    width: 172px;
}

.metric-select-container {
    position: relative;
    width: 192px;
}

.custom-select-option, .metric-select-option {
    display: flex;
    align-items: center;
    padding: 8px 16px;
    cursor: pointer;
    color: var(--text-color);
    background-color: var(--container-bg);
}


.custom-select-option iconify-icon, .metric-select-option iconify-icon {
    margin-right: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.custom-select-trigger, .metric-select-trigger {
    display: flex;
    align-items: center;
    padding: 0 12px;
    border: 1px solid var(--border-color);
    border-radius: 6px;
    background-color: var(--container-bg);
    color: var(--text-color);
    font-family: 'Inter', sans-serif;
    font-size: 14px;
    cursor: pointer;
    user-select: none;
    position: relative;
    line-height: 1;
}

.custom-select-trigger span, .metric-select-trigger span {
    display: inline-block;
    transform: translateY(1px);
    white-space: nowrap;
    overflow: hidden;
    max-width: calc(100% - 20px); /* Account for the icon width and margin */
    line-height: normal; /* Ensure consistent line height */    
}


/* Make the league selector span 30px smaller */
#league-select-trigger span {
    max-width: calc(100% - 45px); /* 20px + 30px reduction */
}

.custom-select-trigger::after, .metric-select-trigger::after {
    content: '';
    width: 6px;
    height: 6px;
    margin-left: auto;
    border-right: 1.5px solid var(--text-color);
    border-bottom: 1.5px solid var(--text-color);
    transform: rotate(45deg) translateY(-2px);
    transition: transform 0.3s;
    opacity: 0.7;
    margin-right: 2px;
}

.custom-select-trigger.open::after, .metric-select-trigger.open::after {
    transform: rotate(-135deg) translateY(1px);
}

.custom-select-options, .metric-select-options {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background-color: var(--container-bg);
    border: 1px solid var(--border-color);
    border-radius: 6px;
    margin-top: 4px;
    max-height: 300px;
    overflow-y: auto;
    z-index: 100;
    font-size: 13px;
    display: none;
    box-shadow: var(--shadow);
}


.custom-select-option:hover, .metric-select-option:hover {
    background-color: var(--hover-color);
}



.custom-select-option.selected {
    background-color: var(--primary-color);
    color: white;
}

.metric-select-option.selected {
    background-color: var(--primary-color);
    color: white;
}


.dark-mode .custom-select-option:hover {
    background-color: var(--hover-color);
}

.dark-mode .custom-select-option.selected {
    background-color: var(--primary-color);
    color: white;
}

@media (max-width: 768px) {
    .custom-select-option {
        padding: 6px 12px;
    }
}

body.dark-mode .language-button:hover {
      background-color: #0F0F0E;
      color: #aeaeae;
}

body.dark-mode .language-dropdown {
  background: #e8e6e6;
}

body.dark-mode .language-option {
  color: #000000;
}

/* Dark mode styles for custom dropdown */
.dark-mode .custom-select-trigger,
.dark-mode .custom-select-options,
.dark-mode .metric-select-trigger,
.dark-mode .metric-select-options {
    border-color: var(--border-color);
    background-color: var(--container-bg);
    color: var(--text-color);
}

.dark-mode .custom-select-option:hover,
.dark-mode .metric-select-option:hover {
    background-color: var(--hover-color);
}

.dark-mode .custom-select-option.selected,
.dark-mode .metric-select-option.selected {
    background-color: rgba(52, 152, 219, 0.2);
}

/* Adjust flag icon alignment in the trigger */
#league-select-trigger iconify-icon {
    margin-right: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transform: translateY(-1px);
}
@media screen and (max-width: 550px) { .header .navigation { display: none; } }

        /* Enhanced Dark Mode Styles */
        .dark-mode .chart-wrapper {
            background-color: var(--container-bg);
            border: 1px solid #333;
        }

        .dark-mode .btn {
            background-color: var(--button-color);
        }

        .dark-mode .btn-outline {
            background-color: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-color);
        }

        .dark-mode .btn-outline:hover {
            background-color: var(--hover-color);
            border-color: #444;
        }


        .dark-mode input, 
        .dark-mode select {
            background-color: #1a1a1a;
            color: var(--text-color);
            border-color: #333;
        }

        .dark-mode input::placeholder {
            color: #777;
        }

        .dark-mode input:focus, 
        .dark-mode select:focus {
            border-color: var(--primary-color);
            outline: none;
        }

        .dark-mode .tooltip {
            background-color: #1a1a1a;
            border-color: #333;
            color: var(--text-color);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .legend {
            border-top-color: #333;
        }

        .dark-mode .legend-item {
            color: #ccc;
        }

        .dark-mode .btn-tooltip .btn-tooltip-text {
            background-color: #1a1a1a;
            border-color: #333;
            color: #e0e0e0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .btn-tooltip .btn-tooltip-text::after {
            border-color: #333 transparent transparent transparent;
        }

        .dark-mode .team-label {
            fill: #e0e0e0 !important;
            text-shadow: 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f;
        }

        .dark-mode .x-axis path,
        .dark-mode .y-axis path,
        .dark-mode .x-axis line,
        .dark-mode .y-axis line {
            stroke: #444;
        }

        .dark-mode .x-axis text,
        .dark-mode .y-axis text {
            fill: #aaa;
        }

        .dark-mode .x-label,
        .dark-mode .y-label {
            fill: #ccc;
        }

        .dark-mode .median-line {
            stroke: rgba(255, 255, 255, 0.2) !important;
        }

        .dark-mode .xy-line {
            stroke: #2ecc71;
            opacity: 0.8;
        }

        .dark-mode .dark-mode-toggle {
            background-color: #1a1a1a;
            border: 1px solid #333;
        }

        .dark-mode .toggle-icon::before {
            color: #e0e0e0;
        }

 



        .dark-mode #searchButton3 {
            background-color: #0074d9;
            color: #fff;
        }


        .dark-mode .header .button10 {
            color: #aaa;
        }

        .dark-mode .header .button10:hover {
            color: #2563eb;
            background-color: #1a1a1a;
        }

        .dark-mode header a {
            color: #aaa;
        }

        .dark-mode .header .logo img {
            opacity: 0.9;
            filter: brightness(0.9);
        }

        .dark-mode .language-button {
            background-color: #0e0f0f;
            color: #aaa;
        }

        .dark-mode .language-button:hover {
            background-color: #1a1a1a;
        }

        .dark-mode .language-dropdown {
            background: #1a1a1a;
            border: 1px solid #333;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .language-option {
            color: #e0e0e0;
        }

        .dark-mode .language-option:hover {
            background-color: #252525;
        }

        .dark-mode #search-bar::placeholder {
            color: #777;
        }

        .dark-mode circle {
            stroke-width: 1px;
        }

        .dark-mode circle.search-match {
            fill: #ff3366 !important;
            stroke: #0e0f0f;
            stroke-width: 2px;
            filter: drop-shadow(0 0 5px rgba(255, 51, 102, 0.7));
        }

  
        
        /* Additional dark mode styles for chart elements */
        .dark-mode .chart-container {
            background-color: var(--container-bg);
        }
        
  
        
    
        
        
        /* Fix for custom select dropdown in dark mode */
        .dark-mode .custom-select-trigger::after, 
        .dark-mode .metric-select-trigger::after {
            border-right: 1.5px solid var(--text-color);
            border-bottom: 1.5px solid var(--text-color);
        }
        
        /* Improve contrast for selected items in dark mode */
        .dark-mode .custom-select-option.selected, 
        .dark-mode .metric-select-option.selected {
            background-color: rgba(52, 152, 219, 0.3);
        }
        
        /* Improve visibility of SVG elements in dark mode */
        .dark-mode svg text {
            fill: #ccc;
        }
        
        .dark-mode .legend-color {
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        /* Improve button states in dark mode */
        .dark-mode .btn:hover {
            background-color: #3498db;
        }
        
        .dark-mode .btn-outline:active {
            background-color: #333;
        }
        
        /* Improve focus states for accessibility */
        .dark-mode input:focus,
        .dark-mode select:focus,
        .dark-mode .btn:focus {
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.5);
        }
        
        /* Fix for buttons staying focused with blue outline */
        button:focus, 
        .btn:focus, 
        select:focus, 
        input:focus {
            outline: none;
        }
        
        /* Custom focus styles for better accessibility */
        button:focus-visible, 
        .btn:focus-visible, 
        select:focus-visible, 
        input:focus-visible {
            outline: none;
            box-shadow: 0 0 0 2px var(--primary-color);
        }
        
        /* Remove focus styles when using mouse */
        button:focus:not(:focus-visible), 
        .btn:focus:not(:focus-visible), 
        select:focus:not(:focus-visible), 
        input:focus:not(:focus-visible) {
            box-shadow: none;
        }



.logo img {
  width: 50px;
  height: 50px;
}

/* Promo links styling */
.promo-links-container {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
    margin: 15px auto 25px;
    max-width: 800px;
    flex-wrap: wrap;
    padding: 0 20px;
}

.promo-link {
    display: flex;
    align-items: center;
    padding: 10px 15px;
    background-color: var(--container-bg);
    color: var(--text-color);
    text-decoration: none;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    transition: all 0.3s ease;
    box-shadow: var(--shadow);
    font-weight: 500;
    flex: 1;
    min-width: 220px;
    max-width: 350px;
    justify-content: center;
}

.promo-link iconify-icon {
    margin-right: 8px;
}

.promo-link:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.radar-link {
    border-left: 4px solid #3498db;
}

.pro-link {
    border-left: 4px solid #f39c12;
}

.dark-mode .radar-link {
    border-left: 4px solid #2980b9;
}

.dark-mode .pro-link {
    border-left: 4px solid #d35400;
}

@media (max-width: 768px) {
  

    
    select, input {
        width: 100%;
    }
    
    /* Make text elements more readable on mobile */
    .x-label, .y-label {
        font-size: 12px;
    }
    
    /* Adjust tooltip position for mobile */
    .tooltip {
        max-width: 80%;
    }
    
    /* Adjust promo links for mobile */
    .promo-links-container {
        flex-direction: column;
        align-items: center;
        gap: 10px;
        padding: 0 15px;
    }
}


.custom-select-option {
    -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            
}
        /* Disable text selection for SVG text elements */
        svg text, .legend,
        .x-label,
        .y-label,
        .team-label,
        .player-name,
        .x-axis text,
        .y-axis text {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            pointer-events: none;
        }


    </style>

  <header class="header">
    <div class="logo">
      <a href="https://datamb.football">
        <img src="https://datamb.football/logo.png" alt="Football team statistics comparison. Radar comparison tool. Visualise and compare team data from the top 7 leagues : Premier League, La Liga, Bundesliga, Serie A, Ligue 1, Eredivisie, Primeira Liga" /></a>
        <div class="logo-text"><a href="https://datamb.football">&nbsp;Teams</a></div>
    </div>
    <nav class="navigation">
      <a href="https://datamb.football/teams" class="button10" data-i18n="header.home">Home</a>
      <a href="https://datamb.football/join" class="button10" data-i18n="header.pro">Pro</a>
      <a href="https://datamb.football/guide" class="button10" data-i18n="header.guide">Guide</a>
    </nav>
    <div class="header-right">
    <div class="search-container">
      <button id="searchButton3"><iconify-icon icon="ion:search-outline"></iconify-icon></button>
  </div>
    <div class="language-switcher-container">
      <button class="language-button" id="languageButton">
        <iconify-icon icon="heroicons:globe-alt"></iconify-icon>
      </button>
      <div class="language-dropdown" id="languageDropdown">
        <a href="?lang=en" class="language-option"><iconify-icon icon="flag:gb-4x3"></iconify-icon>English</a>
      </div>
    </div></div>
  </header>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7677714701428206"
     crossorigin="anonymous"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PSBMXX80EF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-PSBMXX80EF');
</script>
</head>
<div class="search-input-modal" id="searchInputModal">
    <div class="search-input-container">
        <input type="text" id="searchInput" data-i18n="search.placeholder" placeholder="Enter a team or player name...">
        <div id="autocompleteBox"></div>
    </div>
</div>
<script>
    const xhr1 = new XMLHttpRequest();
  xhr1.open('GET', 'https://datamb.football/database/searchbar.csv', false); // false for synchronous request
  xhr1.send(null);
  
  let dataCSV = xhr1.responseText;
    
function _0x5707(_0xd20fa7,_0x4d36b5){const _0x4dcd69=_0x4dcd();return _0x5707=function(_0x57077a,_0xde96b9){_0x57077a=_0x57077a-0x140;let _0x383e81=_0x4dcd69[_0x57077a];return _0x383e81;},_0x5707(_0xd20fa7,_0x4d36b5);}const _0xedf2b2=_0x5707;(function(_0x16e1b0,_0x125833){const _0x222c5a=_0x5707,_0x3f540c=_0x16e1b0();while(!![]){try{const _0x3105f2=parseInt(_0x222c5a(0x161))/0x1+parseInt(_0x222c5a(0x144))/0x2+parseInt(_0x222c5a(0x148))/0x3+-parseInt(_0x222c5a(0x155))/0x4+parseInt(_0x222c5a(0x141))/0x5*(-parseInt(_0x222c5a(0x145))/0x6)+-parseInt(_0x222c5a(0x157))/0x7+parseInt(_0x222c5a(0x14b))/0x8*(parseInt(_0x222c5a(0x159))/0x9);if(_0x3105f2===_0x125833)break;else _0x3f540c['push'](_0x3f540c['shift']());}catch(_0x450250){_0x3f540c['push'](_0x3f540c['shift']());}}}(_0x4dcd,0x1bc51));const dataLines=dataCSV[_0xedf2b2(0x160)]('\x0a'),searchButton3=document[_0xedf2b2(0x142)]('searchButton3'),searchInputModal=document[_0xedf2b2(0x142)](_0xedf2b2(0x14a)),searchInput=document[_0xedf2b2(0x142)](_0xedf2b2(0x143)),autocompleteBox=document[_0xedf2b2(0x142)](_0xedf2b2(0x162)),data11=dataLines[_0xedf2b2(0x146)](_0x19546c=>{const _0x89300c=_0xedf2b2,[_0x5af128,_0x515bec]=_0x19546c[_0x89300c(0x160)](',');return{'name':_0x5af128,'link':_0x515bec};});function removeDiacritics(_0x3ed1af){const _0x202611=_0xedf2b2,_0x4b45cf={'ø':'o','Ø':'O','ı':'i'};return _0x3ed1af=_0x3ed1af[_0x202611(0x147)](/[øØıI]/g,_0x19f74a=>_0x4b45cf[_0x19f74a]),_0x3ed1af[_0x202611(0x15d)]('NFD')[_0x202611(0x147)](/[\u0300-\u036f]/g,'');}function search2(_0x1db14d){const _0x26c944=_0xedf2b2;autocompleteBox[_0x26c944(0x15e)]='';const _0x321867=removeDiacritics(_0x1db14d)[_0x26c944(0x147)](/[^\w\s]/g,'')[_0x26c944(0x149)](),_0x3ad89e=data11[_0x26c944(0x15c)](_0xb995bf=>{const _0x3866b0=_0x26c944,_0x2b7de7=removeDiacritics(_0xb995bf[_0x3866b0(0x14e)])['replace'](/[^\w\s]/g,'')[_0x3866b0(0x149)]();return _0x2b7de7['includes'](_0x321867);});if(_0x3ad89e[_0x26c944(0x163)]===0x0){autocompleteBox[_0x26c944(0x152)][_0x26c944(0x14c)]='none';return;}_0x3ad89e[_0x26c944(0x151)](_0x4b9def=>{const _0x31eeb1=_0x26c944,_0x505ab8=document[_0x31eeb1(0x14d)]('div'),_0x3a2d70=document[_0x31eeb1(0x14d)]('a');_0x3a2d70['href']=_0x4b9def[_0x31eeb1(0x154)],_0x3a2d70[_0x31eeb1(0x150)]=_0x4b9def[_0x31eeb1(0x14e)],_0x505ab8[_0x31eeb1(0x15b)](_0x3a2d70),autocompleteBox[_0x31eeb1(0x15b)](_0x505ab8);}),autocompleteBox['style'][_0x26c944(0x14c)]=_0x26c944(0x153);}searchButton3[_0xedf2b2(0x156)](_0xedf2b2(0x14f),()=>{const _0x350b96=_0xedf2b2;searchInputModal['style'][_0x350b96(0x14c)]=_0x350b96(0x153);}),searchInput['addEventListener'](_0xedf2b2(0x158),()=>{const _0x122364=_0xedf2b2,_0x1aac33=searchInput['value'];_0x1aac33[_0x122364(0x140)]()===''?autocompleteBox[_0x122364(0x152)][_0x122364(0x14c)]='none':search2(_0x1aac33);}),document['addEventListener']('click',_0x17873a=>{const _0x2c2a21=_0xedf2b2;_0x17873a[_0x2c2a21(0x15a)]===searchInputModal&&(searchInputModal[_0x2c2a21(0x152)][_0x2c2a21(0x14c)]=_0x2c2a21(0x15f));});function _0x4dcd(){const _0x3abacf=['forEach','style','block','link','165476bdcaHI','addEventListener','430668iEzpyY','input','90cmGEmO','target','appendChild','filter','normalize','innerHTML','none','split','102625kyWWmb','autocompleteBox','length','trim','5KymJaR','getElementById','searchInput','423476PJmBDe','1170534HGXHHf','map','replace','60222cRWbFM','toLowerCase','searchInputModal','61832bbygIm','display','createElement','name','click','textContent'];_0x4dcd=function(){return _0x3abacf;};return _0x4dcd();}
  
  
  
  </script>


<body>
    <div class="container">
        <div class="chart-wrapper">
            <div class="controls">
                <select id="select-x" style="display: none;"></select>
                <select id="select-y" style="display: none;"></select>
                <select id="select-league" style="display: none;" onchange="updateChart()">
                    <option value="all">Top 7 Leagues</option>
                    <option value="Top 5 Leagues">Top 5 Leagues</option>
                    <option value="Premier League">Premier League</option>
                    <option value="La Liga">La Liga</option>
                    <option value="Bundesliga">Bundesliga</option>
                    <option value="Serie A">Serie A</option> 
                    <option value="Ligue 1">Ligue 1</option>
                    <option value="Eredivisie">Eredivisie</option>
                    <option value="Primeira Liga">Liga Portugal</option>
                </select>
                
                <!-- Custom X metric selector -->
                <div class="metric-select-container">
                    <div class="metric-select-trigger" id="x-metric-trigger">
                        <span data-i18n="metrics.goals-per-90">Goals per 90</span>
                    </div>
                    <div class="metric-select-options" id="x-metric-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Custom Y metric selector -->
                <div class="metric-select-container">
                    <div class="metric-select-trigger" id="y-metric-trigger">
                        <span data-i18n="metrics.xg-per-90">xG per 90</span>
                    </div>
                    <div class="metric-select-options" id="y-metric-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Custom league selector with flag icons -->
                <div class="custom-select-container">
                    <div class="custom-select-trigger" id="league-select-trigger">
                        <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                        <span data-i18n="leagues.top7">Top 7 Leagues</span>
                    </div>
                    <div class="custom-select-options" id="league-select-options">
                        <div class="custom-select-option selected" data-value="all">
                            <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                            <span data-i18n="leagues.top7">Top 7 Leagues</span>
                        </div>
                        <div class="custom-select-option" data-value="Top 5 Leagues">
                            <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                            <span data-i18n="leagues.top5">Top 5 Leagues</span>
                        </div>
                        <div class="custom-select-option" data-value="Premier League">
                            <iconify-icon icon="emojione:flag-for-united-kingdom" width="18" height="18"></iconify-icon>
                            <span>Premier League</span>
                        </div>
                        <div class="custom-select-option" data-value="La Liga">
                            <iconify-icon icon="emojione:flag-for-spain" width="18" height="18"></iconify-icon>
                            <span>La Liga</span>
                        </div>
                        <div class="custom-select-option" data-value="Bundesliga">
                            <iconify-icon icon="emojione:flag-for-germany" width="18" height="18"></iconify-icon>
                            <span>Bundesliga</span>
                        </div>
                        <div class="custom-select-option" data-value="Serie A">
                            <iconify-icon icon="emojione:flag-for-italy" width="18" height="18"></iconify-icon>
                            <span>Serie A</span>
                        </div>
                        <div class="custom-select-option" data-value="Ligue 1">
                            <iconify-icon icon="emojione:flag-for-france" width="18" height="18"></iconify-icon>
                            <span>Ligue 1</span>
                        </div>
                        <div class="custom-select-option" data-value="Eredivisie">
                            <iconify-icon icon="emojione:flag-for-netherlands" width="18" height="18"></iconify-icon>
                            <span>Eredivisie</span>
                        </div>
                        <div class="custom-select-option" data-value="Primeira Liga">
                            <iconify-icon icon="emojione:flag-for-portugal" width="18" height="18"></iconify-icon>
                            <span>Liga Portugal</span>
                        </div>
                    </div>
                </div>
                
                <input type="text" id="search-bar" data-i18n="search.placeholder2" placeholder="Search team...">
                <div class="btn-tooltip">
                    <button id="toggle-median-lines" class="btn btn-outline btn-icon">
                        <div class="icon">
                            <i class="ion-stats-bars"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" id="median-lines-tooltip" data-i18n="tooltip.median-lines">Show median lines</span>
                </div>
                <div class="btn-tooltip">
                    <button class="btn btn-outline btn-icon" id="select-all-button" onclick="selectAllCircles()">
                        <div class="icon">
                            <i class="ion-ios-circle-filled" id="select-icon"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" id="select-all-tooltip" data-i18n="tooltip.select-all">Select all teams</span>
                </div>
                <div class="btn-tooltip">
                    <button class="btn btn-outline btn-icon" onclick="takeScreenshot()">
                        <div class="icon">
                            <i class="ion-camera"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" data-i18n="tooltip.screenshot">Download chart as image</span>
                </div>
            </div>
       
            <div class="chart-container">
              <svg id="scatter-plot"></svg>
            </div>

            <div class="legend" id="league-legend">
              <!-- Legend items will be added here dynamically -->
            </div>
        </div>

        <div class="promo-links-container">
            <a href="https://datamb.football/teamradars" class="promo-link radar-link">
                <iconify-icon icon="mdi:radar" width="20" height="20"></iconify-icon>
                <span data-i18n="promo.radar-link">Compare Teams with Radars</span>
            </a>
            <a href="https://datamb.football/join" class="promo-link pro-link">
                <iconify-icon icon="mdi:account-star" width="20" height="20"></iconify-icon>
                <span data-i18n="promo.pro-link">Get Pro for Player Plots</span>
            </a>
            <div class="dark-mode-toggle pc-only" onclick="toggleDarkMode()">
                <div class="toggle-icon"></div>
            </div>
        </div>
    </div>

    <div class="dark-mode-toggle mobile-only" onclick="toggleDarkMode()">
        <div class="toggle-icon"></div>
    </div>

    <script>

    var _0x1a186f=_0xe6bf;(function(_0x7a7950,_0x23e0c9){var _0x227e5c=_0xe6bf,_0x23a4c3=_0x7a7950();while(!![]){try{var _0x4c75e9=parseInt(_0x227e5c(0x1c5))/0x1+parseInt(_0x227e5c(0x1ed))/0x2+-parseInt(_0x227e5c(0x1f9))/0x3*(-parseInt(_0x227e5c(0x20e))/0x4)+-parseInt(_0x227e5c(0x197))/0x5+-parseInt(_0x227e5c(0x195))/0x6*(-parseInt(_0x227e5c(0x26c))/0x7)+parseInt(_0x227e5c(0x19c))/0x8+parseInt(_0x227e5c(0x1ff))/0x9*(-parseInt(_0x227e5c(0x1a3))/0xa);if(_0x4c75e9===_0x23e0c9)break;else _0x23a4c3['push'](_0x23a4c3['shift']());}catch(_0x26a768){_0x23a4c3['push'](_0x23a4c3['shift']());}}}(_0x32a4,0x81c05));let initializeCustomSelectors=function(){var _0x4944fe=_0xe6bf;const _0x2a9b20=document[_0x4944fe(0x18f)](_0x4944fe(0x1cf)),_0x14588d=document[_0x4944fe(0x18f)](_0x4944fe(0x25f)),_0x45572d=document[_0x4944fe(0x18f)]('select-league');setupCustomSelect(_0x2a9b20,_0x14588d,_0x45572d);const _0xc6093f=document[_0x4944fe(0x18f)](_0x4944fe(0x22c)),_0x19e964=document['getElementById'](_0x4944fe(0x237)),_0x2fa79b=document[_0x4944fe(0x18f)](_0x4944fe(0x25a));populateMetricOptions(_0x19e964,header[_0x4944fe(0x1d4)](0x3),function(_0x4e015a,_0x89afcf){var _0x245079=_0x4944fe;_0xc6093f[_0x245079(0x1f2)](_0x245079(0x1e2))[_0x245079(0x27c)]===_0x89afcf&&_0x4e015a[_0x245079(0x229)][_0x245079(0x210)](_0x245079(0x1ec));if(_0x89afcf===header[0x3]){_0x4e015a[_0x245079(0x229)][_0x245079(0x210)](_0x245079(0x1ec)),_0xc6093f[_0x245079(0x1f2)](_0x245079(0x1e2))[_0x245079(0x27c)]=_0x89afcf;const _0x3cd15e=_0x89afcf[_0x245079(0x23f)]()[_0x245079(0x1bd)](/ /g,'-')[_0x245079(0x1bd)](/%/g,'pct');_0xc6093f[_0x245079(0x1f2)](_0x245079(0x1e2))['setAttribute']('data-i18n','metrics.'+_0x3cd15e);}}),setupCustomSelect(_0xc6093f,_0x19e964,_0x2fa79b);const _0x3773f4=document[_0x4944fe(0x18f)](_0x4944fe(0x1e3)),_0x17b533=document[_0x4944fe(0x18f)](_0x4944fe(0x1ac)),_0x19ce44=document[_0x4944fe(0x18f)](_0x4944fe(0x258));populateMetricOptions(_0x17b533,header[_0x4944fe(0x1d4)](0x3),function(_0x3330d0,_0x57e1d3){var _0x3eb4bf=_0x4944fe;_0x3773f4[_0x3eb4bf(0x1f2)](_0x3eb4bf(0x1e2))[_0x3eb4bf(0x27c)]===_0x57e1d3&&_0x3330d0[_0x3eb4bf(0x229)][_0x3eb4bf(0x210)]('selected');if(_0x57e1d3===header[0x4]){_0x3330d0['classList']['add'](_0x3eb4bf(0x1ec)),_0x3773f4[_0x3eb4bf(0x1f2)](_0x3eb4bf(0x1e2))['textContent']=_0x57e1d3;const _0x40d7de=_0x57e1d3[_0x3eb4bf(0x23f)]()[_0x3eb4bf(0x1bd)](/ /g,'-')[_0x3eb4bf(0x1bd)](/%/g,_0x3eb4bf(0x22f));_0x3773f4[_0x3eb4bf(0x1f2)]('span')['setAttribute'](_0x3eb4bf(0x1f4),'metrics.'+_0x40d7de);}}),setupCustomSelect(_0x3773f4,_0x17b533,_0x19ce44);};function populateMetricOptions(_0x50bebe,_0x5abd93,_0x51d87b){var _0x4d212=_0xe6bf;_0x50bebe['innerHTML']='',_0x5abd93[_0x4d212(0x241)](function(_0x440384){var _0x2b2776=_0x4d212;const _0x5783df=document['createElement'](_0x2b2776(0x1fb));_0x5783df[_0x2b2776(0x1d5)]='metric-select-option',_0x5783df[_0x2b2776(0x203)](_0x2b2776(0x1be),_0x440384);const _0x4fecf4=document['createElement'](_0x2b2776(0x1e2));_0x4fecf4['textContent']=_0x440384;const _0x4bc45d=_0x440384[_0x2b2776(0x23f)]()['replace'](/ /g,'-')['replace'](/%/g,_0x2b2776(0x22f));_0x4fecf4[_0x2b2776(0x203)]('data-i18n',_0x2b2776(0x213)+_0x4bc45d),_0x5783df[_0x2b2776(0x216)](_0x4fecf4);if(_0x51d87b)_0x51d87b(_0x5783df,_0x440384);_0x50bebe[_0x2b2776(0x216)](_0x5783df);});}function setupCustomSelect(_0xbce999,_0xfef415,_0x994587){var _0x5d9109=_0xe6bf;_0xbce999[_0x5d9109(0x27a)](_0x5d9109(0x212),function(){var _0x3d362f=_0x5d9109;document[_0x3d362f(0x267)](_0x3d362f(0x24e))[_0x3d362f(0x241)](function(_0x32a85a){var _0x375781=_0x3d362f;if(_0x32a85a!==_0xbce999){_0x32a85a[_0x375781(0x229)][_0x375781(0x261)]('open');const _0x5e33c6=_0x32a85a[_0x375781(0x1b1)];if(_0x5e33c6)_0x5e33c6['style'][_0x375781(0x1aa)]=_0x375781(0x19e);}}),_0xbce999[_0x3d362f(0x229)][_0x3d362f(0x236)]('open');const _0x1689ef=_0xbce999['classList'][_0x3d362f(0x19f)](_0x3d362f(0x1f5));_0xfef415[_0x3d362f(0x21b)][_0x3d362f(0x1aa)]=_0x1689ef?_0x3d362f(0x20b):_0x3d362f(0x19e);});const _0x118439=_0xfef415[_0x5d9109(0x267)]('.custom-select-option,\x20.metric-select-option');_0x118439['forEach'](_0x312f9f=>{var _0x322dc4=_0x5d9109;_0x312f9f[_0x322dc4(0x27a)](_0x322dc4(0x212),function(){var _0x149283=_0x322dc4;_0x118439[_0x149283(0x241)](_0x200f04=>_0x200f04[_0x149283(0x229)][_0x149283(0x261)](_0x149283(0x1ec))),this[_0x149283(0x229)][_0x149283(0x210)](_0x149283(0x1ec));const _0x2e050f=this['querySelector'](_0x149283(0x1e2))[_0x149283(0x27c)],_0x110b7f=this['querySelector'](_0x149283(0x1e2))[_0x149283(0x1dc)](_0x149283(0x1f4)),_0x3a8309=this[_0x149283(0x1f2)](_0x149283(0x1c9));_0xbce999[_0x149283(0x1f8)]='';if(_0x3a8309){const _0x4fc90e=_0x3a8309[_0x149283(0x242)](!![]);_0x4fc90e[_0x149283(0x21b)]['marginRight']=_0x149283(0x1a2),_0xbce999[_0x149283(0x216)](_0x4fc90e);}const _0x12da2e=document[_0x149283(0x1fd)]('span');_0x12da2e['textContent']=_0x2e050f;_0x110b7f&&_0x12da2e[_0x149283(0x203)](_0x149283(0x1f4),_0x110b7f);_0xbce999[_0x149283(0x216)](_0x12da2e);const _0x4ba3b3=this['getAttribute']('data-value');_0x994587[_0x149283(0x1a9)]=_0x4ba3b3||_0x2e050f;const _0x3674f7=new Event(_0x149283(0x1a8));_0x994587[_0x149283(0x277)](_0x3674f7),_0xbce999[_0x149283(0x229)][_0x149283(0x261)](_0x149283(0x1f5)),_0xfef415[_0x149283(0x21b)][_0x149283(0x1aa)]='none';});});let _0x4c48d8='',_0x519b37;document[_0x5d9109(0x27a)](_0x5d9109(0x22b),function(_0x472578){var _0x27647c=_0x5d9109;if(!_0xbce999['classList'][_0x27647c(0x19f)](_0x27647c(0x1f5)))return;if(_0x472578[_0x27647c(0x196)]===_0x27647c(0x21d)||_0x472578[_0x27647c(0x196)]===_0x27647c(0x1e0)){_0x472578[_0x27647c(0x25c)]();const _0x4bcec4=Array[_0x27647c(0x1ba)](_0x118439),_0x4ed7eb=_0x4bcec4[_0x27647c(0x1fc)](_0x148b6e=>_0x148b6e[_0x27647c(0x229)][_0x27647c(0x19f)](_0x27647c(0x1ec)));let _0x4584db;_0x472578[_0x27647c(0x196)]===_0x27647c(0x21d)?_0x4584db=_0x4ed7eb<_0x4bcec4[_0x27647c(0x1ca)]-0x1?_0x4ed7eb+0x1:0x0:_0x4584db=_0x4ed7eb>0x0?_0x4ed7eb-0x1:_0x4bcec4[_0x27647c(0x1ca)]-0x1;_0x118439[_0x27647c(0x241)](_0x27df2d=>_0x27df2d[_0x27647c(0x229)][_0x27647c(0x261)]('selected')),_0x4bcec4[_0x4584db]['classList']['add'](_0x27647c(0x1ec)),_0x4bcec4[_0x4584db][_0x27647c(0x262)]({'block':'nearest'});return;}if(_0x472578[_0x27647c(0x196)]===_0x27647c(0x1dd)){_0x472578[_0x27647c(0x25c)]();const _0x2799bf=_0xfef415[_0x27647c(0x1f2)](_0x27647c(0x18d));_0x2799bf&&_0x2799bf[_0x27647c(0x212)]();return;}if(_0x472578[_0x27647c(0x196)]===_0x27647c(0x243)){_0x472578[_0x27647c(0x25c)](),_0xbce999['classList'][_0x27647c(0x261)](_0x27647c(0x1f5)),_0xfef415[_0x27647c(0x21b)][_0x27647c(0x1aa)]='none';return;}if(_0x472578['key'][_0x27647c(0x1ca)]===0x1&&_0x472578[_0x27647c(0x196)][_0x27647c(0x1d3)](/[a-zA-Z0-9%]/)){clearTimeout(_0x519b37),_0x4c48d8+=_0x472578[_0x27647c(0x196)][_0x27647c(0x23f)]();const _0x253980=Array[_0x27647c(0x1ba)](_0x118439)[_0x27647c(0x1fa)](_0x5bb156=>{const _0x1ec4dd=_0x5bb156['querySelector']('span')['textContent']['toLowerCase']();return _0x1ec4dd['startsWith'](_0x4c48d8);});_0x253980&&(_0x118439['forEach'](_0x42699f=>_0x42699f['classList'][_0x27647c(0x261)](_0x27647c(0x1ec))),_0x253980['classList'][_0x27647c(0x210)](_0x27647c(0x1ec)),_0x253980[_0x27647c(0x262)]({'block':'nearest'})),_0x519b37=setTimeout(()=>{_0x4c48d8='';},0x3e8);}});}document[_0x1a186f(0x27a)](_0x1a186f(0x212),function(_0x224a4b){var _0x5bdaaa=_0x1a186f;const _0x10fea8=document[_0x5bdaaa(0x267)](_0x5bdaaa(0x20f)),_0x27c6ab=document[_0x5bdaaa(0x267)](_0x5bdaaa(0x1c6));let _0x282d43=![];_0x10fea8[_0x5bdaaa(0x241)](function(_0xf57b2e,_0x3556b5){var _0x59c366=_0x5bdaaa;const _0x47228a=_0x27c6ab[_0x3556b5];_0xf57b2e&&_0x47228a&&(_0xf57b2e['contains'](_0x224a4b[_0x59c366(0x1da)])||_0x47228a[_0x59c366(0x19f)](_0x224a4b[_0x59c366(0x1da)]))&&(_0x282d43=!![]);}),!_0x282d43&&_0x10fea8[_0x5bdaaa(0x241)](function(_0x401e51,_0x511c34){var _0x164a97=_0x5bdaaa;_0x401e51&&_0x27c6ab[_0x511c34]&&(_0x401e51[_0x164a97(0x229)][_0x164a97(0x261)](_0x164a97(0x1f5)),_0x27c6ab[_0x511c34]['style']['display']=_0x164a97(0x19e));});});const xhr=new XMLHttpRequest();xhr['open'](_0x1a186f(0x252),'https://datamb.football/database/TEAM/teamplots.csv',![]),xhr[_0x1a186f(0x1b2)](null);let csvData=xhr[_0x1a186f(0x1a4)],extraHeaderRow='ID,Player,Top\x207\x20Leagues,Goals\x20per\x2090,xG\x20per\x2090,Shots\x20on\x20target\x20per\x2090,Shots\x20on\x20target\x20%,Passes\x20completed,Pass\x20accuracy\x20%,Possession\x20%,Positional\x20attacks\x20per\x2090,Counter\x20attacks\x20per\x2090,Touches\x20in\x20the\x20box\x20per\x2090,Goals\x20conceded\x20per\x2090,SoT\x20against\x20per\x2090,Defensive\x20duels\x20per\x2090,Defensive\x20duel\x20%,Aerial\x20duels\x20per\x2090,Aerial\x20duels\x20%,Passes\x20per\x20possession,PPDA\x0a';csvData=extraHeaderRow+csvData;var rows=csvData[_0x1a186f(0x1d6)]()[_0x1a186f(0x228)]('\x0a'),header=rows[0x0][_0x1a186f(0x228)](','),data=rows[_0x1a186f(0x1d4)](0x1)[_0x1a186f(0x25d)](function(_0x4b61eb){var _0x41f7d0=_0x1a186f;return _0x4b61eb[_0x41f7d0(0x228)](',')[_0x41f7d0(0x25d)](function(_0x111414,_0xf2b97f){return _0xf2b97f>=0x3?parseFloat(_0x111414):_0x111414;});}),margin={'top':0x0,'right':0x0,'bottom':0x0,'left':0x0},width=0x43a-margin[_0x1a186f(0x1bf)]-margin['right'],height=0x302-margin[_0x1a186f(0x1d7)]-margin[_0x1a186f(0x1f1)],leagueColors={'Premier\x20League':_0x1a186f(0x276),'La\x20Liga':_0x1a186f(0x1ad),'Bundesliga':'rgb(85,\x20209,\x2073,\x200.7)','Serie\x20A':_0x1a186f(0x194),'Ligue\x201':_0x1a186f(0x268),'Eredivisie':_0x1a186f(0x1c0),'Primeira\x20Liga':_0x1a186f(0x264)};function getLeagueColor(_0x324c87){return leagueColors[_0x324c87]||'rgba(255,\x200,\x200,\x200.7)';}function updateChartDimensions(){var _0x5bc9c7=_0x1a186f,_0x67c8f3=document['querySelector'](_0x5bc9c7(0x279))['clientWidth'],_0x5043e7=window[_0x5bc9c7(0x214)]*0.7,_0x207d68=0x1e,_0x3f1ed1=Math[_0x5bc9c7(0x1ce)](0x43a,_0x67c8f3-_0x207d68*0x2),_0x2d2a0f=window[_0x5bc9c7(0x1b9)]/window['innerHeight']<0x1;if(_0x2d2a0f){margin={'top':0x28,'right':0x1e,'bottom':0x3c,'left':0x4b};var _0x1d9442=1.4,_0x5a68be=Math['min'](_0x5043e7,_0x3f1ed1*_0x1d9442);_0x5a68be=Math[_0x5bc9c7(0x1e6)](_0x5a68be,0x1f4);}else{margin={'top':0x28,'right':0x1e,'bottom':0x3c,'left':0x4f};var _0x3b0737=0.7,_0x5a68be=_0x3f1ed1*_0x3b0737;}width=_0x3f1ed1-margin[_0x5bc9c7(0x1bf)]-margin[_0x5bc9c7(0x247)],height=_0x5a68be-margin['top']-margin[_0x5bc9c7(0x1f1)],d3[_0x5bc9c7(0x1de)](_0x5bc9c7(0x1db))['attr'](_0x5bc9c7(0x1c7),_0x3f1ed1)[_0x5bc9c7(0x24a)](_0x5bc9c7(0x248),_0x5a68be),document[_0x5bc9c7(0x1f2)](_0x5bc9c7(0x20d))[_0x5bc9c7(0x21b)][_0x5bc9c7(0x248)]=_0x5a68be+'px';}window[_0x1a186f(0x27a)](_0x1a186f(0x266),function(){updateChartDimensions(),requestAnimationFrame(function(){updateChart();});}),updateChartDimensions();function debounce(_0x17b920,_0x2fc43d){let _0x32a1a0;return function(){const _0x1e9ab9=this,_0x268435=arguments;clearTimeout(_0x32a1a0),_0x32a1a0=setTimeout(function(){var _0x1a9b98=_0xe6bf;_0x17b920[_0x1a9b98(0x19d)](_0x1e9ab9,_0x268435);},_0x2fc43d);};}var prevWindowWidth=window[_0x1a186f(0x1b9)],prevWindowHeight=window['innerHeight'];window['addEventListener'](_0x1a186f(0x266),debounce(function(){var _0x7a6945=_0x1a186f,_0x31b29d=prevWindowWidth/prevWindowHeight<0x1,_0x12469d=window[_0x7a6945(0x1b9)]/window[_0x7a6945(0x214)]<0x1;prevWindowWidth=window['innerWidth'],prevWindowHeight=window[_0x7a6945(0x214)],requestAnimationFrame(function(){updateChart();});},0x32));var medianLinesVisible=![],selectX=d3['select'](_0x1a186f(0x225)),selectY=d3[_0x1a186f(0x1de)]('#select-y'),names=data[_0x1a186f(0x25d)](function(_0x52b8e2){return _0x52b8e2[0x1];});header[_0x1a186f(0x1d4)](0x3)[_0x1a186f(0x241)](function(_0x566d49){var _0x1470b7=_0x1a186f;selectX['append'](_0x1470b7(0x230))['text'](_0x566d49)[_0x1470b7(0x24a)](_0x1470b7(0x1a9),_0x566d49),selectY['append'](_0x1470b7(0x230))[_0x1470b7(0x1b6)](_0x566d49)[_0x1470b7(0x24a)](_0x1470b7(0x1a9),_0x566d49);}),selectX[_0x1a186f(0x249)](_0x1a186f(0x1a9),header[0x3]),selectY[_0x1a186f(0x249)](_0x1a186f(0x1a9),header[0x4]);var svg=d3[_0x1a186f(0x1de)](_0x1a186f(0x1db))[_0x1a186f(0x24a)]('width',width+margin[_0x1a186f(0x1bf)]+margin[_0x1a186f(0x247)])[_0x1a186f(0x24a)](_0x1a186f(0x248),height+margin[_0x1a186f(0x1d7)]+margin[_0x1a186f(0x1f1)])[_0x1a186f(0x23a)]('g')[_0x1a186f(0x24a)](_0x1a186f(0x19b),_0x1a186f(0x1cd)+margin[_0x1a186f(0x1bf)]+','+margin[_0x1a186f(0x1d7)]+')'),xMetric=header[0x3],yMetric=header[0x4],xScale=d3[_0x1a186f(0x278)]()[_0x1a186f(0x24f)]([0x0,width]),yScale=d3[_0x1a186f(0x278)]()[_0x1a186f(0x24f)]([height,0x0]),xAxis=d3[_0x1a186f(0x275)](xScale)['tickSize'](0x0),yAxis=d3[_0x1a186f(0x26d)](yScale)[_0x1a186f(0x269)](0x0),gXAxis=svg[_0x1a186f(0x23a)]('g')[_0x1a186f(0x24a)](_0x1a186f(0x204),_0x1a186f(0x224))[_0x1a186f(0x24a)](_0x1a186f(0x19b),_0x1a186f(0x1b7)+height+')'),gYAxis=svg[_0x1a186f(0x23a)]('g')['attr']('class','y-axis'),xLabel=svg[_0x1a186f(0x23a)](_0x1a186f(0x1b6))[_0x1a186f(0x24a)](_0x1a186f(0x204),_0x1a186f(0x259))[_0x1a186f(0x24a)]('text-anchor',_0x1a186f(0x1f3))[_0x1a186f(0x24a)]('x',width)[_0x1a186f(0x24a)]('y',height+0x23)[_0x1a186f(0x21b)](_0x1a186f(0x1af),_0x1a186f(0x1b0))[_0x1a186f(0x21b)]('font-size','14px'),yLabel=svg[_0x1a186f(0x23a)]('text')['attr'](_0x1a186f(0x204),'y-label')[_0x1a186f(0x24a)]('text-anchor','end')[_0x1a186f(0x24a)](_0x1a186f(0x19b),_0x1a186f(0x1eb))['attr']('y',-0x35)[_0x1a186f(0x24a)]('x',0x0)['style']('font-family',_0x1a186f(0x1b0))['style']('font-size',_0x1a186f(0x1bc)),tooltip=d3[_0x1a186f(0x1de)](_0x1a186f(0x20a))['append'](_0x1a186f(0x1fb))[_0x1a186f(0x24a)](_0x1a186f(0x204),'tooltip');function isMobileDevice(){var _0x701179=_0x1a186f;return window[_0x701179(0x1b9)]<=0x300;}function positionTooltip(_0xcaae88,_0x1d294c){var _0x377d30=_0x1a186f;const _0x54ff8d=_0x1d294c[_0x377d30(0x1d0)]();if(!_0x54ff8d)return{'left':0x0,'top':0x0};const _0x5c5a40=_0x54ff8d[_0x377d30(0x209)](),_0x3be91d=window[_0x377d30(0x1b9)],_0x3f6a9f=window[_0x377d30(0x214)];let _0x54e74a=_0xcaae88[_0x377d30(0x22d)]+0xa,_0x1398ee=_0xcaae88[_0x377d30(0x19a)]-0x1c;return _0x54e74a+_0x5c5a40[_0x377d30(0x1c7)]>_0x3be91d-0xa&&(_0x54e74a=_0xcaae88['pageX']-_0x5c5a40[_0x377d30(0x1c7)]-0xa),_0x1398ee+_0x5c5a40[_0x377d30(0x248)]>_0x3f6a9f-0xa&&(_0x1398ee=_0xcaae88[_0x377d30(0x19a)]-_0x5c5a40[_0x377d30(0x248)]-0xa),_0x54e74a=Math[_0x377d30(0x1e6)](0xa,_0x54e74a),_0x1398ee=Math['max'](0xa,_0x1398ee),{'left':_0x54e74a,'top':_0x1398ee};}var clickedCircles=[],filteredData=data,filteredNames=names,circles;function updateChart(){var _0x5c0f89=_0x1a186f;updateChartDimensions(),d3[_0x5c0f89(0x1de)]('#scatter-plot')['attr']('width',width+margin['left']+margin[_0x5c0f89(0x247)])[_0x5c0f89(0x24a)](_0x5c0f89(0x248),height+margin[_0x5c0f89(0x1d7)]+margin[_0x5c0f89(0x1f1)]),gXAxis[_0x5c0f89(0x24a)](_0x5c0f89(0x19b),'translate(0,'+height+')'),xLabel[_0x5c0f89(0x24a)]('x',width)[_0x5c0f89(0x24a)]('y',height+0x23),yLabel['attr']('x',0x0);const _0x419876=document[_0x5c0f89(0x20a)][_0x5c0f89(0x229)][_0x5c0f89(0x19f)](_0x5c0f89(0x24b));var _0x560dfd=document['getElementById'](_0x5c0f89(0x1c2))[_0x5c0f89(0x1a9)];if(_0x560dfd===_0x5c0f89(0x26b))filteredData=data;else _0x560dfd==='Top\x205\x20Leagues'?filteredData=data['filter'](function(_0x4aa694){var _0x24fc27=_0x5c0f89;return _0x4aa694[0x2]===_0x24fc27(0x239)||_0x4aa694[0x2]===_0x24fc27(0x1f6)||_0x4aa694[0x2]===_0x24fc27(0x207)||_0x4aa694[0x2]===_0x24fc27(0x253)||_0x4aa694[0x2]===_0x24fc27(0x231);}):filteredData=data['filter'](function(_0x4b1c80){return _0x4b1c80[0x2]===_0x560dfd;});filteredNames=filteredData[_0x5c0f89(0x25d)](function(_0x2be5de){return _0x2be5de[0x1];}),xMetric=selectX[_0x5c0f89(0x249)](_0x5c0f89(0x1a9)),yMetric=selectY[_0x5c0f89(0x249)](_0x5c0f89(0x1a9)),xScale[_0x5c0f89(0x24f)]([0x0,width])[_0x5c0f89(0x263)]((function(){var _0x5a6377=_0x5c0f89;const _0x638483=d3[_0x5a6377(0x190)](filteredData,function(_0x135842){var _0x12f84d=_0x5a6377;return+_0x135842[header[_0x12f84d(0x18e)](xMetric)];}),_0x346a82=d3[_0x5a6377(0x278)]()['domain'](_0x638483)[_0x5a6377(0x206)](),_0x976a3d=_0x346a82[_0x5a6377(0x263)](),_0x693174=_0x638483[0x1]-_0x638483[0x0],_0x56aa12=_0x976a3d[0x1]-_0x976a3d[0x0];if(_0x56aa12/_0x693174>1.2){const _0x2d2b22=_0x693174*0.1;return[_0x638483[0x0]-_0x2d2b22,_0x638483[0x1]+_0x2d2b22];}else return _0x976a3d;}())),yScale['range']([height,0x0])[_0x5c0f89(0x263)]((function(){var _0x41786d=_0x5c0f89;const _0x57618d=d3[_0x41786d(0x190)](filteredData,function(_0x141390){return+_0x141390[header['indexOf'](yMetric)];}),_0x586346=d3[_0x41786d(0x278)]()['domain'](_0x57618d)[_0x41786d(0x206)](),_0x3d2dcd=_0x586346['domain'](),_0x1e900b=_0x57618d[0x1]-_0x57618d[0x0],_0x5a3548=_0x3d2dcd[0x1]-_0x3d2dcd[0x0];if(_0x5a3548/_0x1e900b>1.2){const _0x4539ae=_0x1e900b*0.1;return[_0x57618d[0x0]-_0x4539ae,_0x57618d[0x1]+_0x4539ae];}else return _0x3d2dcd;}())),gXAxis[_0x5c0f89(0x198)](d3[_0x5c0f89(0x275)](xScale)[_0x5c0f89(0x269)](0x0)),gYAxis[_0x5c0f89(0x198)](d3[_0x5c0f89(0x26d)](yScale)[_0x5c0f89(0x269)](0x0));const _0x1a419f=_0x5c0f89(0x213)+xMetric['toLowerCase']()['replace'](/ /g,'-')[_0x5c0f89(0x1bd)](/%/g,'pct'),_0x4bf449=_0x5c0f89(0x213)+yMetric[_0x5c0f89(0x23f)]()[_0x5c0f89(0x1bd)](/ /g,'-')[_0x5c0f89(0x1bd)](/%/g,_0x5c0f89(0x22f));xLabel[_0x5c0f89(0x24a)](_0x5c0f89(0x1f4),_0x1a419f),yLabel['attr']('data-i18n',_0x4bf449);if(window[_0x5c0f89(0x235)]&&window['currentTranslations'][_0x5c0f89(0x193)]){const _0x90895=xMetric[_0x5c0f89(0x23f)]()[_0x5c0f89(0x1bd)](/ /g,'-')[_0x5c0f89(0x1bd)](/%/g,_0x5c0f89(0x22f)),_0x322371=yMetric[_0x5c0f89(0x23f)]()[_0x5c0f89(0x1bd)](/ /g,'-')[_0x5c0f89(0x1bd)](/%/g,'pct'),_0x563a67=window[_0x5c0f89(0x235)]['metrics'][_0x90895],_0x3020a2=window[_0x5c0f89(0x235)]['metrics'][_0x322371];xLabel[_0x5c0f89(0x1b6)](_0x563a67||xMetric),yLabel[_0x5c0f89(0x1b6)](_0x3020a2||yMetric);}else xLabel[_0x5c0f89(0x1b6)](xMetric),yLabel[_0x5c0f89(0x1b6)](yMetric);svg[_0x5c0f89(0x26a)](_0x5c0f89(0x273))[_0x5c0f89(0x261)](),svg[_0x5c0f89(0x26a)]('.team-label')['remove'](),svg['selectAll']('.xy-line')['remove'](),svg[_0x5c0f89(0x26a)](_0x5c0f89(0x257))[_0x5c0f89(0x261)](),svg[_0x5c0f89(0x26a)]('.xy-line-label')[_0x5c0f89(0x261)](),svg['selectAll'](_0x5c0f89(0x223))[_0x5c0f89(0x261)](),svg[_0x5c0f89(0x26a)]('.performance-label')[_0x5c0f89(0x261)](),svg[_0x5c0f89(0x26a)]('linearGradient#line-gradient')[_0x5c0f89(0x261)](),svg[_0x5c0f89(0x26a)]('marker#arrow-over,\x20marker#arrow-under')['remove'](),svg[_0x5c0f89(0x26a)]('.xy-line-hover')[_0x5c0f89(0x261)](),svg['selectAll']('.median-line')[_0x5c0f89(0x261)]();if(xMetric===_0x5c0f89(0x217)&&yMetric===_0x5c0f89(0x1a7)||xMetric==='Goals\x20per\x2090'&&yMetric===_0x5c0f89(0x217)){var _0x14c724=null,_0x467195=d3[_0x5c0f89(0x1ce)](filteredData,function(_0x1c203d){var _0x53fbf7=_0x5c0f89;return _0x1c203d[header[_0x53fbf7(0x18e)](xMetric)];}),_0x5ef484=d3[_0x5c0f89(0x1e6)](filteredData,function(_0x3b985d){var _0xfa2003=_0x5c0f89;return _0x3b985d[header[_0xfa2003(0x18e)](xMetric)];}),_0x46c644=d3['min'](filteredData,function(_0x427d8d){return _0x427d8d[header['indexOf'](yMetric)];}),_0x459c3d=d3[_0x5c0f89(0x1e6)](filteredData,function(_0x1a1c80){var _0x18b957=_0x5c0f89;return _0x1a1c80[header[_0x18b957(0x18e)](yMetric)];}),_0x39a330=Math[_0x5c0f89(0x1ce)](_0x5ef484,_0x459c3d),_0x4fd21e=Math[_0x5c0f89(0x1e6)](_0x467195,_0x46c644);svg[_0x5c0f89(0x23a)](_0x5c0f89(0x1e8))[_0x5c0f89(0x24a)](_0x5c0f89(0x204),'xy-line')['attr']('x1',xScale(_0x4fd21e))['attr']('y1',yScale(_0x4fd21e))['attr']('x2',xScale(_0x39a330))[_0x5c0f89(0x24a)]('y2',yScale(_0x39a330))[_0x5c0f89(0x21b)](_0x5c0f89(0x221),_0x5c0f89(0x255))['style'](_0x5c0f89(0x1f0),'2')[_0x5c0f89(0x21b)](_0x5c0f89(0x192),_0x5c0f89(0x256)),svg[_0x5c0f89(0x23a)](_0x5c0f89(0x1e8))[_0x5c0f89(0x24a)](_0x5c0f89(0x204),_0x5c0f89(0x1b8))[_0x5c0f89(0x24a)]('x1',xScale(_0x4fd21e))[_0x5c0f89(0x24a)]('y1',yScale(_0x4fd21e))['attr']('x2',xScale(_0x39a330))['attr']('y2',yScale(_0x39a330))[_0x5c0f89(0x21b)](_0x5c0f89(0x221),_0x5c0f89(0x1e7))[_0x5c0f89(0x21b)](_0x5c0f89(0x1f0),'15')[_0x5c0f89(0x21b)](_0x5c0f89(0x1c3),'help')['on']('mouseover',function(){var _0x1efd56=_0x5c0f89;_0x14c724&&clearTimeout(_0x14c724);var _0x3d21e3=d3['event'][_0x1efd56(0x22d)],_0x130991=d3[_0x1efd56(0x1d9)][_0x1efd56(0x19a)];_0x14c724=setTimeout(function(){var _0x521920=_0x1efd56;tooltip[_0x521920(0x201)]()[_0x521920(0x205)](0xc8)['style']('opacity',0.9);var _0x108eb2=_0x521920(0x1ab)+getTranslation('tooltip.xg-line-title','G\x20=\x20xG\x20Line')+'</strong><br/>';xMetric===_0x521920(0x217)&&yMetric===_0x521920(0x1a7)?_0x108eb2+=_0x521920(0x1e4)+getTranslation(_0x521920(0x218),'Teams\x20above\x20this\x20line\x20are\x20scoring\x20more\x20goals\x20than\x20expected.')+_0x521920(0x1fe)+_0x521920(0x1e4)+getTranslation(_0x521920(0x23c),_0x521920(0x222))+_0x521920(0x246):_0x108eb2+='<span>'+getTranslation(_0x521920(0x1cc),_0x521920(0x25e))+_0x521920(0x1fe)+'<span>'+getTranslation('tooltip.xg-line-left','Teams\x20left\x20of\x20this\x20line\x20are\x20scoring\x20fewer\x20goals\x20than\x20expected.')+_0x521920(0x246),tooltip[_0x521920(0x274)](_0x108eb2)[_0x521920(0x21b)]('left',_0x3d21e3+0xa+'px')['style'](_0x521920(0x1d7),_0x130991-0x1c+'px');},0x258);})['on'](_0x5c0f89(0x234),function(){var _0xd02f0f=_0x5c0f89;_0x14c724&&(clearTimeout(_0x14c724),_0x14c724=null),tooltip[_0xd02f0f(0x201)]()[_0xd02f0f(0x205)](0x1f4)['style'](_0xd02f0f(0x21f),0x0);});}if(medianLinesVisible){var _0x4fe3f3=d3[_0x5c0f89(0x1ef)](filteredData,function(_0x4f84b2){var _0x59f613=_0x5c0f89;return _0x4f84b2[header[_0x59f613(0x18e)](xMetric)];}),_0x4f38c8=d3[_0x5c0f89(0x1ef)](filteredData,function(_0x4b0f3c){var _0x33458e=_0x5c0f89;return _0x4b0f3c[header[_0x33458e(0x18e)](yMetric)];});svg[_0x5c0f89(0x23a)](_0x5c0f89(0x1e8))['attr'](_0x5c0f89(0x204),'median-line')[_0x5c0f89(0x24a)]('x1',xScale(_0x4fe3f3))[_0x5c0f89(0x24a)]('y1',0x0)[_0x5c0f89(0x24a)]('x2',xScale(_0x4fe3f3))[_0x5c0f89(0x24a)]('y2',height)[_0x5c0f89(0x21b)](_0x5c0f89(0x221),_0x5c0f89(0x22e))['style'](_0x5c0f89(0x192),'4'),svg['append'](_0x5c0f89(0x1e8))['attr']('class',_0x5c0f89(0x191))[_0x5c0f89(0x24a)]('x1',0x0)[_0x5c0f89(0x24a)]('y1',yScale(_0x4f38c8))[_0x5c0f89(0x24a)]('x2',width)[_0x5c0f89(0x24a)]('y2',yScale(_0x4f38c8))[_0x5c0f89(0x21b)](_0x5c0f89(0x221),'rgba(0,\x200,\x200,\x200.3)')['style'](_0x5c0f89(0x192),'4');}circles=svg[_0x5c0f89(0x26a)]('circle')[_0x5c0f89(0x1f7)](filteredData)[_0x5c0f89(0x227)]()['append'](_0x5c0f89(0x273))[_0x5c0f89(0x24a)]('cx',function(_0x249497){var _0x4c490e=_0x5c0f89;return xScale(_0x249497[header[_0x4c490e(0x18e)](xMetric)]);})[_0x5c0f89(0x24a)]('cy',function(_0x12fe39){var _0x25ddc2=_0x5c0f89;return yScale(_0x12fe39[header[_0x25ddc2(0x18e)](yMetric)]);})[_0x5c0f89(0x24a)]('r',0x8)[_0x5c0f89(0x21b)](_0x5c0f89(0x240),function(_0x2cd58c){var _0x32ac7c=_0x5c0f89;if(clickedCircles[_0x32ac7c(0x1c1)](_0x2cd58c[0x1]))return getLeagueColor(_0x2cd58c[0x2]);return _0x32ac7c(0x1a5);})[_0x5c0f89(0x21b)](_0x5c0f89(0x221),function(_0x39e713){var _0xc9280=_0x5c0f89;return clickedCircles[_0xc9280(0x1c1)](_0x39e713[0x1])?'#000':_0xc9280(0x19e);})['style'](_0x5c0f89(0x1f0),function(_0x39ec84){var _0x133d7e=_0x5c0f89;return clickedCircles[_0x133d7e(0x1c1)](_0x39ec84[0x1])?0x2:0x0;})[_0x5c0f89(0x21b)](_0x5c0f89(0x1c3),_0x5c0f89(0x250))['on'](_0x5c0f89(0x25b),function(_0x572c20){var _0x56552c=_0x5c0f89;d3[_0x56552c(0x1de)](this)['transition']()['duration'](0xc8)[_0x56552c(0x24a)]('r',0xa)[_0x56552c(0x21b)](_0x56552c(0x240),getLeagueColor(_0x572c20[0x2])),tooltip[_0x56552c(0x201)]()['duration'](0xc8)['style']('opacity',0.9);const _0x4f0921=_0x56552c(0x213)+xMetric[_0x56552c(0x23f)]()[_0x56552c(0x1bd)](/ /g,'-')[_0x56552c(0x1bd)](/%/g,_0x56552c(0x22f)),_0x2a2a75='metrics.'+yMetric[_0x56552c(0x23f)]()[_0x56552c(0x1bd)](/ /g,'-')[_0x56552c(0x1bd)](/%/g,'pct'),_0x210cdd=getTranslation(_0x4f0921,xMetric),_0x1afdac=getTranslation(_0x2a2a75,yMetric);tooltip[_0x56552c(0x274)](_0x56552c(0x1ab)+_0x572c20[0x1]+'</strong><br/>'+_0x210cdd+':\x20'+_0x572c20[header[_0x56552c(0x18e)](xMetric)]['toFixed'](0x2)+_0x56552c(0x200)+_0x1afdac+':\x20'+_0x572c20[header['indexOf'](yMetric)][_0x56552c(0x199)](0x2));const _0x1debab=tooltip[_0x56552c(0x1d0)]();if(_0x1debab){const _0x177aec=_0x1debab[_0x56552c(0x209)](),_0x36e84a=window[_0x56552c(0x1b9)],_0x496ad2=window[_0x56552c(0x214)];let _0x5a3684=d3[_0x56552c(0x1d9)][_0x56552c(0x22d)]+0xa,_0x239d51=d3[_0x56552c(0x1d9)]['pageY']-0x1c;_0x5a3684+_0x177aec['width']>_0x36e84a-0xa&&(_0x5a3684=d3['event'][_0x56552c(0x22d)]-_0x177aec[_0x56552c(0x1c7)]-0xa),_0x239d51+_0x177aec[_0x56552c(0x248)]>_0x496ad2-0xa&&(_0x239d51=d3[_0x56552c(0x1d9)][_0x56552c(0x19a)]-_0x177aec[_0x56552c(0x248)]-0xa),_0x5a3684=Math[_0x56552c(0x1e6)](0xa,_0x5a3684),_0x239d51=Math['max'](0xa,_0x239d51),tooltip[_0x56552c(0x21b)](_0x56552c(0x1bf),_0x5a3684+'px')[_0x56552c(0x21b)]('top',_0x239d51+'px');}else tooltip['style'](_0x56552c(0x1bf),d3['event'][_0x56552c(0x22d)]+0xa+'px')[_0x56552c(0x21b)]('top',d3[_0x56552c(0x1d9)][_0x56552c(0x19a)]-0x1c+'px');window[_0x56552c(0x1b9)]<=0x300&&setTimeout(function(){var _0x5867ee=_0x56552c;tooltip[_0x5867ee(0x201)]()[_0x5867ee(0x205)](0xc8)['style']('opacity',0x0);},0x3e8);})['on'](_0x5c0f89(0x234),function(_0x184a39){var _0x5fc7fe=_0x5c0f89;window[_0x5fc7fe(0x1b9)]>0x300&&tooltip['transition']()[_0x5fc7fe(0x205)](0x1f4)['style'](_0x5fc7fe(0x21f),0x0);var _0x1516c0=clickedCircles[_0x5fc7fe(0x1c1)](_0x184a39[0x1]);d3[_0x5fc7fe(0x1de)](this)[_0x5fc7fe(0x201)]()[_0x5fc7fe(0x205)](0xc8)[_0x5fc7fe(0x24a)]('r',0x8)[_0x5fc7fe(0x21b)](_0x5fc7fe(0x240),function(){return _0x1516c0?getLeagueColor(_0x184a39[0x2]):'rgba(70,\x20130,\x20180,\x200.7)';});})['on']('click',function(_0x4c8611){var _0x24c8b8=_0x5c0f89,_0x2982b3=d3['select'](this)['classed'](_0x24c8b8(0x24d));_0x2982b3&&resetSearch();var _0x22ad31=clickedCircles['indexOf'](_0x4c8611[0x1]);_0x22ad31===-0x1?(clickedCircles[_0x24c8b8(0x1e1)](_0x4c8611[0x1]),d3[_0x24c8b8(0x1de)](this)[_0x24c8b8(0x21b)]('fill',getLeagueColor(_0x4c8611[0x2]))[_0x24c8b8(0x21b)](_0x24c8b8(0x221),'#000')[_0x24c8b8(0x21b)](_0x24c8b8(0x1f0),0x2),addTeamLabel(_0x4c8611)):(clickedCircles[_0x24c8b8(0x1ae)](_0x22ad31,0x1),d3['select'](this)[_0x24c8b8(0x21b)](_0x24c8b8(0x240),_0x24c8b8(0x1a5))[_0x24c8b8(0x21b)](_0x24c8b8(0x221),_0x24c8b8(0x19e)),svg['selectAll']('.team-label-'+_0x4c8611[0x1][_0x24c8b8(0x1bd)](/\s+/g,'-')['toLowerCase']())[_0x24c8b8(0x261)]());updateSelectAllButtonText();var _0x2d14ae=document[_0x24c8b8(0x18f)]('select-league')[_0x24c8b8(0x1a9)];updateLeagueLegend(_0x2d14ae);}),clickedCircles['forEach'](function(_0x5badb5){var _0x17c9cd=_0x5c0f89,_0x330ebb=filteredData[_0x17c9cd(0x1fa)](function(_0x3409d6){return _0x3409d6[0x1]===_0x5badb5;});_0x330ebb&&addTeamLabel(_0x330ebb);}),updateSelectAllButtonText(),updateLeagueLegend(_0x560dfd);}function updateSelectAllButtonText(){var _0x16c892=_0x1a186f,_0x19d89b=document[_0x16c892(0x18f)]('select-icon'),_0x5b6e4d=document[_0x16c892(0x18f)](_0x16c892(0x1bb)),_0x46cacd=filteredData[_0x16c892(0x208)](function(_0x5aeb0d){var _0xf8b3d5=_0x16c892;return clickedCircles[_0xf8b3d5(0x1c1)](_0x5aeb0d[0x1]);});_0x46cacd?(_0x19d89b['className']=_0x16c892(0x1a6),_0x5b6e4d&&(window['currentTranslations']&&window[_0x16c892(0x235)]['tooltip']?_0x5b6e4d[_0x16c892(0x27c)]=window[_0x16c892(0x235)][_0x16c892(0x26e)]['unselectAll']||'Unselect\x20all\x20teams':_0x5b6e4d['textContent']='Unselect\x20all\x20teams')):(_0x19d89b[_0x16c892(0x1d5)]='ion-ios-circle-filled',_0x5b6e4d&&(window[_0x16c892(0x235)]&&window[_0x16c892(0x235)][_0x16c892(0x26e)]?_0x5b6e4d[_0x16c892(0x27c)]=window[_0x16c892(0x235)][_0x16c892(0x26e)][_0x16c892(0x26a)]||'Select\x20all\x20teams':_0x5b6e4d[_0x16c892(0x27c)]='Select\x20all\x20teams'));}selectX['on'](_0x1a186f(0x1a8),updateChart),selectY['on'](_0x1a186f(0x1a8),updateChart);function removeSpecialCharsAndDiacritics(_0x7f029){var _0x6c0d29=_0x1a186f;if(!_0x7f029)return'';return _0x7f029['normalize'](_0x6c0d29(0x219))['replace'](/[\u0300-\u036f]/g,'')[_0x6c0d29(0x1bd)](/Ø/g,'O')[_0x6c0d29(0x1bd)](/ø/g,'o');}var searchBar=document[_0x1a186f(0x18f)](_0x1a186f(0x21e));function _0xe6bf(_0xe85671,_0x302fc8){var _0x32a41c=_0x32a4();return _0xe6bf=function(_0xe6bf20,_0x44b900){_0xe6bf20=_0xe6bf20-0x18d;var _0x481a3b=_0x32a41c[_0xe6bf20];return _0x481a3b;},_0xe6bf(_0xe85671,_0x302fc8);}searchBar[_0x1a186f(0x27a)](_0x1a186f(0x226),function(){var _0x2122b9=_0x1a186f,_0x3a2f37=searchBar[_0x2122b9(0x1a9)][_0x2122b9(0x23f)]();if(_0x3a2f37===''){resetSearch();return;}var _0x2756a8=removeSpecialCharsAndDiacritics(_0x3a2f37);svg[_0x2122b9(0x26a)](_0x2122b9(0x273))[_0x2122b9(0x1b3)]('search-match',![])['style'](_0x2122b9(0x240),function(_0x20f641){var _0x4bc93e=_0x2122b9;return clickedCircles[_0x4bc93e(0x1c1)](_0x20f641[0x1])?getLeagueColor(_0x20f641[0x2]):_0x4bc93e(0x1a5);})[_0x2122b9(0x21b)](_0x2122b9(0x221),function(_0x236ad8){var _0x256c95=_0x2122b9;return clickedCircles[_0x256c95(0x1c1)](_0x236ad8[0x1])?_0x256c95(0x21c):_0x256c95(0x19e);})[_0x2122b9(0x21b)]('stroke-width',function(_0x1ce92d){var _0x2cf826=_0x2122b9;return clickedCircles[_0x2cf826(0x1c1)](_0x1ce92d[0x1])?0x2:0x0;})['style']('filter','none')[_0x2122b9(0x211)](function(){var _0x4f8d1e=_0x2122b9;d3[_0x4f8d1e(0x1de)](this)[_0x4f8d1e(0x21b)]('r',null);}),svg['selectAll'](_0x2122b9(0x251))[_0x2122b9(0x1b3)](_0x2122b9(0x24d),![])[_0x2122b9(0x1b3)](_0x2122b9(0x244),![]);var _0x35c207=[];svg[_0x2122b9(0x26a)]('circle')[_0x2122b9(0x1df)](function(_0x519764){var _0xc28d15=_0x2122b9,_0x5eaefc=_0x519764[0x1][_0xc28d15(0x23f)](),_0x15d9ce=removeSpecialCharsAndDiacritics(_0x5eaefc),_0x275260=_0x5eaefc['includes'](_0x3a2f37)||_0x15d9ce['includes'](_0x2756a8);return _0x275260&&_0x35c207[_0xc28d15(0x1e1)](_0x519764[0x1]),_0x275260;})[_0x2122b9(0x1b3)](_0x2122b9(0x24d),!![])[_0x2122b9(0x211)](function(){var _0x59cf92=_0x2122b9;this[_0x59cf92(0x220)][_0x59cf92(0x216)](this);}),_0x35c207[_0x2122b9(0x1ca)]>0x0?(svg[_0x2122b9(0x26a)](_0x2122b9(0x251))['classed'](_0x2122b9(0x244),!![]),svg[_0x2122b9(0x26a)](_0x2122b9(0x251))[_0x2122b9(0x1df)](function(){var _0x5a3bec=_0x2122b9,_0x8834b3=d3[_0x5a3bec(0x1de)](this)[_0x5a3bec(0x1b6)]();return _0x35c207[_0x5a3bec(0x1c1)](_0x8834b3);})[_0x2122b9(0x1b3)](_0x2122b9(0x24d),!![])[_0x2122b9(0x1b3)](_0x2122b9(0x244),![])[_0x2122b9(0x211)](function(){var _0x134cd0=_0x2122b9;this[_0x134cd0(0x220)]['appendChild'](this);}),_0x35c207['forEach'](function(_0x417679){var _0x3095ed=_0x2122b9,_0x4c8ec3=_0x3095ed(0x1c4)+_0x417679[_0x3095ed(0x1bd)](/\s+/g,'-')['toLowerCase']();if(svg[_0x3095ed(0x1de)]('.'+_0x4c8ec3)[_0x3095ed(0x1d8)]()===0x0){var _0x3c3965=filteredData['find'](function(_0x2a5cc0){return _0x2a5cc0[0x1]===_0x417679;});_0x3c3965&&(addTeamLabel(_0x3c3965),svg['select']('.'+_0x4c8ec3)['classed']('search-match',!![]));}})):(svg['selectAll']('.team-label')[_0x2122b9(0x211)](function(){var _0x4d2a97=_0x2122b9,_0x1982da=d3['select'](this),_0x20f8b0=_0x1982da['text']();!clickedCircles[_0x4d2a97(0x1c1)](_0x20f8b0)&&_0x1982da[_0x4d2a97(0x261)]();}),svg[_0x2122b9(0x26a)](_0x2122b9(0x273))['style'](_0x2122b9(0x240),function(_0x3959d8){var _0xf8926=_0x2122b9;return clickedCircles[_0xf8926(0x1c1)](_0x3959d8[0x1])?getLeagueColor(_0x3959d8[0x2]):_0xf8926(0x1a5);})[_0x2122b9(0x21b)](_0x2122b9(0x221),function(_0x3ca229){var _0x26c265=_0x2122b9;return clickedCircles[_0x26c265(0x1c1)](_0x3ca229[0x1])?_0x26c265(0x21c):'none';})['style'](_0x2122b9(0x1f0),function(_0x4d51fa){var _0x19384=_0x2122b9;return clickedCircles[_0x19384(0x1c1)](_0x4d51fa[0x1])?0x2:0x0;}));});function _0x32a4(){var _0xffa9cc=['line','font-size','anchor','rotate(-90)','selected','184116leOlwl','getComputedTextLength','median','stroke-width','bottom','querySelector','end','data-i18n','open','La\x20Liga','data','innerHTML','1587JvEgmh','find','div','findIndex','createElement','</span><br/>','28962SDywss','<br/>','transition','hanging','setAttribute','class','duration','nice','Bundesliga','every','getBoundingClientRect','body','block','#333','.chart-container','6548ApvnCT','.custom-select-trigger,\x20.metric-select-trigger','add','each','click','metrics.','innerHeight','Hide\x20median\x20lines','appendChild','xG\x20per\x2090','tooltip.xg-line-above','NFD','text-anchor','style','#000','ArrowDown','search-bar','opacity','parentNode','stroke','Teams\x20below\x20this\x20line\x20are\x20scoring\x20fewer\x20goals\x20than\x20expected.','.xy-line-label-bg','x-axis','#select-x','input','enter','split','classList','bold','keydown','x-metric-trigger','pageX','rgba(0,\x200,\x200,\x200.3)','pct','option','Ligue\x201','Show\x20median\x20lines','font-weight','mouseout','currentTranslations','toggle','x-metric-options','fontWeight','Premier\x20League','append','team-label\x20','tooltip.xg-line-below','text.team-label','hideMedianLines','toLowerCase','fill','forEach','cloneNode','Escape','search-dimmed','showMedianLines','</span>','right','height','property','attr','dark-mode','toggle-median-lines','search-match','.custom-select-trigger.open,\x20.metric-select-trigger.open','range','pointer','.team-label','GET','Serie\x20A','500','#2ecc71','5,3','.xy-line-bg','select-y','x-label','select-x','mouseover','preventDefault','map','Teams\x20right\x20of\x20this\x20line\x20are\x20scoring\x20more\x20goals\x20than\x20expected.','league-select-options','legend-color','remove','scrollIntoView','domain','rgb(255,\x2020,\x20147,\x200.7)','15px','resize','querySelectorAll','rgb(153,\x2050,\x20204,\x200.7)','tickSize','selectAll','all','21ooCSjC','axisLeft','tooltip','sqrt','pow','12px','Top\x205\x20Leagues','circle','html','axisBottom','rgb(255,\x200,\x200,\x200.7)','dispatchEvent','scaleLinear','.chart-wrapper','addEventListener','legend-item','textContent','.selected','indexOf','getElementById','extent','median-line','stroke-dasharray','metrics','rgb(0,\x20191,\x20255,\x200.7)','320118aGHYxu','key','245685CQKkVO','call','toFixed','pageY','transform','1808408Aehazb','apply','none','contains','interrupt','start','8px','5230bRaVaA','responseText','rgba(70,\x20130,\x20180,\x200.7)','ion-ios-circle-outline','Goals\x20per\x2090','change','value','display','<strong>','y-metric-options','rgb(255,\x20223,\x200,\x200.7)','splice','font-family','Inter,\x20sans-serif','nextElementSibling','send','classed','flex','median-lines-tooltip','text','translate(0,','xy-line-hover','innerWidth','from','select-all-tooltip','14px','replace','data-value','left','rgb(255,\x20140,\x200,\x200.7)','includes','select-league','cursor','team-label-','919471NjgBcw','.custom-select-options,\x20.metric-select-options','width','DOMContentLoaded','iconify-icon','length','keys','tooltip.xg-line-right','translate(','min','league-select-trigger','node','league-legend','middle','match','slice','className','trim','top','size','event','target','#scatter-plot','getAttribute','Enter','select','filter','ArrowUp','push','span','y-metric-trigger','<span>','getBBox','max','transparent'];_0x32a4=function(){return _0xffa9cc;};return _0x32a4();}function resetSearch(){var _0x1c1675=_0x1a186f;searchBar[_0x1c1675(0x1a9)]='',svg['selectAll']('circle')[_0x1c1675(0x1b3)](_0x1c1675(0x24d),![])[_0x1c1675(0x21b)](_0x1c1675(0x240),function(_0x31a27b){var _0x351ec5=_0x1c1675;return clickedCircles[_0x351ec5(0x1c1)](_0x31a27b[0x1])?getLeagueColor(_0x31a27b[0x2]):_0x351ec5(0x1a5);})[_0x1c1675(0x21b)](_0x1c1675(0x221),function(_0xc54752){var _0x11c0a8=_0x1c1675;return clickedCircles[_0x11c0a8(0x1c1)](_0xc54752[0x1])?_0x11c0a8(0x21c):_0x11c0a8(0x19e);})[_0x1c1675(0x21b)](_0x1c1675(0x1f0),function(_0x2ef64c){var _0x4ad029=_0x1c1675;return clickedCircles[_0x4ad029(0x1c1)](_0x2ef64c[0x1])?0x2:0x0;})[_0x1c1675(0x21b)]('filter',_0x1c1675(0x19e))[_0x1c1675(0x211)](function(){var _0x3acf7c=_0x1c1675;d3['select'](this)[_0x3acf7c(0x21b)]('r',null),d3[_0x3acf7c(0x1de)](this)[_0x3acf7c(0x1a0)]();}),svg[_0x1c1675(0x26a)](_0x1c1675(0x251))['classed']('search-match',![])['classed'](_0x1c1675(0x244),![])[_0x1c1675(0x211)](function(){var _0x3d3e87=_0x1c1675;d3[_0x3d3e87(0x1de)](this)[_0x3d3e87(0x1a0)]();}),svg[_0x1c1675(0x26a)](_0x1c1675(0x251))['each'](function(){var _0xeb6ec8=_0x1c1675,_0x4b83ee=d3[_0xeb6ec8(0x1de)](this),_0x1f8e6d=_0x4b83ee[_0xeb6ec8(0x1b6)]();!clickedCircles[_0xeb6ec8(0x1c1)](_0x1f8e6d)&&_0x4b83ee['remove']();});}var toggleButton=document[_0x1a186f(0x18f)](_0x1a186f(0x24c));toggleButton[_0x1a186f(0x27a)](_0x1a186f(0x212),function(){var _0x2ac4e8=_0x1a186f;medianLinesVisible=!medianLinesVisible,updateChart();const _0x31a0bf=document[_0x2ac4e8(0x18f)](_0x2ac4e8(0x1b5));window[_0x2ac4e8(0x235)]&&window[_0x2ac4e8(0x235)][_0x2ac4e8(0x26e)]?_0x31a0bf['textContent']=medianLinesVisible?window['currentTranslations'][_0x2ac4e8(0x26e)][_0x2ac4e8(0x23e)]||'Hide\x20median\x20lines':window[_0x2ac4e8(0x235)][_0x2ac4e8(0x26e)][_0x2ac4e8(0x245)]||_0x2ac4e8(0x232):_0x31a0bf[_0x2ac4e8(0x27c)]=medianLinesVisible?'Hide\x20median\x20lines':'Show\x20median\x20lines';});function selectAllCircles(){var _0x324aea=_0x1a186f,_0x4385b1=filteredData[_0x324aea(0x208)](function(_0x5ad89b){var _0xe9b6d1=_0x324aea;return clickedCircles[_0xe9b6d1(0x1c1)](_0x5ad89b[0x1]);});_0x4385b1?(clickedCircles=[],svg['selectAll'](_0x324aea(0x273))['style'](_0x324aea(0x240),_0x324aea(0x1a5))[_0x324aea(0x21b)](_0x324aea(0x221),'none'),svg[_0x324aea(0x26a)](_0x324aea(0x251))[_0x324aea(0x261)]()):(svg[_0x324aea(0x26a)](_0x324aea(0x273))['each'](function(_0x1c91de){var _0x304166=_0x324aea;!clickedCircles[_0x304166(0x1c1)](_0x1c91de[0x1])&&(clickedCircles[_0x304166(0x1e1)](_0x1c91de[0x1]),d3[_0x304166(0x1de)](this)[_0x304166(0x21b)](_0x304166(0x240),getLeagueColor(_0x1c91de[0x2]))['style'](_0x304166(0x221),_0x304166(0x21c))['style'](_0x304166(0x1f0),0x2));}),filteredData['forEach'](function(_0x26b164){addTeamLabel(_0x26b164);}));updateSelectAllButtonText();var _0x22010d=document[_0x324aea(0x18f)](_0x324aea(0x1c2))[_0x324aea(0x1a9)];updateLeagueLegend(_0x22010d);}updateChart(),initializeCustomSelectors();function updateLeagueLegend(_0x2ce8fd){var _0x3e2c03=_0x1a186f,_0x266163=document['getElementById'](_0x3e2c03(0x1d1));if(_0x2ce8fd!==_0x3e2c03(0x26b)&&_0x2ce8fd!=='Top\x205\x20Leagues'){_0x266163[_0x3e2c03(0x21b)][_0x3e2c03(0x1aa)]=_0x3e2c03(0x19e);return;}if(clickedCircles[_0x3e2c03(0x1ca)]===0x0){_0x266163[_0x3e2c03(0x21b)]['display']=_0x3e2c03(0x19e);return;}var _0x3456f3=![];for(var _0xbb478=0x0;_0xbb478<filteredData[_0x3e2c03(0x1ca)];_0xbb478++){if(clickedCircles['includes'](filteredData[_0xbb478][0x1])){_0x3456f3=!![];break;}}if(!_0x3456f3){_0x266163[_0x3e2c03(0x21b)][_0x3e2c03(0x1aa)]='none';return;}_0x266163['style'][_0x3e2c03(0x1aa)]=_0x3e2c03(0x1b4),_0x266163[_0x3e2c03(0x1f8)]='';var _0x246f52=document['createElement'](_0x3e2c03(0x1fb));_0x246f52[_0x3e2c03(0x21b)][_0x3e2c03(0x238)]=_0x3e2c03(0x22a),_0x246f52[_0x3e2c03(0x21b)]['marginRight']=_0x3e2c03(0x265),_0x266163[_0x3e2c03(0x216)](_0x246f52);var _0x3c5e2c=[];if(_0x2ce8fd===_0x3e2c03(0x26b))_0x3c5e2c=Object[_0x3e2c03(0x1cb)](leagueColors);else _0x2ce8fd===_0x3e2c03(0x272)&&(_0x3c5e2c=[_0x3e2c03(0x239),'La\x20Liga',_0x3e2c03(0x207),_0x3e2c03(0x253),_0x3e2c03(0x231)]);_0x3c5e2c[_0x3e2c03(0x241)](function(_0x51e2ab){var _0x1ad524=_0x3e2c03,_0x139d0a=document[_0x1ad524(0x1fd)]('div');_0x139d0a[_0x1ad524(0x1d5)]=_0x1ad524(0x27b);var _0x3432cf=document[_0x1ad524(0x1fd)]('div');_0x3432cf[_0x1ad524(0x1d5)]=_0x1ad524(0x260),_0x3432cf['style']['backgroundColor']=leagueColors[_0x51e2ab];var _0xcab825=document[_0x1ad524(0x1fd)]('span');_0xcab825[_0x1ad524(0x27c)]=_0x51e2ab,_0x139d0a[_0x1ad524(0x216)](_0x3432cf),_0x139d0a[_0x1ad524(0x216)](_0xcab825),_0x266163[_0x1ad524(0x216)](_0x139d0a);});}function addTeamLabel(_0x36b511,_0xd8fd5c){var _0x37e004=_0x1a186f,_0x3bcacf=xScale(_0x36b511[header[_0x37e004(0x18e)](xMetric)]),_0x4d94c6=yScale(_0x36b511[header[_0x37e004(0x18e)](yMetric)]),_0x589c6f=_0x37e004(0x1c4)+_0x36b511[0x1]['toLowerCase']()[_0x37e004(0x1bd)](/\s+/g,'-');if(svg['select']('.'+_0x589c6f)[_0x37e004(0x1d8)]()>0x0)return;var _0x2921c7=svg[_0x37e004(0x23a)](_0x37e004(0x1b6))[_0x37e004(0x24a)]('class','temp-label')[_0x37e004(0x1b6)](_0x36b511[0x1])[_0x37e004(0x21b)](_0x37e004(0x1af),_0x37e004(0x1b0))['style'](_0x37e004(0x1e9),'12px')[_0x37e004(0x21b)](_0x37e004(0x21f),0x0),_0x1c4c28=_0x2921c7[_0x37e004(0x1d0)]()[_0x37e004(0x1ee)]();_0x2921c7['remove']();var _0x443206=[{'dx':0x8,'dy':0x0,'anchor':_0x37e004(0x1a1)},{'dx':-0x8,'dy':0x0,'anchor':_0x37e004(0x1f3)},{'dx':0x0,'dy':-0x8,'anchor':_0x37e004(0x1d2)},{'dx':0x0,'dy':0x8,'anchor':_0x37e004(0x1d2)}],_0x316930=[];svg[_0x37e004(0x26a)](_0x37e004(0x23d))['each'](function(){var _0x4b5f90=_0x37e004,_0x5ba5d8=this[_0x4b5f90(0x1e5)]();_0x316930[_0x4b5f90(0x1e1)]({'x1':_0x5ba5d8['x']-0x2,'y1':_0x5ba5d8['y']-0x2,'x2':_0x5ba5d8['x']+_0x5ba5d8[_0x4b5f90(0x1c7)]+0x2,'y2':_0x5ba5d8['y']+_0x5ba5d8[_0x4b5f90(0x248)]+0x2});});var _0x4b8bc0=null,_0x3befc2=0xc,_0x37c5fa=width,_0x5aa353=height;if(!_0xd8fd5c){for(var _0x9cfa04=0x0;_0x9cfa04<_0x443206['length'];_0x9cfa04++){var _0xe65809=_0x443206[_0x9cfa04],_0x6e4b1c=_0x3bcacf+_0xe65809['dx'],_0x2550a6=_0x4d94c6+_0xe65809['dy'],_0x429f7e={'x1':_0xe65809[_0x37e004(0x1ea)]==='end'?_0x6e4b1c-_0x1c4c28:_0xe65809[_0x37e004(0x1ea)]===_0x37e004(0x1d2)?_0x6e4b1c-_0x1c4c28/0x2:_0x6e4b1c,'y1':_0xe65809['dy']<0x0?_0x2550a6-_0x3befc2:_0x2550a6,'x2':_0xe65809['anchor']===_0x37e004(0x1a1)?_0x6e4b1c+_0x1c4c28:_0xe65809[_0x37e004(0x1ea)]===_0x37e004(0x1d2)?_0x6e4b1c+_0x1c4c28/0x2:_0x6e4b1c,'y2':_0xe65809['dy']<0x0?_0x2550a6:_0x2550a6+_0x3befc2};if(_0x429f7e['x1']<0x0||_0x429f7e['x2']>_0x37c5fa||_0x429f7e['y1']<0x0||_0x429f7e['y2']>_0x5aa353)continue;var _0x494730=![];for(var _0x1588c3=0x0;_0x1588c3<_0x316930[_0x37e004(0x1ca)];_0x1588c3++){var _0x23d063=_0x316930[_0x1588c3];if(!(_0x429f7e['x2']<_0x23d063['x1']||_0x429f7e['x1']>_0x23d063['x2']||_0x429f7e['y2']<_0x23d063['y1']||_0x429f7e['y1']>_0x23d063['y2'])){_0x494730=!![];break;}}if(!_0x494730){_0x4b8bc0=_0xe65809;break;}}if(!_0x4b8bc0){var _0x572c0e=0x32,_0x5e8db9=0x0;_0x316930['forEach'](function(_0x43ddc3){var _0x404d3c=_0x37e004,_0xed180a=(_0x43ddc3['x1']+_0x43ddc3['x2'])/0x2,_0x40af95=(_0x43ddc3['y1']+_0x43ddc3['y2'])/0x2,_0x4ca388=Math[_0x404d3c(0x26f)](Math[_0x404d3c(0x270)](_0xed180a-_0x3bcacf,0x2)+Math[_0x404d3c(0x270)](_0x40af95-_0x4d94c6,0x2));_0x4ca388<_0x572c0e&&_0x5e8db9++;});if(_0x5e8db9>0x3)return;}}if(!_0x4b8bc0){_0x4b8bc0=_0x443206[0x0];var _0x6e4b1c=_0x3bcacf+_0x4b8bc0['dx'],_0x2550a6=_0x4d94c6+_0x4b8bc0['dy'],_0x429f7e={'x1':_0x4b8bc0[_0x37e004(0x1ea)]===_0x37e004(0x1f3)?_0x6e4b1c-_0x1c4c28:_0x4b8bc0[_0x37e004(0x1ea)]===_0x37e004(0x1d2)?_0x6e4b1c-_0x1c4c28/0x2:_0x6e4b1c,'y1':_0x4b8bc0['dy']<0x0?_0x2550a6-_0x3befc2:_0x2550a6,'x2':_0x4b8bc0['anchor']==='start'?_0x6e4b1c+_0x1c4c28:_0x4b8bc0['anchor']===_0x37e004(0x1d2)?_0x6e4b1c+_0x1c4c28/0x2:_0x6e4b1c,'y2':_0x4b8bc0['dy']<0x0?_0x2550a6:_0x2550a6+_0x3befc2};if(_0x429f7e['x1']<0x0)_0x4b8bc0=_0x443206[0x0];else _0x429f7e['x2']>_0x37c5fa&&(_0x4b8bc0=_0x443206[0x1]);if(_0x429f7e['y1']<0x0)_0x4b8bc0=_0x443206[0x3];else _0x429f7e['y2']>_0x5aa353&&(_0x4b8bc0=_0x443206[0x2]);}var _0x578d31=svg['append'](_0x37e004(0x1b6))[_0x37e004(0x24a)](_0x37e004(0x204),_0x37e004(0x23b)+_0x589c6f)['attr']('x',_0x3bcacf+_0x4b8bc0['dx'])[_0x37e004(0x24a)]('y',_0x4d94c6+_0x4b8bc0['dy'])[_0x37e004(0x24a)](_0x37e004(0x21a),_0x4b8bc0[_0x37e004(0x1ea)])[_0x37e004(0x24a)]('dominant-baseline',_0x4b8bc0['dy']<0x0?'auto':_0x37e004(0x202))[_0x37e004(0x1b6)](_0x36b511[0x1])['style'](_0x37e004(0x1af),'Inter,\x20sans-serif')[_0x37e004(0x21b)](_0x37e004(0x1e9),_0x37e004(0x271))[_0x37e004(0x21b)](_0x37e004(0x233),_0x37e004(0x254))[_0x37e004(0x21b)](_0x37e004(0x240),_0x37e004(0x20c));_0xd8fd5c&&_0x578d31[_0x37e004(0x1b3)](_0x37e004(0x24d),!![]);var _0x2ea8bc=_0x578d31[_0x37e004(0x1d0)]()['getBBox']();_0x316930['push']({'x1':_0x2ea8bc['x']-0x2,'y1':_0x2ea8bc['y']-0x2,'x2':_0x2ea8bc['x']+_0x2ea8bc['width']+0x2,'y2':_0x2ea8bc['y']+_0x2ea8bc['height']+0x2});}document[_0x1a186f(0x27a)](_0x1a186f(0x1c8),function(){var _0x411106=_0x1a186f;const _0x103597=document['getElementById'](_0x411106(0x1b5));_0x103597[_0x411106(0x27c)]=medianLinesVisible?_0x411106(0x215):_0x411106(0x232);});    
    </script>
  <script>



        // Global translation helper function
        function getTranslation(key, defaultText) {
            // Split the key into parts (e.g., "tooltip.xg-line-title" -> ["tooltip", "xg-line-title"])
            const keys = key.split('.');
            
            // Try to find the translation in the current language
            try {
                let currentTranslations = window.currentTranslations || {};
                for (const k of keys) {
                    if (currentTranslations && currentTranslations[k]) {
                        currentTranslations = currentTranslations[k];
                    } else {
                        return defaultText;
                    }
                }
                return currentTranslations;
            } catch (e) {
                return defaultText;
            }
        }
        
    
  function setLanguage(language) {
    localStorage.setItem('preferredLanguage', language);
    const url = new URL(window.location.href);
    if (language === 'en') {
      url.searchParams.delete('lang');
    } else {
      url.searchParams.set('lang', language);
    }
    window.history.pushState({}, '', url);
    applyLanguage(language);
  }
  
  function getPreferredLanguage() {
    // PRIORITY 1: Check URL parameter first
    const urlParams = new URLSearchParams(window.location.search);
    const langParam = urlParams.get('lang');
    if (langParam) {
      return langParam;
    }
    // PRIORITY 2: Check localStorage
    const storedLang = localStorage.getItem('preferredLanguage');
    if (storedLang) {
      return storedLang;
    }
    // PRIORITY 3: Use browser language
    return getBrowserLanguage() || 'en';
  }

  function getBrowserLanguage() {
    return navigator.language.slice(0, 2);
  }

  function applyLanguage(language) {
    console.log(language);

    if (language === 'en') {
      return;
    }

    
    fetch(`locales/${language}.json`)
      .then(response => {
        // Don't throw an error, just return null if response is not OK
        return response.ok ? response.json() : null;
      })
      .then(translations => {
        // Only proceed if translations exist
        if (translations) {
            window.currentTranslations = translations;
          document.querySelectorAll('[data-i18n]').forEach(element => {
            const keys = element.getAttribute('data-i18n').split('.');
            let value = translations;
            for (const key of keys) {
              if (value === undefined || value === null) break;
              value = value[key];
            }
            if (value) {
              if (element.tagName === 'META') {
              element.setAttribute('content', value);
          } else if (element.tagName === 'INPUT') {
              element.setAttribute('placeholder', value);
          } else if (value.includes('<')) {
              element.innerHTML = value;
          } else {
              element.textContent = value;
          }          }
          });
          // REMOVE FOR PAGES WITH NO METADATA
          document.querySelector('meta[name="language"]').setAttribute('content', language);
        }
      })
      .catch(() => {
        // Completely empty catch block to silently ignore any errors
      });
  }
  
  const preferredLanguage = getPreferredLanguage();
  applyLanguage(preferredLanguage);
  
  // BUTTON LANGUAGE SWITCHER REMOVE FOR PAGES WITH NO LANGUAGE SWITCHER
  document.addEventListener('DOMContentLoaded', function() {
    const languageButton = document.getElementById('languageButton');
    const languageDropdown = document.getElementById('languageDropdown');
    

    if (languageButton) {
      languageButton.addEventListener('click', function(e) {
        e.stopPropagation();
        languageDropdown.classList.toggle('show');
      });
    }
  
    document.querySelectorAll('.language-option').forEach(option => {
      option.addEventListener('click', function(e) {
        e.preventDefault();
        const lang = this.getAttribute('href').split('=')[1];
        setLanguage(lang);
        languageDropdown.classList.remove('show');
      });
    });
  
    document.addEventListener('click', function(event) {
      if (!event.target.closest('.language-switcher-container')) {
        if (languageDropdown) {
          languageDropdown.classList.remove('show');
        }
      }
    });
  });


function toggleDarkMode() {
            const body = document.querySelector("body");
            body.classList.toggle("dark-mode");
            
            // Store the user's preference in local storage
            const isDarkMode = body.classList.contains("dark-mode");
            localStorage.setItem("darkMode", isDarkMode);
            
            // Update chart to apply dark mode styles to SVG elements
        }
        
        // Check if user has a stored preference for dark mode
        document.addEventListener('DOMContentLoaded', function() {
            const storedDarkMode = localStorage.getItem("darkMode");
            
            if (storedDarkMode === "true") {
                const body = document.querySelector("body");
                body.classList.add("dark-mode");
            }
            
 
        });
        
        function takeScreenshot() {
            const chartContainer = document.querySelector('.chart-container');
            const isDarkMode = document.body.classList.contains('dark-mode');
            
            html2canvas(chartContainer, {
                scale: 2, // Higher quality
                backgroundColor: isDarkMode ? '#2c2c2c' : '#FFFFFF',
                allowTaint: true,
                useCORS: true,
                logging: false
            }).then(function(renderedCanvas) {
                const finalCanvas = document.createElement('canvas');
                finalCanvas.width = renderedCanvas.width;
                finalCanvas.height = renderedCanvas.height;
                const finalCtx = finalCanvas.getContext('2d');
                finalCtx.drawImage(renderedCanvas, 0, 0);
                
                // Load the watermark
                const watermarkImg = new Image();
                watermarkImg.crossOrigin = "Anonymous";
                
                watermarkImg.onload = function() {
                    const watermarkWidth = finalCanvas.width * 0.3;
                    const watermarkHeight = (watermarkWidth / watermarkImg.width) * watermarkImg.height;
                    
                    const x = (finalCanvas.width - watermarkWidth) / 2;
                    const y = (finalCanvas.height - watermarkHeight) / 2;
                    
                    finalCtx.save();
                    finalCtx.globalAlpha = 0.04;
                    finalCtx.drawImage(watermarkImg, x, y, watermarkWidth, watermarkHeight);
                    finalCtx.restore();
                    
                    const dataURL = finalCanvas.toDataURL('image/png', 1.0);
                    const link = document.createElement('a');
                    link.download = 'DataMB Screenshot.png';
                    link.href = dataURL;
                    link.click();
                };
                watermarkImg.src = 'https://datamb.football/logo.png';
            }).catch(function(error) {
            });
        }
        
    </script>
         <center>
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7677714701428206"
                 crossorigin="anonymous"></script>
            <!-- radarplotsearch -->
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-7677714701428206"
                 data-ad-slot="6673239737"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script></center>
</body>
</html>
