<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <meta name="language" content="en">
    <link rel="canonical" href="https://datamb.football/plotteam/" />
<link rel="alternate" hreflang="x-default" href="https://datamb.football/plotteam"/>
<link rel="alternate" hreflang="en" href="https://datamb.football/plotteam/?lang=en" />
    <link rel="shortcut icon" type="image/x-icon" href="https://datamb.football/favicon.ico">
    <meta name="description" data-i18n="meta.description" content="Plot Top 7 League team statistics. Visualize team performance and analyze multiple metrics such as Goals, Goals conceded, xG, Shots on target, Pressing, Defensive duels, Pass completion and more for teams in Premier League, La Liga, Bundesliga, Serie A, Ligue 1, Eredivisie, Primeira Liga.">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@DataMB_">
    <meta name="twitter:title" content="DataMB | Plot Teams">
    <meta name="twitter:description" content="Generate scatter plots for Top 7 League teams">
    <meta name="twitter:image" content="https://datamb.football/vignettes/teamplots.png">
    <meta property="og:image" content="https://datamb.football/vignettes/teamplots.png">
    <title data-i18n="meta.title">DataMB | Plot Teams</title>
    <script>
        (function() {
            var width = window.innerWidth;
            var viewportMeta = document.querySelector('meta[name="viewport"]');
            if (viewportMeta) {
      if (width < 645) {
                
            var initialScale = width / 645;
      viewportMeta.setAttribute('content', 'width=device-width, initial-scale=' + initialScale + ', user-scalable=no');
      } else {
                  var fixedScale = 1;
          viewportMeta.setAttribute('content', 'width=device-width, initial-scale=' + fixedScale + ', user-scalable=no');
      
        }
          } 
      })();
      </script>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --background-color: #f5f7fa;
            --container-bg: #ffffff;
            --text-color: #333333;
            --border-color: #e0e0e0;
            --hover-color: #f0f0f0;
            --button-color: #3498db;
            --button-text: #ffffff;
            --header-bg: #ffffff;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .dark-mode {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --background-color: #0e0f0f;
            --container-bg: #1a1a1a;
            --text-color: #e0e0e0;
            --border-color: #333333;
            --hover-color: #252525;
            --button-color: #2980b9;
            --button-text: #ffffff;
            --header-bg: #0e0f0f;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s;
        }

        .header {
            background-color: var(--header-bg);
            display: flex;
            padding: 20px;
            align-items: center;
            justify-content: space-between;
            box-shadow: var(--shadow);
            position: relative;
            font-family: system-ui;
            top: 0;
            z-index: 100;
        }


        .container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
            box-sizing: border-box;
        }

        /* Replace plot-container with a simpler structure */
        .chart-wrapper {
            background-color: var(--container-bg);
            border-radius: 10px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 30px;
            position: relative;
            width: 100%;
        }

        .legend {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            padding: 10px;
            border-top: 1px solid var(--border-color);
            width: 100%;
        }

        .legend-item {
            display: flex;
            align-items: center;
            font-size: 12px;
        }

        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 5px;
            border: 1px solid rgba(0, 0, 0, 0.2);
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 20px;
            justify-content: center;
            align-items: center;
        }

        select, input {
            padding: 8px 12px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            background-color: var(--container-bg);
            color: var(--text-color);
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            transition: border-color 0.2s;
            height: 36px;
            box-sizing: border-box;
        }

        select:focus, input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        /* Ensure consistent height for controls in the same row */
        select, input, .btn:not(.btn-icon), .custom-select-trigger, .metric-select-trigger {
            height: 36px;
            box-sizing: border-box;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            background-color: var(--button-color);
            color: var(--button-text);
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
            height: 36px;
            box-sizing: border-box;
        }

        .btn:hover {
            background-color: #2980b9;
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-color);
        }

        .btn-outline:hover {
            background-color: var(--hover-color);
        }

        .btn-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            padding: 0;
            border-radius: 6px;
        }

        #search-bar, #select-league {
            width: 178px;
        }

        #select-x, #select-y {
            width: 190px;
        }

        /* Add tooltip for icon buttons */
        .btn-icon .icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
        }

        .btn-icon i {
            font-size: 18px;
        }
        .chart-container {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            margin-top: 30px; /* Consistent spacing from controls */
        }

        #scatter-plot {
            width: 100%;
            height: auto; /* Height will be set dynamically */
            display: block;
            margin: 0 auto;
            max-width: 1082px;
        }
        
  

        .tooltip {
            position: absolute;
            background-color: var(--container-bg);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 10px;
            font-size: 12px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
            box-shadow: var(--shadow);
            z-index: 1000;
        }

        /* Custom button tooltips */
        .btn-tooltip {
            position: relative;
            display: inline-block;
        }

        .btn-tooltip .btn-tooltip-text {
            visibility: hidden;
            width: 120px;
            background-color: var(--container-bg);
            color: var(--text-color);
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1001;
            bottom: 125%;
            left: 50%;
            margin-left: -60px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 12px;
            font-weight: normal;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            pointer-events: none;
        }

        /* Hide button tooltips on mobile */
        @media (max-width: 768px) {
            .btn-tooltip .btn-tooltip-text {
                display: none;
            }
        }

        .btn-tooltip .btn-tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--border-color) transparent transparent transparent;
        }

        .btn-tooltip:hover .btn-tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        .player-name {
            font-size: 12px;
            font-weight: 500;
        }

        circle {
            cursor: pointer;
            transition: r 0.2s, fill 0.2s;
        }


        /* Add new styles for better search highlighting */
        circle.search-match {
            fill: #ff3366 !important; /* Bright pink fill */
            stroke: #ffffff;
            stroke-width: 2px;
            filter: drop-shadow(0 0 5px rgba(255, 51, 102, 0.7));
            animation: circlePulse 1.5s infinite ease-in-out;
        }

        .dark-mode circle.search-match {
            stroke: #000000;
        }

        @keyframes circlePulse {
            0% { r: 6; }
            50% { r: 9; }
            100% { r: 6; }
        }

        .team-label.search-match {
            font-weight: 700 !important;
            fill: #ff3366 !important;
            filter: drop-shadow(0 0 2px rgba(255, 255, 255, 1));
            opacity: 1 !important;
            animation: labelPulse 1.5s infinite ease-in-out;
        }

        @keyframes labelPulse {
            0% { font-size: 12px; }
            50% { font-size: 14px; }
            100% { font-size: 12px; }
        }

        .dark-mode .team-label.search-match {
            filter: drop-shadow(0 0 2px rgba(0, 0, 0, 1));
        }

        .team-label.search-dimmed {
            opacity: 0 !important;
        }

        .team-label {
            pointer-events: none;
            text-shadow: 0px 0px 2px white, 0px 0px 2px white, 0px 0px 2px white, 0px 0px 2px white;
        }

        .dark-mode .team-label {
            fill: #f5f5f5 !important;
            text-shadow: 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a;
        }

        .dark-mode-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--container-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--shadow);
            z-index: 100;
            transition: background-color 0.3s;
        }

        .dark-mode-toggle.mobile-only {
            position: fixed;
            bottom: 20px;
            right: 20px;
        }

        .dark-mode-toggle.pc-only {
            position: relative;
            bottom: auto;
            right: auto;
        }

        .pc-only {
            display: flex;
        }

        .mobile-only {
            display: none;
        }

        .toggle-icon::before {
            font-family: "Ionicons";
            content: "\f467";
            font-size: 30px;
            color: var(--text-color);
        }

        .dark-mode .toggle-icon::before {
            content: "\f3b0";
            font-size: 20px;
        }

        @media (max-width: 768px) {
            .pc-only {
                display: none;
            }
            
            .mobile-only {
                display: flex;
            }
  
            
  .chart-wrapper {
      padding: 15px;
  }
  
  
  /* Remove fixed height for scatter plot - now handled by updateChartDimensions */
  #scatter-plot {
      min-height: 500px; /* Minimum height for mobile */
  }
  
  select, input {
      width: 100%;
  }
  
  
  /* Make text elements more readable on mobile */
  .x-label, .y-label {
      font-size: 12px;
  }
  
  /* Adjust tooltip position for mobile */
  .tooltip {
      max-width: 80%;
  }
}

        /* Styles for the diagonal reference line */
        .dark-mode .xy-line {
            stroke: #3cb371; /* Slightly different green for dark mode */
        }


  
  .search-input-modal {
      display: none;
      position: fixed; 
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7); 
      z-index: 999; 
  }
  
  .search-input-container {
      position: absolute;
      top: 30%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #fff;
      padding: 20px;
      border-radius: 4px;
      z-index: 1000; 
  }
  
  #searchInput {
              width: 370px;
              padding: 12px;
              border: 3px solid #ccc;
              border-radius: 4px;
              font-size: 18.3px;
              outline: none;
              height: 50px;
              color: #000000;
              background-color: #fff;
              ;          }
  
          #autocompleteBox {
              width: 370px;
              max-height: 150px;
              overflow-y: auto;
              background-color: #fff;
          }
  
  
          #autocompleteBox ul {
              list-style: none;
              padding: 0;
              margin: 0;
          }
  
          #autocompleteBox li {
              margin: 0;
              padding: 5px;
          }
  
          #autocompleteBox {
              line-height: 2; 
              text-align: center !important;
  
          }
  
          #autocompleteBox a {
              text-decoration: none;
              font-family: Arial, sans-serif;
              text-align: center !important;
              color: #333 !important;
              cursor: pointer; 
          }
  
          #autocompleteBox li:hover {
              background-color: #f0f0f0;
          }
          #searchButton3 {
            padding: 8.5px;  /* Reduced from 10px */
  background-color: #0074d9;
  color: #fff;
  border: none;
  width: 34px;  /* Reduced from 40px */
  height: 34px;  /* Reduced from 40px */
  border-radius: 50%;
  cursor: pointer;
  font-size: 17px;  /* Reduced from 20px */
  }


  body.dark-mode .header .button10 {
      color: #aeaeae;
}
body.dark-mode .header .button10:hover {
  color: #2563eb;
background-color: #ffffff;
}

    body.dark-mode header a {
      color: #aeaeae;
}

body.dark-mode .header .logo img {
  opacity: 0.88;
}


body.dark-mode .language-button {
      background-color: #0F0F0E;
      color: #aeaeae;
}


  

.header .logo {
  display: flex;
  align-items: center;
  margin-right: auto; /* Push logo to the left */
}

.header .logo img {
  height: 34px;
  width: auto;
  opacity: 0.84;
}
.header .logo-text {
  margin-left: 10px;
  font-size: 23px;
  font-weight: 600;
  transform: translateY(-1.1px); /* Move logo text slightly higher */
}

.header .navigation {
  display: flex;
  align-items: center;
  gap: 25px; /* Reduced gap between buttons */
  position: absolute;
  left: 50%;
  transform: translateX(-50%) translateY(-2px); /* Center the navigation and move it higher */
}



.header .button10 {
  padding: 0.5rem 1rem;
  text-decoration: none;
  color: #333;
  line-height: 1.6;
  border-radius: 4px;
  transition: background-color 0.2s;
  font-size: 1.1rem;  /* Added larger font size */
}


.header .button10:hover {
  background-color: #f0f0f0;
  color: #2563eb;

}



/* Group search and language buttons */
.header-right {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-left: auto; /* Push buttons to the right */
  transform: translateY(-1.25px); /* Move search and language buttons higher */
}

header a {
      color: black;
      text-decoration: none;
    }

    .language-switcher-container {
  position: relative;
  display: none;
}

.language-button {
  background: none;
  border: none;
  cursor: pointer;
  padding: 10px;
  color: #444444;
  display: flex;
  align-items: center;
  font-size: 17px;
}

.language-button iconify-icon {
  font-size: 24px;
  opacity: 0.7;
}

.language-dropdown {
  display: none;
  position: absolute;
  top: 100%;
  right: 0;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  padding: 10px;
  width: 200px;
  z-index: 1000;
}

.language-option {
  display: flex;
  align-items: center;
  padding: 8px 12px;
  cursor: pointer;
  border-radius: 4px;
  color: #444444;
  text-decoration: none;
}



.language-option iconify-icon {
  margin-right: 10px;
  font-size: 20px;
}

.language-dropdown.show {
  display: block;
}

/* Styles for flag icons in select dropdown */
#select-league option {
    display: flex;
    align-items: center;
    padding: 8px 12px;
}

#select-league iconify-icon {
    display: inline-flex;
    vertical-align: middle;
}

/* Styles for custom league selector dropdown */
.custom-select-container {
    position: relative;
    width: 172px;
}

.metric-select-container {
    position: relative;
    width: 192px;
}

.custom-select-option, .metric-select-option {
    display: flex;
    align-items: center;
    padding: 8px 16px;
    cursor: pointer;
    color: var(--text-color);
    background-color: var(--container-bg);
}


.custom-select-option iconify-icon, .metric-select-option iconify-icon {
    margin-right: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.custom-select-trigger, .metric-select-trigger {
    display: flex;
    align-items: center;
    padding: 0 12px;
    border: 1px solid var(--border-color);
    border-radius: 6px;
    background-color: var(--container-bg);
    color: var(--text-color);
    font-family: 'Inter', sans-serif;
    font-size: 14px;
    cursor: pointer;
    user-select: none;
    position: relative;
    line-height: 1;
}

.custom-select-trigger span, .metric-select-trigger span {
    display: inline-block;
    transform: translateY(1px);
    white-space: nowrap;
    overflow: hidden;
    max-width: calc(100% - 20px); /* Account for the icon width and margin */
    line-height: normal; /* Ensure consistent line height */    
}


/* Make the league selector span 30px smaller */
#league-select-trigger span {
    max-width: calc(100% - 45px); /* 20px + 30px reduction */
}

.custom-select-trigger::after, .metric-select-trigger::after {
    content: '';
    width: 6px;
    height: 6px;
    margin-left: auto;
    border-right: 1.5px solid var(--text-color);
    border-bottom: 1.5px solid var(--text-color);
    transform: rotate(45deg) translateY(-2px);
    transition: transform 0.3s;
    opacity: 0.7;
    margin-right: 2px;
}

.custom-select-trigger.open::after, .metric-select-trigger.open::after {
    transform: rotate(-135deg) translateY(1px);
}

.custom-select-options, .metric-select-options {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background-color: var(--container-bg);
    border: 1px solid var(--border-color);
    border-radius: 6px;
    margin-top: 4px;
    max-height: 300px;
    overflow-y: auto;
    z-index: 100;
    font-size: 13px;
    display: none;
    box-shadow: var(--shadow);
}


.custom-select-option:hover, .metric-select-option:hover {
    background-color: var(--hover-color);
}



.custom-select-option.selected {
    background-color: var(--primary-color);
    color: white;
}

.metric-select-option.selected {
    background-color: var(--primary-color);
    color: white;
}


.dark-mode .custom-select-option:hover {
    background-color: var(--hover-color);
}

.dark-mode .custom-select-option.selected {
    background-color: var(--primary-color);
    color: white;
}

@media (max-width: 768px) {
    .custom-select-option {
        padding: 6px 12px;
    }
}

body.dark-mode .language-button:hover {
      background-color: #0F0F0E;
      color: #aeaeae;
}

body.dark-mode .language-dropdown {
  background: #e8e6e6;
}

body.dark-mode .language-option {
  color: #000000;
}

/* Dark mode styles for custom dropdown */
.dark-mode .custom-select-trigger,
.dark-mode .custom-select-options,
.dark-mode .metric-select-trigger,
.dark-mode .metric-select-options {
    border-color: var(--border-color);
    background-color: var(--container-bg);
    color: var(--text-color);
}

.dark-mode .custom-select-option:hover,
.dark-mode .metric-select-option:hover {
    background-color: var(--hover-color);
}

.dark-mode .custom-select-option.selected,
.dark-mode .metric-select-option.selected {
    background-color: rgba(52, 152, 219, 0.2);
}

/* Adjust flag icon alignment in the trigger */
#league-select-trigger iconify-icon {
    margin-right: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transform: translateY(-1px);
}
@media screen and (max-width: 550px) { .header .navigation { display: none; } }

        /* Enhanced Dark Mode Styles */
        .dark-mode .chart-wrapper {
            background-color: var(--container-bg);
            border: 1px solid #333;
        }

        .dark-mode .btn {
            background-color: var(--button-color);
        }

        .dark-mode .btn-outline {
            background-color: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-color);
        }

        .dark-mode .btn-outline:hover {
            background-color: var(--hover-color);
            border-color: #444;
        }


        .dark-mode input, 
        .dark-mode select {
            background-color: #1a1a1a;
            color: var(--text-color);
            border-color: #333;
        }

        .dark-mode input::placeholder {
            color: #777;
        }

        .dark-mode input:focus, 
        .dark-mode select:focus {
            border-color: var(--primary-color);
            outline: none;
        }

        .dark-mode .tooltip {
            background-color: #1a1a1a;
            border-color: #333;
            color: var(--text-color);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .legend {
            border-top-color: #333;
        }

        .dark-mode .legend-item {
            color: #ccc;
        }

        .dark-mode .btn-tooltip .btn-tooltip-text {
            background-color: #1a1a1a;
            border-color: #333;
            color: #e0e0e0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .btn-tooltip .btn-tooltip-text::after {
            border-color: #333 transparent transparent transparent;
        }

        .dark-mode .team-label {
            fill: #e0e0e0 !important;
            text-shadow: 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f;
        }

        .dark-mode .x-axis path,
        .dark-mode .y-axis path,
        .dark-mode .x-axis line,
        .dark-mode .y-axis line {
            stroke: #444;
        }

        .dark-mode .x-axis text,
        .dark-mode .y-axis text {
            fill: #aaa;
        }

        .dark-mode .x-label,
        .dark-mode .y-label {
            fill: #ccc;
        }

        .dark-mode .median-line {
            stroke: rgba(255, 255, 255, 0.2) !important;
        }

        .dark-mode .xy-line {
            stroke: #2ecc71;
            opacity: 0.8;
        }

        .dark-mode .dark-mode-toggle {
            background-color: #1a1a1a;
            border: 1px solid #333;
        }

        .dark-mode .toggle-icon::before {
            color: #e0e0e0;
        }

 



        .dark-mode #searchButton3 {
            background-color: #0074d9;
            color: #fff;
        }


        .dark-mode .header .button10 {
            color: #aaa;
        }

        .dark-mode .header .button10:hover {
            color: #2563eb;
            background-color: #1a1a1a;
        }

        .dark-mode header a {
            color: #aaa;
        }

        .dark-mode .header .logo img {
            opacity: 0.9;
            filter: brightness(0.9);
        }

        .dark-mode .language-button {
            background-color: #0e0f0f;
            color: #aaa;
        }

        .dark-mode .language-button:hover {
            background-color: #1a1a1a;
        }

        .dark-mode .language-dropdown {
            background: #1a1a1a;
            border: 1px solid #333;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .language-option {
            color: #e0e0e0;
        }

        .dark-mode .language-option:hover {
            background-color: #252525;
        }

        .dark-mode #search-bar::placeholder {
            color: #777;
        }

        .dark-mode circle {
            stroke-width: 1px;
        }

        .dark-mode circle.search-match {
            fill: #ff3366 !important;
            stroke: #0e0f0f;
            stroke-width: 2px;
            filter: drop-shadow(0 0 5px rgba(255, 51, 102, 0.7));
        }

  
        
        /* Additional dark mode styles for chart elements */
        .dark-mode .chart-container {
            background-color: var(--container-bg);
        }
        
  
        
    
        
        
        /* Fix for custom select dropdown in dark mode */
        .dark-mode .custom-select-trigger::after, 
        .dark-mode .metric-select-trigger::after {
            border-right: 1.5px solid var(--text-color);
            border-bottom: 1.5px solid var(--text-color);
        }
        
        /* Improve contrast for selected items in dark mode */
        .dark-mode .custom-select-option.selected, 
        .dark-mode .metric-select-option.selected {
            background-color: rgba(52, 152, 219, 0.3);
        }
        
        /* Improve visibility of SVG elements in dark mode */
        .dark-mode svg text {
            fill: #ccc;
        }
        
        .dark-mode .legend-color {
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        /* Improve button states in dark mode */
        .dark-mode .btn:hover {
            background-color: #3498db;
        }
        
        .dark-mode .btn-outline:active {
            background-color: #333;
        }
        
        /* Improve focus states for accessibility */
        .dark-mode input:focus,
        .dark-mode select:focus,
        .dark-mode .btn:focus {
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.5);
        }
        
        /* Fix for buttons staying focused with blue outline */
        button:focus, 
        .btn:focus, 
        select:focus, 
        input:focus {
            outline: none;
        }
        
        /* Custom focus styles for better accessibility */
        button:focus-visible, 
        .btn:focus-visible, 
        select:focus-visible, 
        input:focus-visible {
            outline: none;
            box-shadow: 0 0 0 2px var(--primary-color);
        }
        
        /* Remove focus styles when using mouse */
        button:focus:not(:focus-visible), 
        .btn:focus:not(:focus-visible), 
        select:focus:not(:focus-visible), 
        input:focus:not(:focus-visible) {
            box-shadow: none;
        }



.logo img {
  width: 50px;
  height: 50px;
}

/* Promo links styling */
.promo-links-container {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
    margin: 15px auto 25px;
    max-width: 800px;
    flex-wrap: wrap;
    padding: 0 20px;
}

.promo-link {
    display: flex;
    align-items: center;
    padding: 10px 15px;
    background-color: var(--container-bg);
    color: var(--text-color);
    text-decoration: none;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    transition: all 0.3s ease;
    box-shadow: var(--shadow);
    font-weight: 500;
    flex: 1;
    min-width: 220px;
    max-width: 350px;
    justify-content: center;
}

.promo-link iconify-icon {
    margin-right: 8px;
}

.promo-link:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.radar-link {
    border-left: 4px solid #3498db;
}

.pro-link {
    border-left: 4px solid #f39c12;
}

.dark-mode .radar-link {
    border-left: 4px solid #2980b9;
}

.dark-mode .pro-link {
    border-left: 4px solid #d35400;
}

@media (max-width: 768px) {
  

    
    select, input {
        width: 100%;
    }
    
    /* Make text elements more readable on mobile */
    .x-label, .y-label {
        font-size: 12px;
    }
    
    /* Adjust tooltip position for mobile */
    .tooltip {
        max-width: 80%;
    }
    
    /* Adjust promo links for mobile */
    .promo-links-container {
        flex-direction: column;
        align-items: center;
        gap: 10px;
        padding: 0 15px;
    }
}


.custom-select-option {
    -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            
}
        /* Disable text selection for SVG text elements */
        svg text, .legend,
        .x-label,
        .y-label,
        .team-label,
        .player-name,
        .x-axis text,
        .y-axis text {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            pointer-events: none;
        }


    </style>

  <header class="header">
    <div class="logo">
      <a href="https://datamb.football">
        <img src="https://datamb.football/logo.png" alt="Football team statistics comparison. Radar comparison tool. Visualise and compare team data from the top 7 leagues : Premier League, La Liga, Bundesliga, Serie A, Ligue 1, Eredivisie, Primeira Liga" /></a>
        <div class="logo-text"><a href="https://datamb.football">&nbsp;Teams</a></div>
    </div>
    <nav class="navigation">
      <a href="https://datamb.football/teams" class="button10" data-i18n="header.home">Home</a>
      <a href="https://datamb.football/join" class="button10" data-i18n="header.pro">Pro</a>
      <a href="https://datamb.football/guide" class="button10" data-i18n="header.guide">Guide</a>
    </nav>
    <div class="header-right">
    <div class="search-container">
      <button id="searchButton3"><iconify-icon icon="ion:search-outline"></iconify-icon></button>
  </div>
    <div class="language-switcher-container">
      <button class="language-button" id="languageButton">
        <iconify-icon icon="heroicons:globe-alt"></iconify-icon>
      </button>
      <div class="language-dropdown" id="languageDropdown">
        <a href="?lang=en" class="language-option"><iconify-icon icon="flag:gb-4x3"></iconify-icon>English</a>
      </div>
    </div></div>
  </header>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7677714701428206"
     crossorigin="anonymous"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PSBMXX80EF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-PSBMXX80EF');
</script>
</head>
<div class="search-input-modal" id="searchInputModal">
    <div class="search-input-container">
        <input type="text" id="searchInput" data-i18n="search.placeholder" placeholder="Enter a team or player name...">
        <div id="autocompleteBox"></div>
    </div>
</div>
<script>
    const xhr1 = new XMLHttpRequest();
  xhr1.open('GET', 'https://datamb.football/database/searchbar.csv', false); // false for synchronous request
  xhr1.send(null);
  
  let dataCSV = xhr1.responseText;
    
function _0x5707(_0xd20fa7,_0x4d36b5){const _0x4dcd69=_0x4dcd();return _0x5707=function(_0x57077a,_0xde96b9){_0x57077a=_0x57077a-0x140;let _0x383e81=_0x4dcd69[_0x57077a];return _0x383e81;},_0x5707(_0xd20fa7,_0x4d36b5);}const _0xedf2b2=_0x5707;(function(_0x16e1b0,_0x125833){const _0x222c5a=_0x5707,_0x3f540c=_0x16e1b0();while(!![]){try{const _0x3105f2=parseInt(_0x222c5a(0x161))/0x1+parseInt(_0x222c5a(0x144))/0x2+parseInt(_0x222c5a(0x148))/0x3+-parseInt(_0x222c5a(0x155))/0x4+parseInt(_0x222c5a(0x141))/0x5*(-parseInt(_0x222c5a(0x145))/0x6)+-parseInt(_0x222c5a(0x157))/0x7+parseInt(_0x222c5a(0x14b))/0x8*(parseInt(_0x222c5a(0x159))/0x9);if(_0x3105f2===_0x125833)break;else _0x3f540c['push'](_0x3f540c['shift']());}catch(_0x450250){_0x3f540c['push'](_0x3f540c['shift']());}}}(_0x4dcd,0x1bc51));const dataLines=dataCSV[_0xedf2b2(0x160)]('\x0a'),searchButton3=document[_0xedf2b2(0x142)]('searchButton3'),searchInputModal=document[_0xedf2b2(0x142)](_0xedf2b2(0x14a)),searchInput=document[_0xedf2b2(0x142)](_0xedf2b2(0x143)),autocompleteBox=document[_0xedf2b2(0x142)](_0xedf2b2(0x162)),data11=dataLines[_0xedf2b2(0x146)](_0x19546c=>{const _0x89300c=_0xedf2b2,[_0x5af128,_0x515bec]=_0x19546c[_0x89300c(0x160)](',');return{'name':_0x5af128,'link':_0x515bec};});function removeDiacritics(_0x3ed1af){const _0x202611=_0xedf2b2,_0x4b45cf={'ø':'o','Ø':'O','ı':'i'};return _0x3ed1af=_0x3ed1af[_0x202611(0x147)](/[øØıI]/g,_0x19f74a=>_0x4b45cf[_0x19f74a]),_0x3ed1af[_0x202611(0x15d)]('NFD')[_0x202611(0x147)](/[\u0300-\u036f]/g,'');}function search2(_0x1db14d){const _0x26c944=_0xedf2b2;autocompleteBox[_0x26c944(0x15e)]='';const _0x321867=removeDiacritics(_0x1db14d)[_0x26c944(0x147)](/[^\w\s]/g,'')[_0x26c944(0x149)](),_0x3ad89e=data11[_0x26c944(0x15c)](_0xb995bf=>{const _0x3866b0=_0x26c944,_0x2b7de7=removeDiacritics(_0xb995bf[_0x3866b0(0x14e)])['replace'](/[^\w\s]/g,'')[_0x3866b0(0x149)]();return _0x2b7de7['includes'](_0x321867);});if(_0x3ad89e[_0x26c944(0x163)]===0x0){autocompleteBox[_0x26c944(0x152)][_0x26c944(0x14c)]='none';return;}_0x3ad89e[_0x26c944(0x151)](_0x4b9def=>{const _0x31eeb1=_0x26c944,_0x505ab8=document[_0x31eeb1(0x14d)]('div'),_0x3a2d70=document[_0x31eeb1(0x14d)]('a');_0x3a2d70['href']=_0x4b9def[_0x31eeb1(0x154)],_0x3a2d70[_0x31eeb1(0x150)]=_0x4b9def[_0x31eeb1(0x14e)],_0x505ab8[_0x31eeb1(0x15b)](_0x3a2d70),autocompleteBox[_0x31eeb1(0x15b)](_0x505ab8);}),autocompleteBox['style'][_0x26c944(0x14c)]=_0x26c944(0x153);}searchButton3[_0xedf2b2(0x156)](_0xedf2b2(0x14f),()=>{const _0x350b96=_0xedf2b2;searchInputModal['style'][_0x350b96(0x14c)]=_0x350b96(0x153);}),searchInput['addEventListener'](_0xedf2b2(0x158),()=>{const _0x122364=_0xedf2b2,_0x1aac33=searchInput['value'];_0x1aac33[_0x122364(0x140)]()===''?autocompleteBox[_0x122364(0x152)][_0x122364(0x14c)]='none':search2(_0x1aac33);}),document['addEventListener']('click',_0x17873a=>{const _0x2c2a21=_0xedf2b2;_0x17873a[_0x2c2a21(0x15a)]===searchInputModal&&(searchInputModal[_0x2c2a21(0x152)][_0x2c2a21(0x14c)]=_0x2c2a21(0x15f));});function _0x4dcd(){const _0x3abacf=['forEach','style','block','link','165476bdcaHI','addEventListener','430668iEzpyY','input','90cmGEmO','target','appendChild','filter','normalize','innerHTML','none','split','102625kyWWmb','autocompleteBox','length','trim','5KymJaR','getElementById','searchInput','423476PJmBDe','1170534HGXHHf','map','replace','60222cRWbFM','toLowerCase','searchInputModal','61832bbygIm','display','createElement','name','click','textContent'];_0x4dcd=function(){return _0x3abacf;};return _0x4dcd();}
  
  
  
  </script>


<body>
    <div class="container">
        <div class="chart-wrapper">
            <div class="controls">
                <select id="select-x" style="display: none;"></select>
                <select id="select-y" style="display: none;"></select>
                <select id="select-league" style="display: none;" onchange="updateChart()">
                    <option value="all">Top 7 Leagues</option>
                    <option value="Top 5 Leagues">Top 5 Leagues</option>
                    <option value="Premier League">Premier League</option>
                    <option value="La Liga">La Liga</option>
                    <option value="Bundesliga">Bundesliga</option>
                    <option value="Serie A">Serie A</option> 
                    <option value="Ligue 1">Ligue 1</option>
                    <option value="Eredivisie">Eredivisie</option>
                    <option value="Primeira Liga">Liga Portugal</option>
                </select>
                
                <!-- Custom X metric selector -->
                <div class="metric-select-container">
                    <div class="metric-select-trigger" id="x-metric-trigger">
                        <span data-i18n="metrics.goals-per-90">Goals per 90</span>
                    </div>
                    <div class="metric-select-options" id="x-metric-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Custom Y metric selector -->
                <div class="metric-select-container">
                    <div class="metric-select-trigger" id="y-metric-trigger">
                        <span data-i18n="metrics.xg-per-90">xG per 90</span>
                    </div>
                    <div class="metric-select-options" id="y-metric-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Custom league selector with flag icons -->
                <div class="custom-select-container">
                    <div class="custom-select-trigger" id="league-select-trigger">
                        <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                        <span data-i18n="leagues.top7">Top 7 Leagues</span>
                    </div>
                    <div class="custom-select-options" id="league-select-options">
                        <div class="custom-select-option selected" data-value="all">
                            <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                            <span data-i18n="leagues.top7">Top 7 Leagues</span>
                        </div>
                        <div class="custom-select-option" data-value="Top 5 Leagues">
                            <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                            <span data-i18n="leagues.top5">Top 5 Leagues</span>
                        </div>
                        <div class="custom-select-option" data-value="Premier League">
                            <iconify-icon icon="emojione:flag-for-united-kingdom" width="18" height="18"></iconify-icon>
                            <span>Premier League</span>
                        </div>
                        <div class="custom-select-option" data-value="La Liga">
                            <iconify-icon icon="emojione:flag-for-spain" width="18" height="18"></iconify-icon>
                            <span>La Liga</span>
                        </div>
                        <div class="custom-select-option" data-value="Bundesliga">
                            <iconify-icon icon="emojione:flag-for-germany" width="18" height="18"></iconify-icon>
                            <span>Bundesliga</span>
                        </div>
                        <div class="custom-select-option" data-value="Serie A">
                            <iconify-icon icon="emojione:flag-for-italy" width="18" height="18"></iconify-icon>
                            <span>Serie A</span>
                        </div>
                        <div class="custom-select-option" data-value="Ligue 1">
                            <iconify-icon icon="emojione:flag-for-france" width="18" height="18"></iconify-icon>
                            <span>Ligue 1</span>
                        </div>
                        <div class="custom-select-option" data-value="Eredivisie">
                            <iconify-icon icon="emojione:flag-for-netherlands" width="18" height="18"></iconify-icon>
                            <span>Eredivisie</span>
                        </div>
                        <div class="custom-select-option" data-value="Primeira Liga">
                            <iconify-icon icon="emojione:flag-for-portugal" width="18" height="18"></iconify-icon>
                            <span>Liga Portugal</span>
                        </div>
                    </div>
                </div>
                
                <input type="text" id="search-bar" data-i18n="search.placeholder2" placeholder="Search team...">
                <div class="btn-tooltip">
                    <button id="toggle-median-lines" class="btn btn-outline btn-icon">
                        <div class="icon">
                            <i class="ion-stats-bars"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" id="median-lines-tooltip" data-i18n="tooltip.median-lines">Show median lines</span>
                </div>
                <div class="btn-tooltip">
                    <button class="btn btn-outline btn-icon" id="select-all-button" onclick="selectAllCircles()">
                        <div class="icon">
                            <i class="ion-ios-circle-filled" id="select-icon"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" id="select-all-tooltip" data-i18n="tooltip.select-all">Select all teams</span>
                </div>
                <div class="btn-tooltip">
                    <button class="btn btn-outline btn-icon" onclick="takeScreenshot()">
                        <div class="icon">
                            <i class="ion-camera"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" data-i18n="tooltip.screenshot">Download chart as image</span>
                </div>
            </div>
       
            <div class="chart-container">
              <svg id="scatter-plot"></svg>
            </div>

            <div class="legend" id="league-legend">
              <!-- Legend items will be added here dynamically -->
            </div>
        </div>

        <div class="promo-links-container">
            <a href="https://datamb.football/teamradars" class="promo-link radar-link">
                <iconify-icon icon="mdi:radar" width="20" height="20"></iconify-icon>
                <span data-i18n="promo.radar-link">Compare Teams with Radars</span>
            </a>
            <a href="https://datamb.football/join" class="promo-link pro-link">
                <iconify-icon icon="mdi:account-star" width="20" height="20"></iconify-icon>
                <span data-i18n="promo.pro-link">Get Pro for Player Plots</span>
            </a>
            <div class="dark-mode-toggle pc-only" onclick="toggleDarkMode()">
                <div class="toggle-icon"></div>
            </div>
        </div>
    </div>

    <div class="dark-mode-toggle mobile-only" onclick="toggleDarkMode()">
        <div class="toggle-icon"></div>
    </div>

    <script>
        var _0x44f890=_0xc5bc;(function(_0xcfd13b,_0x5722a1){var _0xc69b2d=_0xc5bc,_0x36c8ea=_0xcfd13b();while(!![]){try{var _0x3b9367=-parseInt(_0xc69b2d(0x24d))/0x1+parseInt(_0xc69b2d(0x1db))/0x2+-parseInt(_0xc69b2d(0x2a1))/0x3+-parseInt(_0xc69b2d(0x1c8))/0x4+parseInt(_0xc69b2d(0x1bc))/0x5*(parseInt(_0xc69b2d(0x261))/0x6)+-parseInt(_0xc69b2d(0x1f3))/0x7+parseInt(_0xc69b2d(0x21d))/0x8;if(_0x3b9367===_0x5722a1)break;else _0x36c8ea['push'](_0x36c8ea['shift']());}catch(_0x540193){_0x36c8ea['push'](_0x36c8ea['shift']());}}}(_0x19a9,0x5ea5a));let initializeCustomSelectors=function(){var _0x102af9=_0xc5bc;const _0x2f37b6=document[_0x102af9(0x264)]('league-select-trigger'),_0x27c72f=document[_0x102af9(0x264)]('league-select-options'),_0x5b6e88=document['getElementById'](_0x102af9(0x1b9));setupCustomSelect(_0x2f37b6,_0x27c72f,_0x5b6e88);const _0x5be502=document['getElementById'](_0x102af9(0x214)),_0x5cdcca=document[_0x102af9(0x264)](_0x102af9(0x26a)),_0x251985=document[_0x102af9(0x264)](_0x102af9(0x275));populateMetricOptions(_0x5cdcca,header[_0x102af9(0x255)](0x3),function(_0x4968d2,_0x15c3ac){var _0x1570af=_0x102af9;_0x5be502[_0x1570af(0x1c5)](_0x1570af(0x207))['textContent']===_0x15c3ac&&_0x4968d2[_0x1570af(0x288)]['add'](_0x1570af(0x1dc));if(_0x15c3ac===header[0x3]){_0x4968d2['classList'][_0x1570af(0x1d6)](_0x1570af(0x1dc)),_0x5be502['querySelector'](_0x1570af(0x207))['textContent']=_0x15c3ac;const _0x51690f=_0x15c3ac['toLowerCase']()[_0x1570af(0x246)](/ /g,'-')['replace'](/%/g,_0x1570af(0x239));_0x5be502[_0x1570af(0x1c5)](_0x1570af(0x207))['setAttribute'](_0x1570af(0x247),_0x1570af(0x299)+_0x51690f);}}),setupCustomSelect(_0x5be502,_0x5cdcca,_0x251985);const _0x1a2bab=document[_0x102af9(0x264)]('y-metric-trigger'),_0x3fbca9=document[_0x102af9(0x264)](_0x102af9(0x297)),_0x10027c=document[_0x102af9(0x264)]('select-y');populateMetricOptions(_0x3fbca9,header[_0x102af9(0x255)](0x3),function(_0x56edab,_0x1e19e1){var _0x9085c7=_0x102af9;_0x1a2bab[_0x9085c7(0x1c5)](_0x9085c7(0x207))[_0x9085c7(0x24b)]===_0x1e19e1&&_0x56edab['classList'][_0x9085c7(0x1d6)](_0x9085c7(0x1dc));if(_0x1e19e1===header[0x4]){_0x56edab[_0x9085c7(0x288)][_0x9085c7(0x1d6)](_0x9085c7(0x1dc)),_0x1a2bab[_0x9085c7(0x1c5)](_0x9085c7(0x207))['textContent']=_0x1e19e1;const _0x1fb9d1=_0x1e19e1['toLowerCase']()[_0x9085c7(0x246)](/ /g,'-')[_0x9085c7(0x246)](/%/g,_0x9085c7(0x239));_0x1a2bab['querySelector'](_0x9085c7(0x207))[_0x9085c7(0x248)](_0x9085c7(0x247),'metrics.'+_0x1fb9d1);}}),setupCustomSelect(_0x1a2bab,_0x3fbca9,_0x10027c);};function populateMetricOptions(_0x1db550,_0x3343a1,_0x33a547){var _0x355e1=_0xc5bc;_0x1db550[_0x355e1(0x262)]='',_0x3343a1[_0x355e1(0x218)](function(_0x3c2da9){var _0x334ce0=_0x355e1;const _0x2f556b=document[_0x334ce0(0x23d)](_0x334ce0(0x1f8));_0x2f556b[_0x334ce0(0x292)]='metric-select-option',_0x2f556b[_0x334ce0(0x248)](_0x334ce0(0x1c3),_0x3c2da9);const _0x4cae73=document['createElement'](_0x334ce0(0x207));_0x4cae73[_0x334ce0(0x24b)]=_0x3c2da9;const _0x23506c=_0x3c2da9[_0x334ce0(0x1e4)]()[_0x334ce0(0x246)](/ /g,'-')['replace'](/%/g,'pct');_0x4cae73['setAttribute'](_0x334ce0(0x247),'metrics.'+_0x23506c),_0x2f556b['appendChild'](_0x4cae73);if(_0x33a547)_0x33a547(_0x2f556b,_0x3c2da9);_0x1db550['appendChild'](_0x2f556b);});}function setupCustomSelect(_0x44e1b8,_0x4aa629,_0x417272){var _0xae6f11=_0xc5bc;_0x44e1b8[_0xae6f11(0x1fd)](_0xae6f11(0x23a),function(){var _0x1183b9=_0xae6f11;document[_0x1183b9(0x209)]('.custom-select-trigger.open,\x20.metric-select-trigger.open')[_0x1183b9(0x218)](function(_0xbc1d74){var _0x157e0d=_0x1183b9;if(_0xbc1d74!==_0x44e1b8){_0xbc1d74[_0x157e0d(0x288)]['remove'](_0x157e0d(0x1d5));const _0xd73b72=_0xbc1d74[_0x157e0d(0x280)];if(_0xd73b72)_0xd73b72[_0x157e0d(0x276)][_0x157e0d(0x1fb)]='none';}}),_0x44e1b8[_0x1183b9(0x288)][_0x1183b9(0x1de)](_0x1183b9(0x1d5));const _0x1ae50f=_0x44e1b8[_0x1183b9(0x288)]['contains'](_0x1183b9(0x1d5));_0x4aa629[_0x1183b9(0x276)][_0x1183b9(0x1fb)]=_0x1ae50f?_0x1183b9(0x229):_0x1183b9(0x1e6);});const _0x23fd74=_0x4aa629[_0xae6f11(0x209)]('.custom-select-option,\x20.metric-select-option');_0x23fd74[_0xae6f11(0x218)](_0x53939c=>{var _0xb842a6=_0xae6f11;_0x53939c['addEventListener'](_0xb842a6(0x23a),function(){var _0x2de664=_0xb842a6;_0x23fd74[_0x2de664(0x218)](_0x308cd8=>_0x308cd8[_0x2de664(0x288)][_0x2de664(0x273)](_0x2de664(0x1dc))),this[_0x2de664(0x288)][_0x2de664(0x1d6)](_0x2de664(0x1dc));const _0x5acc93=this['querySelector'](_0x2de664(0x207))[_0x2de664(0x24b)],_0x16f6f4=this['querySelector'](_0x2de664(0x207))[_0x2de664(0x1da)](_0x2de664(0x247)),_0x104545=this[_0x2de664(0x1c5)](_0x2de664(0x287));_0x44e1b8[_0x2de664(0x262)]='';if(_0x104545){const _0x35cbbf=_0x104545[_0x2de664(0x1bf)](!![]);_0x35cbbf[_0x2de664(0x276)][_0x2de664(0x1d8)]=_0x2de664(0x1e3),_0x44e1b8[_0x2de664(0x291)](_0x35cbbf);}const _0xe3d5da=document[_0x2de664(0x23d)](_0x2de664(0x207));_0xe3d5da[_0x2de664(0x24b)]=_0x5acc93;_0x16f6f4&&_0xe3d5da[_0x2de664(0x248)](_0x2de664(0x247),_0x16f6f4);_0x44e1b8[_0x2de664(0x291)](_0xe3d5da);const _0x396908=this['getAttribute']('data-value');_0x417272[_0x2de664(0x217)]=_0x396908||_0x5acc93;const _0x1e8f19=new Event(_0x2de664(0x21f));_0x417272['dispatchEvent'](_0x1e8f19),_0x44e1b8[_0x2de664(0x288)][_0x2de664(0x273)]('open'),_0x4aa629[_0x2de664(0x276)][_0x2de664(0x1fb)]=_0x2de664(0x1e6);});});let _0x43542f='',_0x5a78d8;document[_0xae6f11(0x1fd)]('keydown',function(_0x142683){var _0x3d9e8b=_0xae6f11;if(!_0x44e1b8[_0x3d9e8b(0x288)][_0x3d9e8b(0x26e)]('open'))return;if(_0x142683[_0x3d9e8b(0x20f)]===_0x3d9e8b(0x1d9)||_0x142683[_0x3d9e8b(0x20f)]===_0x3d9e8b(0x258)){_0x142683['preventDefault']();const _0x1345af=Array[_0x3d9e8b(0x1e2)](_0x23fd74),_0x2cb4b5=_0x1345af[_0x3d9e8b(0x29f)](_0x252af3=>_0x252af3[_0x3d9e8b(0x288)][_0x3d9e8b(0x26e)](_0x3d9e8b(0x1dc)));let _0x2633de;_0x142683['key']==='ArrowDown'?_0x2633de=_0x2cb4b5<_0x1345af['length']-0x1?_0x2cb4b5+0x1:0x0:_0x2633de=_0x2cb4b5>0x0?_0x2cb4b5-0x1:_0x1345af['length']-0x1;_0x23fd74['forEach'](_0x4de0e0=>_0x4de0e0[_0x3d9e8b(0x288)]['remove'](_0x3d9e8b(0x1dc))),_0x1345af[_0x2633de][_0x3d9e8b(0x288)][_0x3d9e8b(0x1d6)](_0x3d9e8b(0x1dc)),_0x1345af[_0x2633de][_0x3d9e8b(0x1be)]({'block':_0x3d9e8b(0x236)});return;}if(_0x142683[_0x3d9e8b(0x20f)]===_0x3d9e8b(0x1f9)){_0x142683[_0x3d9e8b(0x26b)]();const _0x4df7aa=_0x4aa629[_0x3d9e8b(0x1c5)](_0x3d9e8b(0x2a2));_0x4df7aa&&_0x4df7aa[_0x3d9e8b(0x23a)]();return;}if(_0x142683[_0x3d9e8b(0x20f)]===_0x3d9e8b(0x26d)){_0x142683[_0x3d9e8b(0x26b)](),_0x44e1b8[_0x3d9e8b(0x288)][_0x3d9e8b(0x273)](_0x3d9e8b(0x1d5)),_0x4aa629['style'][_0x3d9e8b(0x1fb)]=_0x3d9e8b(0x1e6);return;}if(_0x142683[_0x3d9e8b(0x20f)][_0x3d9e8b(0x27e)]===0x1&&_0x142683[_0x3d9e8b(0x20f)][_0x3d9e8b(0x279)](/[a-zA-Z0-9%]/)){clearTimeout(_0x5a78d8),_0x43542f+=_0x142683[_0x3d9e8b(0x20f)]['toLowerCase']();const _0x1ab2fc=Array[_0x3d9e8b(0x1e2)](_0x23fd74)['find'](_0x23f7be=>{var _0x1630e=_0x3d9e8b;const _0x3d94cc=_0x23f7be[_0x1630e(0x1c5)]('span')['textContent']['toLowerCase']();return _0x3d94cc[_0x1630e(0x257)](_0x43542f);});_0x1ab2fc&&(_0x23fd74['forEach'](_0x54c991=>_0x54c991['classList']['remove'](_0x3d9e8b(0x1dc))),_0x1ab2fc[_0x3d9e8b(0x288)][_0x3d9e8b(0x1d6)](_0x3d9e8b(0x1dc)),_0x1ab2fc[_0x3d9e8b(0x1be)]({'block':_0x3d9e8b(0x236)})),_0x5a78d8=setTimeout(()=>{_0x43542f='';},0x3e8);}});}document['addEventListener'](_0x44f890(0x23a),function(_0xc7c316){var _0x1ef01d=_0x44f890;const _0x46e364=document['querySelectorAll'](_0x1ef01d(0x278)),_0xc42a92=document[_0x1ef01d(0x209)](_0x1ef01d(0x1bd));let _0x151e35=![];_0x46e364[_0x1ef01d(0x218)](function(_0x1738b4,_0xb974fa){var _0x402e1f=_0x1ef01d;const _0x1fd25e=_0xc42a92[_0xb974fa];_0x1738b4&&_0x1fd25e&&(_0x1738b4[_0x402e1f(0x26e)](_0xc7c316[_0x402e1f(0x274)])||_0x1fd25e[_0x402e1f(0x26e)](_0xc7c316[_0x402e1f(0x274)]))&&(_0x151e35=!![]);}),!_0x151e35&&_0x46e364[_0x1ef01d(0x218)](function(_0x18f0d2,_0x182e4e){var _0x22d148=_0x1ef01d;_0x18f0d2&&_0xc42a92[_0x182e4e]&&(_0x18f0d2[_0x22d148(0x288)][_0x22d148(0x273)](_0x22d148(0x1d5)),_0xc42a92[_0x182e4e]['style'][_0x22d148(0x1fb)]=_0x22d148(0x1e6));});});function _0xc5bc(_0x1e1ab2,_0x166375){var _0x19a934=_0x19a9();return _0xc5bc=function(_0xc5bccf,_0x5e3410){_0xc5bccf=_0xc5bccf-0x1b8;var _0x4a7ee=_0x19a934[_0xc5bccf];return _0x4a7ee;},_0xc5bc(_0x1e1ab2,_0x166375);}const xhr=new XMLHttpRequest();xhr[_0x44f890(0x1d5)](_0x44f890(0x1d4),_0x44f890(0x2a6),![]),xhr[_0x44f890(0x284)](null);let csvData=xhr[_0x44f890(0x1e1)],extraHeaderRow=_0x44f890(0x24a);csvData=extraHeaderRow+csvData;var rows=csvData['trim']()[_0x44f890(0x21c)]('\x0a'),header=rows[0x0]['split'](','),data=rows['slice'](0x1)['map'](function(_0x2c2c79){var _0x4b2d1b=_0x44f890;return _0x2c2c79[_0x4b2d1b(0x21c)](',')[_0x4b2d1b(0x220)](function(_0x5d74b2,_0x3671bf){return _0x3671bf>=0x3?parseFloat(_0x5d74b2):_0x5d74b2;});}),margin={'top':0x0,'right':0x0,'bottom':0x0,'left':0x0},width=0x43a-margin[_0x44f890(0x25f)]-margin[_0x44f890(0x27a)],height=0x302-margin[_0x44f890(0x28b)]-margin[_0x44f890(0x267)],leagueColors={'Premier\x20League':_0x44f890(0x1eb),'La\x20Liga':_0x44f890(0x210),'Bundesliga':_0x44f890(0x28e),'Serie\x20A':_0x44f890(0x24f),'Ligue\x201':_0x44f890(0x201),'Eredivisie':_0x44f890(0x22d),'Primeira\x20Liga':_0x44f890(0x1e9)};function getLeagueColor(_0x11061e){return leagueColors[_0x11061e]||'rgba(255,\x200,\x200,\x200.7)';}function updateChartDimensions(){var _0x4ed791=_0x44f890,_0x58ec81=document[_0x4ed791(0x1c5)](_0x4ed791(0x1cb))[_0x4ed791(0x200)],_0x1a4bf4=window[_0x4ed791(0x212)]*0.7,_0x45fdd5=0x1e,_0x363c25=Math['min'](0x43a,_0x58ec81-_0x45fdd5*0x2),_0x3fa141=window[_0x4ed791(0x20a)]/window['innerHeight']<0x1;if(_0x3fa141){margin={'top':0x28,'right':0x1e,'bottom':0x3c,'left':0x4b};var _0x1a4ec3=1.4,_0x2dc440=Math['min'](_0x1a4bf4,_0x363c25*_0x1a4ec3);_0x2dc440=Math[_0x4ed791(0x277)](_0x2dc440,0x1f4);}else{margin={'top':0x28,'right':0x1e,'bottom':0x3c,'left':0x4f};var _0x28f357=0.7,_0x2dc440=_0x363c25*_0x28f357;}width=_0x363c25-margin[_0x4ed791(0x25f)]-margin['right'],height=_0x2dc440-margin[_0x4ed791(0x28b)]-margin[_0x4ed791(0x267)],d3[_0x4ed791(0x235)](_0x4ed791(0x227))[_0x4ed791(0x1e5)](_0x4ed791(0x2a7),_0x363c25)[_0x4ed791(0x1e5)](_0x4ed791(0x25d),_0x2dc440),document[_0x4ed791(0x1c5)](_0x4ed791(0x1ef))[_0x4ed791(0x276)][_0x4ed791(0x25d)]=_0x2dc440+'px';}window[_0x44f890(0x1fd)](_0x44f890(0x232),function(){updateChartDimensions(),requestAnimationFrame(function(){updateChart();});}),updateChartDimensions();function debounce(_0x5ee42e,_0x2f7fbf){let _0x228853;return function(){const _0xe51a18=this,_0x5e8333=arguments;clearTimeout(_0x228853),_0x228853=setTimeout(function(){var _0xde0eae=_0xc5bc;_0x5ee42e[_0xde0eae(0x29a)](_0xe51a18,_0x5e8333);},_0x2f7fbf);};}function _0x19a9(){var _0x568f97=['keys','Show\x20median\x20lines','select','nearest','Goals\x20per\x2090','league-legend','pct','click','scaleLinear','fill','createElement','DOMContentLoaded','event','.median-line','duration','median-line','team-label-','data','circle','replace','data-i18n','setAttribute','linearGradient#line-gradient','ID,Player,Top\x207\x20Leagues,Goals\x20per\x2090,xG\x20per\x2090,Shots\x20on\x20target\x20per\x2090,Shots\x20on\x20target\x20%,Passes\x20completed,Pass\x20accuracy\x20%,Possession\x20%,Positional\x20attacks\x20per\x2090,Counter\x20attacks\x20per\x2090,Touches\x20in\x20the\x20box\x20per\x2090,Goals\x20conceded\x20per\x2090,SoT\x20against\x20per\x2090,Defensive\x20duels\x20per\x2090,Defensive\x20duel\x20%,Aerial\x20duels\x20per\x2090,Aerial\x20duels\x20%,Passes\x20per\x20possession,PPDA\x0a','textContent','12px','144954KdPmIi','parentNode','rgba(0,\x20128,\x200,\x200.7)','pow','getBBox','nice','interrupt','rgba(0,\x200,\x200,\x200.3)','slice','help','startsWith','ArrowUp','Top\x205\x20Leagues','tooltip.xg-line-below','min','hideMedianLines','height','pageX','left','search-dimmed','3888732qyRAlS','innerHTML','temp-label','getElementById','xG\x20per\x2090','middle','bottom','.xy-line-hover','tickSize','x-metric-options','preventDefault','option','Escape','contains','xy-line-hover','currentTranslations','Inter,\x20sans-serif','property','remove','target','select-x','style','max','.custom-select-trigger,\x20.metric-select-trigger','match','right','text.team-label','transition','line','length','<br/>','nextElementSibling','Premier\x20League','toFixed','selectAll','send','NFD','Teams\x20above\x20this\x20line\x20are\x20scoring\x20more\x20goals\x20than\x20expected.','iconify-icon','classList','dark-mode','</span><br/>','top','team-label\x20','find','rgba(255,\x20255,\x200,\x200.7)','search-bar','flex','appendChild','className','mouseover','500','domain','push','y-metric-options','stroke-dasharray','metrics.','apply','getBoundingClientRect','all','Teams\x20right\x20of\x20this\x20line\x20are\x20scoring\x20more\x20goals\x20than\x20expected.','La\x20Liga','findIndex','.xy-line-label-bg','187584hCEtSp','.selected','tooltip.xg-line-left','fontWeight','filter','https://datamb.football/database/TEAM/teamplots.csv','width','translate(0,','select-league','<span>','search-match','5SjsbGi','.custom-select-options,\x20.metric-select-options','scrollIntoView','cloneNode','text-anchor','dominant-baseline','end','data-value','transparent','querySelector','range','Ligue\x201','847848GTHgRW','toggle-median-lines','splice','.chart-wrapper','</span>','axisLeft','#000','node','marker#arrow-over,\x20marker#arrow-under','bold','call','input','GET','open','add','tooltip.xg-line-above','marginRight','ArrowDown','getAttribute','589372TZrONc','selected','includes','toggle','extent','tooltip.xg-line-title','responseText','from','8px','toLowerCase','attr','none','normalize','Hide\x20median\x20lines','rgba(238,\x20130,\x20238,\x200.7)','body','rgba(255,\x200,\x200,\x200.7)','each','Unselect\x20all\x20teams','stroke','.chart-container','axisBottom','start','15px','2402820RixqkK','font-weight','Select\x20all\x20teams','ion-ios-circle-filled','#select-x','div','Enter','y-axis','display','Teams\x20left\x20of\x20this\x20line\x20are\x20scoring\x20fewer\x20goals\x20than\x20expected.','addEventListener','hanging','x-axis','clientWidth','rgba(0,\x200,\x20255,\x200.7)','median','y-label','Serie\x20A','.team-label','mouseout','span','pageY','querySelectorAll','innerWidth','append','anchor','translate(','font-size','key','rgba(255,\x20165,\x200,\x200.7)','backgroundColor','innerHeight','median-lines-tooltip','x-metric-trigger','indexOf','rotate(-90)','value','forEach','classed','legend-color','transform','split','1660560glFoZH','text','change','map','G\x20=\x20xG\x20Line','metrics','</strong><br/>','tooltip','rgba(70,\x20130,\x20180,\x200.7)','Bundesliga','#scatter-plot','font-family','block','cursor','<strong>','stroke-width','rgba(75,\x200,\x20130,\x200.7)','opacity','class','#select-y','showMedianLines','resize'];_0x19a9=function(){return _0x568f97;};return _0x19a9();}var prevWindowWidth=window[_0x44f890(0x20a)],prevWindowHeight=window[_0x44f890(0x212)];window[_0x44f890(0x1fd)]('resize',debounce(function(){var _0x2fb83f=_0x44f890,_0x5ac7eb=prevWindowWidth/prevWindowHeight<0x1,_0x42debb=window['innerWidth']/window[_0x2fb83f(0x212)]<0x1;prevWindowWidth=window[_0x2fb83f(0x20a)],prevWindowHeight=window['innerHeight'],requestAnimationFrame(function(){updateChart();});},0x32));var medianLinesVisible=![],selectX=d3[_0x44f890(0x235)](_0x44f890(0x1f7)),selectY=d3[_0x44f890(0x235)](_0x44f890(0x230)),names=data[_0x44f890(0x220)](function(_0x3ab680){return _0x3ab680[0x1];});header[_0x44f890(0x255)](0x3)[_0x44f890(0x218)](function(_0x3c4772){var _0x2136c6=_0x44f890;selectX['append']('option')[_0x2136c6(0x21e)](_0x3c4772)[_0x2136c6(0x1e5)](_0x2136c6(0x217),_0x3c4772),selectY[_0x2136c6(0x20b)](_0x2136c6(0x26c))[_0x2136c6(0x21e)](_0x3c4772)['attr'](_0x2136c6(0x217),_0x3c4772);}),selectX[_0x44f890(0x272)](_0x44f890(0x217),header[0x3]),selectY[_0x44f890(0x272)](_0x44f890(0x217),header[0x4]);var svg=d3[_0x44f890(0x235)]('#scatter-plot')[_0x44f890(0x1e5)](_0x44f890(0x2a7),width+margin[_0x44f890(0x25f)]+margin[_0x44f890(0x27a)])[_0x44f890(0x1e5)](_0x44f890(0x25d),height+margin['top']+margin[_0x44f890(0x267)])[_0x44f890(0x20b)]('g')[_0x44f890(0x1e5)](_0x44f890(0x21b),_0x44f890(0x20d)+margin[_0x44f890(0x25f)]+','+margin[_0x44f890(0x28b)]+')'),xMetric=header[0x3],yMetric=header[0x4],xScale=d3[_0x44f890(0x23b)]()[_0x44f890(0x1c6)]([0x0,width]),yScale=d3['scaleLinear']()[_0x44f890(0x1c6)]([height,0x0]),xAxis=d3[_0x44f890(0x1f0)](xScale)[_0x44f890(0x269)](0x0),yAxis=d3[_0x44f890(0x1cd)](yScale)[_0x44f890(0x269)](0x0),gXAxis=svg[_0x44f890(0x20b)]('g')[_0x44f890(0x1e5)](_0x44f890(0x22f),_0x44f890(0x1ff))[_0x44f890(0x1e5)](_0x44f890(0x21b),'translate(0,'+height+')'),gYAxis=svg[_0x44f890(0x20b)]('g')[_0x44f890(0x1e5)]('class',_0x44f890(0x1fa)),xLabel=svg['append'](_0x44f890(0x21e))['attr'](_0x44f890(0x22f),'x-label')[_0x44f890(0x1e5)](_0x44f890(0x1c0),_0x44f890(0x1c2))['attr']('x',width)[_0x44f890(0x1e5)]('y',height+0x23)['style']('font-family','Inter,\x20sans-serif')['style']('font-size','14px'),yLabel=svg[_0x44f890(0x20b)](_0x44f890(0x21e))[_0x44f890(0x1e5)](_0x44f890(0x22f),_0x44f890(0x203))[_0x44f890(0x1e5)](_0x44f890(0x1c0),'end')[_0x44f890(0x1e5)](_0x44f890(0x21b),_0x44f890(0x216))['attr']('y',-0x35)['attr']('x',0x0)[_0x44f890(0x276)](_0x44f890(0x228),_0x44f890(0x271))[_0x44f890(0x276)](_0x44f890(0x20e),'14px'),tooltip=d3[_0x44f890(0x235)]('body')[_0x44f890(0x20b)](_0x44f890(0x1f8))[_0x44f890(0x1e5)](_0x44f890(0x22f),_0x44f890(0x224));function isMobileDevice(){var _0x1481dd=_0x44f890;return window[_0x1481dd(0x20a)]<=0x300;}function positionTooltip(_0x5494af,_0x514bc9){var _0x1ccd87=_0x44f890;const _0x7e3c4d=_0x514bc9[_0x1ccd87(0x1cf)]();if(!_0x7e3c4d)return{'left':0x0,'top':0x0};const _0x222faf=_0x7e3c4d['getBoundingClientRect'](),_0x4f6412=window[_0x1ccd87(0x20a)],_0x5ea4a9=window[_0x1ccd87(0x212)];let _0x4553f5=_0x5494af[_0x1ccd87(0x25e)]+0xa,_0x328d9a=_0x5494af[_0x1ccd87(0x208)]-0x1c;return _0x4553f5+_0x222faf['width']>_0x4f6412-0xa&&(_0x4553f5=_0x5494af[_0x1ccd87(0x25e)]-_0x222faf[_0x1ccd87(0x2a7)]-0xa),_0x328d9a+_0x222faf[_0x1ccd87(0x25d)]>_0x5ea4a9-0xa&&(_0x328d9a=_0x5494af[_0x1ccd87(0x208)]-_0x222faf[_0x1ccd87(0x25d)]-0xa),_0x4553f5=Math['max'](0xa,_0x4553f5),_0x328d9a=Math[_0x1ccd87(0x277)](0xa,_0x328d9a),{'left':_0x4553f5,'top':_0x328d9a};}var clickedCircles=[],filteredData=data,filteredNames=names,circles;function updateChart(){var _0x169ede=_0x44f890;updateChartDimensions(),d3[_0x169ede(0x235)]('#scatter-plot')[_0x169ede(0x1e5)](_0x169ede(0x2a7),width+margin[_0x169ede(0x25f)]+margin['right'])[_0x169ede(0x1e5)]('height',height+margin[_0x169ede(0x28b)]+margin[_0x169ede(0x267)]),gXAxis[_0x169ede(0x1e5)]('transform',_0x169ede(0x1b8)+height+')'),xLabel[_0x169ede(0x1e5)]('x',width)['attr']('y',height+0x23),yLabel[_0x169ede(0x1e5)]('x',0x0);const _0x4e74fc=document[_0x169ede(0x1ea)][_0x169ede(0x288)][_0x169ede(0x26e)](_0x169ede(0x289));var _0x11ea25=document['getElementById'](_0x169ede(0x1b9))[_0x169ede(0x217)];if(_0x11ea25==='all')filteredData=data;else _0x11ea25===_0x169ede(0x259)?filteredData=data[_0x169ede(0x2a5)](function(_0x2b096a){var _0x4215fe=_0x169ede;return _0x2b096a[0x2]===_0x4215fe(0x281)||_0x2b096a[0x2]===_0x4215fe(0x29e)||_0x2b096a[0x2]===_0x4215fe(0x226)||_0x2b096a[0x2]===_0x4215fe(0x204)||_0x2b096a[0x2]===_0x4215fe(0x1c7);}):filteredData=data[_0x169ede(0x2a5)](function(_0x5f4fdf){return _0x5f4fdf[0x2]===_0x11ea25;});filteredNames=filteredData[_0x169ede(0x220)](function(_0x5691ca){return _0x5691ca[0x1];}),xMetric=selectX[_0x169ede(0x272)](_0x169ede(0x217)),yMetric=selectY[_0x169ede(0x272)](_0x169ede(0x217)),xScale[_0x169ede(0x1c6)]([0x0,width])['domain']((function(){var _0x55c4c9=_0x169ede;const _0x4026c1=d3['extent'](filteredData,function(_0x52a567){return+_0x52a567[header['indexOf'](xMetric)];}),_0x41a93f=d3['scaleLinear']()[_0x55c4c9(0x295)](_0x4026c1)[_0x55c4c9(0x252)](),_0x358607=_0x41a93f['domain'](),_0x1bd707=_0x4026c1[0x1]-_0x4026c1[0x0],_0x4a4568=_0x358607[0x1]-_0x358607[0x0];if(_0x4a4568/_0x1bd707>1.2){const _0x42739e=_0x1bd707*0.1;return[_0x4026c1[0x0]-_0x42739e,_0x4026c1[0x1]+_0x42739e];}else return _0x358607;}())),yScale[_0x169ede(0x1c6)]([height,0x0])[_0x169ede(0x295)]((function(){var _0x3f9ecb=_0x169ede;const _0x737973=d3[_0x3f9ecb(0x1df)](filteredData,function(_0x336ffe){var _0x2c9111=_0x3f9ecb;return+_0x336ffe[header[_0x2c9111(0x215)](yMetric)];}),_0x4d0c58=d3['scaleLinear']()[_0x3f9ecb(0x295)](_0x737973)[_0x3f9ecb(0x252)](),_0x593ace=_0x4d0c58[_0x3f9ecb(0x295)](),_0x5177f6=_0x737973[0x1]-_0x737973[0x0],_0x250cef=_0x593ace[0x1]-_0x593ace[0x0];if(_0x250cef/_0x5177f6>1.2){const _0x33456e=_0x5177f6*0.1;return[_0x737973[0x0]-_0x33456e,_0x737973[0x1]+_0x33456e];}else return _0x593ace;}())),gXAxis[_0x169ede(0x1d2)](d3[_0x169ede(0x1f0)](xScale)[_0x169ede(0x269)](0x0)),gYAxis[_0x169ede(0x1d2)](d3[_0x169ede(0x1cd)](yScale)[_0x169ede(0x269)](0x0));const _0x10edbc=_0x169ede(0x299)+xMetric[_0x169ede(0x1e4)]()[_0x169ede(0x246)](/ /g,'-')['replace'](/%/g,'pct'),_0x10e3b2=_0x169ede(0x299)+yMetric[_0x169ede(0x1e4)]()['replace'](/ /g,'-')['replace'](/%/g,_0x169ede(0x239));xLabel[_0x169ede(0x1e5)]('data-i18n',_0x10edbc),yLabel[_0x169ede(0x1e5)](_0x169ede(0x247),_0x10e3b2);if(window[_0x169ede(0x270)]&&window[_0x169ede(0x270)][_0x169ede(0x222)]){const _0xbd34b0=xMetric[_0x169ede(0x1e4)]()['replace'](/ /g,'-')[_0x169ede(0x246)](/%/g,_0x169ede(0x239)),_0x143194=yMetric['toLowerCase']()['replace'](/ /g,'-')[_0x169ede(0x246)](/%/g,_0x169ede(0x239)),_0xb532bd=window[_0x169ede(0x270)][_0x169ede(0x222)][_0xbd34b0],_0x25a723=window[_0x169ede(0x270)][_0x169ede(0x222)][_0x143194];xLabel[_0x169ede(0x21e)](_0xb532bd||xMetric),yLabel[_0x169ede(0x21e)](_0x25a723||yMetric);}else xLabel['text'](xMetric),yLabel[_0x169ede(0x21e)](yMetric);svg[_0x169ede(0x283)](_0x169ede(0x245))[_0x169ede(0x273)](),svg[_0x169ede(0x283)](_0x169ede(0x205))[_0x169ede(0x273)](),svg[_0x169ede(0x283)]('.xy-line')[_0x169ede(0x273)](),svg[_0x169ede(0x283)]('.xy-line-bg')[_0x169ede(0x273)](),svg[_0x169ede(0x283)]('.xy-line-label')[_0x169ede(0x273)](),svg['selectAll'](_0x169ede(0x2a0))[_0x169ede(0x273)](),svg[_0x169ede(0x283)]('.performance-label')[_0x169ede(0x273)](),svg[_0x169ede(0x283)](_0x169ede(0x249))[_0x169ede(0x273)](),svg[_0x169ede(0x283)](_0x169ede(0x1d0))[_0x169ede(0x273)](),svg[_0x169ede(0x283)](_0x169ede(0x268))['remove'](),svg[_0x169ede(0x283)](_0x169ede(0x240))[_0x169ede(0x273)]();if(xMetric===_0x169ede(0x265)&&yMetric===_0x169ede(0x237)||xMetric===_0x169ede(0x237)&&yMetric===_0x169ede(0x265)){var _0x3cc6c2=null,_0x2ccd94=d3[_0x169ede(0x25b)](filteredData,function(_0x3e7255){return _0x3e7255[header['indexOf'](xMetric)];}),_0x254842=d3[_0x169ede(0x277)](filteredData,function(_0x48dd6a){return _0x48dd6a[header['indexOf'](xMetric)];}),_0x34f1d4=d3[_0x169ede(0x25b)](filteredData,function(_0x1b38fa){return _0x1b38fa[header['indexOf'](yMetric)];}),_0x1cff85=d3[_0x169ede(0x277)](filteredData,function(_0x3b7e3){var _0x29b635=_0x169ede;return _0x3b7e3[header[_0x29b635(0x215)](yMetric)];}),_0x51ff39=Math[_0x169ede(0x25b)](_0x254842,_0x1cff85),_0x4e39d7=Math['max'](_0x2ccd94,_0x34f1d4);svg[_0x169ede(0x20b)](_0x169ede(0x27d))[_0x169ede(0x1e5)](_0x169ede(0x22f),'xy-line')[_0x169ede(0x1e5)]('x1',xScale(_0x4e39d7))['attr']('y1',yScale(_0x4e39d7))['attr']('x2',xScale(_0x51ff39))[_0x169ede(0x1e5)]('y2',yScale(_0x51ff39))['style'](_0x169ede(0x1ee),'#2ecc71')[_0x169ede(0x276)](_0x169ede(0x22c),'2')[_0x169ede(0x276)](_0x169ede(0x298),'5,3'),svg['append'](_0x169ede(0x27d))['attr'](_0x169ede(0x22f),_0x169ede(0x26f))[_0x169ede(0x1e5)]('x1',xScale(_0x4e39d7))[_0x169ede(0x1e5)]('y1',yScale(_0x4e39d7))[_0x169ede(0x1e5)]('x2',xScale(_0x51ff39))[_0x169ede(0x1e5)]('y2',yScale(_0x51ff39))['style'](_0x169ede(0x1ee),_0x169ede(0x1c4))[_0x169ede(0x276)](_0x169ede(0x22c),'15')[_0x169ede(0x276)](_0x169ede(0x22a),_0x169ede(0x256))['on']('mouseover',function(){var _0xc0a814=_0x169ede;_0x3cc6c2&&clearTimeout(_0x3cc6c2);var _0x3a4be1=d3[_0xc0a814(0x23f)][_0xc0a814(0x25e)],_0x3d5e3f=d3[_0xc0a814(0x23f)]['pageY'];_0x3cc6c2=setTimeout(function(){var _0x3c6490=_0xc0a814;tooltip['transition']()[_0x3c6490(0x241)](0xc8)['style'](_0x3c6490(0x22e),0.9);var _0x62a492='<strong>'+getTranslation(_0x3c6490(0x1e0),_0x3c6490(0x221))+_0x3c6490(0x223);xMetric===_0x3c6490(0x265)&&yMetric===_0x3c6490(0x237)?_0x62a492+=_0x3c6490(0x1ba)+getTranslation(_0x3c6490(0x1d7),_0x3c6490(0x286))+'</span><br/>'+'<span>'+getTranslation(_0x3c6490(0x25a),'Teams\x20below\x20this\x20line\x20are\x20scoring\x20fewer\x20goals\x20than\x20expected.')+_0x3c6490(0x1cc):_0x62a492+='<span>'+getTranslation('tooltip.xg-line-right',_0x3c6490(0x29d))+_0x3c6490(0x28a)+'<span>'+getTranslation(_0x3c6490(0x2a3),_0x3c6490(0x1fc))+'</span>',tooltip['html'](_0x62a492)[_0x3c6490(0x276)](_0x3c6490(0x25f),_0x3a4be1+0xa+'px')[_0x3c6490(0x276)](_0x3c6490(0x28b),_0x3d5e3f-0x1c+'px');},0x258);})['on'](_0x169ede(0x206),function(){var _0x27cca4=_0x169ede;_0x3cc6c2&&(clearTimeout(_0x3cc6c2),_0x3cc6c2=null),tooltip[_0x27cca4(0x27c)]()[_0x27cca4(0x241)](0x1f4)[_0x27cca4(0x276)](_0x27cca4(0x22e),0x0);});}if(medianLinesVisible){var _0x1aa993=d3['median'](filteredData,function(_0xdf3fcd){var _0x241d4d=_0x169ede;return _0xdf3fcd[header[_0x241d4d(0x215)](xMetric)];}),_0x15d446=d3[_0x169ede(0x202)](filteredData,function(_0x2e04a6){var _0x5aa116=_0x169ede;return _0x2e04a6[header[_0x5aa116(0x215)](yMetric)];});svg['append'](_0x169ede(0x27d))[_0x169ede(0x1e5)]('class',_0x169ede(0x242))[_0x169ede(0x1e5)]('x1',xScale(_0x1aa993))['attr']('y1',0x0)[_0x169ede(0x1e5)]('x2',xScale(_0x1aa993))[_0x169ede(0x1e5)]('y2',height)[_0x169ede(0x276)]('stroke',_0x169ede(0x254))[_0x169ede(0x276)](_0x169ede(0x298),'4'),svg[_0x169ede(0x20b)](_0x169ede(0x27d))[_0x169ede(0x1e5)](_0x169ede(0x22f),'median-line')[_0x169ede(0x1e5)]('x1',0x0)[_0x169ede(0x1e5)]('y1',yScale(_0x15d446))[_0x169ede(0x1e5)]('x2',width)[_0x169ede(0x1e5)]('y2',yScale(_0x15d446))[_0x169ede(0x276)](_0x169ede(0x1ee),_0x169ede(0x254))['style']('stroke-dasharray','4');}circles=svg[_0x169ede(0x283)](_0x169ede(0x245))[_0x169ede(0x244)](filteredData)['enter']()['append'](_0x169ede(0x245))[_0x169ede(0x1e5)]('cx',function(_0x2b89de){var _0x13269=_0x169ede;return xScale(_0x2b89de[header[_0x13269(0x215)](xMetric)]);})[_0x169ede(0x1e5)]('cy',function(_0x265989){var _0x23d925=_0x169ede;return yScale(_0x265989[header[_0x23d925(0x215)](yMetric)]);})[_0x169ede(0x1e5)]('r',0x8)[_0x169ede(0x276)](_0x169ede(0x23c),function(_0x8351a8){var _0x2a18a7=_0x169ede;if(clickedCircles['includes'](_0x8351a8[0x1]))return getLeagueColor(_0x8351a8[0x2]);return _0x2a18a7(0x225);})[_0x169ede(0x276)](_0x169ede(0x1ee),function(_0x5e8d74){var _0x4eeb54=_0x169ede;return clickedCircles['includes'](_0x5e8d74[0x1])?'#000':_0x4eeb54(0x1e6);})[_0x169ede(0x276)]('stroke-width',function(_0x2fdb89){return clickedCircles['includes'](_0x2fdb89[0x1])?0x2:0x0;})[_0x169ede(0x276)](_0x169ede(0x22a),'pointer')['on'](_0x169ede(0x293),function(_0x26c944){var _0x5cf3a8=_0x169ede;d3[_0x5cf3a8(0x235)](this)[_0x5cf3a8(0x27c)]()[_0x5cf3a8(0x241)](0xc8)[_0x5cf3a8(0x1e5)]('r',0xa)[_0x5cf3a8(0x276)]('fill',getLeagueColor(_0x26c944[0x2])),tooltip[_0x5cf3a8(0x27c)]()[_0x5cf3a8(0x241)](0xc8)['style']('opacity',0.9);const _0x2ec967=_0x5cf3a8(0x299)+xMetric[_0x5cf3a8(0x1e4)]()[_0x5cf3a8(0x246)](/ /g,'-')['replace'](/%/g,'pct'),_0x228f7b=_0x5cf3a8(0x299)+yMetric[_0x5cf3a8(0x1e4)]()['replace'](/ /g,'-')[_0x5cf3a8(0x246)](/%/g,'pct'),_0x44c597=getTranslation(_0x2ec967,xMetric),_0x3e0af4=getTranslation(_0x228f7b,yMetric);tooltip['html'](_0x5cf3a8(0x22b)+_0x26c944[0x1]+'</strong><br/>'+_0x44c597+':\x20'+_0x26c944[header[_0x5cf3a8(0x215)](xMetric)][_0x5cf3a8(0x282)](0x2)+_0x5cf3a8(0x27f)+_0x3e0af4+':\x20'+_0x26c944[header['indexOf'](yMetric)][_0x5cf3a8(0x282)](0x2));const _0x16730c=tooltip[_0x5cf3a8(0x1cf)]();if(_0x16730c){const _0x5e392d=_0x16730c[_0x5cf3a8(0x29b)](),_0x6c200e=window[_0x5cf3a8(0x20a)],_0x1e1da2=window[_0x5cf3a8(0x212)];let _0x4b902c=d3[_0x5cf3a8(0x23f)][_0x5cf3a8(0x25e)]+0xa,_0x13452b=d3['event'][_0x5cf3a8(0x208)]-0x1c;_0x4b902c+_0x5e392d[_0x5cf3a8(0x2a7)]>_0x6c200e-0xa&&(_0x4b902c=d3['event']['pageX']-_0x5e392d[_0x5cf3a8(0x2a7)]-0xa),_0x13452b+_0x5e392d[_0x5cf3a8(0x25d)]>_0x1e1da2-0xa&&(_0x13452b=d3[_0x5cf3a8(0x23f)]['pageY']-_0x5e392d[_0x5cf3a8(0x25d)]-0xa),_0x4b902c=Math[_0x5cf3a8(0x277)](0xa,_0x4b902c),_0x13452b=Math['max'](0xa,_0x13452b),tooltip[_0x5cf3a8(0x276)](_0x5cf3a8(0x25f),_0x4b902c+'px')['style'](_0x5cf3a8(0x28b),_0x13452b+'px');}else tooltip[_0x5cf3a8(0x276)](_0x5cf3a8(0x25f),d3['event'][_0x5cf3a8(0x25e)]+0xa+'px')[_0x5cf3a8(0x276)](_0x5cf3a8(0x28b),d3[_0x5cf3a8(0x23f)][_0x5cf3a8(0x208)]-0x1c+'px');window[_0x5cf3a8(0x20a)]<=0x300&&setTimeout(function(){var _0x384be0=_0x5cf3a8;tooltip[_0x384be0(0x27c)]()['duration'](0xc8)[_0x384be0(0x276)](_0x384be0(0x22e),0x0);},0x3e8);})['on'](_0x169ede(0x206),function(_0x1c3847){var _0x4cb8d6=_0x169ede;window[_0x4cb8d6(0x20a)]>0x300&&tooltip['transition']()[_0x4cb8d6(0x241)](0x1f4)['style']('opacity',0x0);var _0x1d93cb=clickedCircles[_0x4cb8d6(0x1dd)](_0x1c3847[0x1]);d3['select'](this)[_0x4cb8d6(0x27c)]()[_0x4cb8d6(0x241)](0xc8)['attr']('r',0x8)[_0x4cb8d6(0x276)]('fill',function(){var _0x43ed63=_0x4cb8d6;return _0x1d93cb?getLeagueColor(_0x1c3847[0x2]):_0x43ed63(0x225);});})['on']('click',function(_0x20256c){var _0x673182=_0x169ede,_0x7ca8ed=d3['select'](this)[_0x673182(0x219)](_0x673182(0x1bb));_0x7ca8ed&&resetSearch();var _0x38e252=clickedCircles[_0x673182(0x215)](_0x20256c[0x1]);_0x38e252===-0x1?(clickedCircles['push'](_0x20256c[0x1]),d3[_0x673182(0x235)](this)['style'](_0x673182(0x23c),getLeagueColor(_0x20256c[0x2]))[_0x673182(0x276)](_0x673182(0x1ee),_0x673182(0x1ce))[_0x673182(0x276)](_0x673182(0x22c),0x2),addTeamLabel(_0x20256c)):(clickedCircles[_0x673182(0x1ca)](_0x38e252,0x1),d3['select'](this)[_0x673182(0x276)](_0x673182(0x23c),'rgba(70,\x20130,\x20180,\x200.7)')['style']('stroke',_0x673182(0x1e6)),svg[_0x673182(0x283)]('.team-label-'+_0x20256c[0x1][_0x673182(0x246)](/\s+/g,'-')[_0x673182(0x1e4)]())[_0x673182(0x273)]());updateSelectAllButtonText();var _0x32232f=document[_0x673182(0x264)]('select-league')[_0x673182(0x217)];updateLeagueLegend(_0x32232f);}),clickedCircles[_0x169ede(0x218)](function(_0x76d7){var _0x4d54d3=_0x169ede,_0x5d7479=filteredData[_0x4d54d3(0x28d)](function(_0x866fd5){return _0x866fd5[0x1]===_0x76d7;});_0x5d7479&&addTeamLabel(_0x5d7479);}),updateSelectAllButtonText(),updateLeagueLegend(_0x11ea25);}function updateSelectAllButtonText(){var _0x2badd8=_0x44f890,_0x5168d2=document[_0x2badd8(0x264)]('select-icon'),_0x5b985c=document[_0x2badd8(0x264)]('select-all-tooltip'),_0x4ffd15=filteredData['every'](function(_0x44e429){return clickedCircles['includes'](_0x44e429[0x1]);});_0x4ffd15?(_0x5168d2['className']='ion-ios-circle-outline',_0x5b985c&&(window['currentTranslations']&&window['currentTranslations'][_0x2badd8(0x224)]?_0x5b985c['textContent']=window[_0x2badd8(0x270)]['tooltip']['unselectAll']||_0x2badd8(0x1ed):_0x5b985c[_0x2badd8(0x24b)]=_0x2badd8(0x1ed))):(_0x5168d2[_0x2badd8(0x292)]=_0x2badd8(0x1f6),_0x5b985c&&(window['currentTranslations']&&window[_0x2badd8(0x270)][_0x2badd8(0x224)]?_0x5b985c[_0x2badd8(0x24b)]=window[_0x2badd8(0x270)][_0x2badd8(0x224)][_0x2badd8(0x283)]||'Select\x20all\x20teams':_0x5b985c[_0x2badd8(0x24b)]=_0x2badd8(0x1f5)));}selectX['on']('change',updateChart),selectY['on'](_0x44f890(0x21f),updateChart);function removeSpecialCharsAndDiacritics(_0x4d162a){var _0x1fceb2=_0x44f890;if(!_0x4d162a)return'';return _0x4d162a[_0x1fceb2(0x1e7)](_0x1fceb2(0x285))[_0x1fceb2(0x246)](/[\u0300-\u036f]/g,'')[_0x1fceb2(0x246)](/Ø/g,'O')['replace'](/ø/g,'o');}var searchBar=document[_0x44f890(0x264)](_0x44f890(0x28f));searchBar[_0x44f890(0x1fd)](_0x44f890(0x1d3),function(){var _0x368c0f=_0x44f890,_0x3cc7e0=searchBar[_0x368c0f(0x217)][_0x368c0f(0x1e4)]();if(_0x3cc7e0===''){resetSearch();return;}var _0x33d85a=removeSpecialCharsAndDiacritics(_0x3cc7e0);svg[_0x368c0f(0x283)]('circle')['classed'](_0x368c0f(0x1bb),![])[_0x368c0f(0x276)](_0x368c0f(0x23c),function(_0x544ff6){return clickedCircles['includes'](_0x544ff6[0x1])?getLeagueColor(_0x544ff6[0x2]):'rgba(70,\x20130,\x20180,\x200.7)';})[_0x368c0f(0x276)](_0x368c0f(0x1ee),function(_0x1a5b5c){var _0xc74382=_0x368c0f;return clickedCircles['includes'](_0x1a5b5c[0x1])?_0xc74382(0x1ce):_0xc74382(0x1e6);})['style'](_0x368c0f(0x22c),function(_0xadcf04){var _0x24a58d=_0x368c0f;return clickedCircles[_0x24a58d(0x1dd)](_0xadcf04[0x1])?0x2:0x0;})[_0x368c0f(0x276)](_0x368c0f(0x2a5),_0x368c0f(0x1e6))[_0x368c0f(0x1ec)](function(){var _0x5ddea0=_0x368c0f;d3['select'](this)[_0x5ddea0(0x276)]('r',null);}),svg[_0x368c0f(0x283)]('.team-label')[_0x368c0f(0x219)](_0x368c0f(0x1bb),![])[_0x368c0f(0x219)](_0x368c0f(0x260),![]);var _0x50d418=[];svg[_0x368c0f(0x283)](_0x368c0f(0x245))[_0x368c0f(0x2a5)](function(_0x28e2e9){var _0x4c92f0=_0x368c0f,_0x5475c0=_0x28e2e9[0x1][_0x4c92f0(0x1e4)](),_0x560a45=removeSpecialCharsAndDiacritics(_0x5475c0),_0x50079c=_0x5475c0[_0x4c92f0(0x1dd)](_0x3cc7e0)||_0x560a45[_0x4c92f0(0x1dd)](_0x33d85a);return _0x50079c&&_0x50d418[_0x4c92f0(0x296)](_0x28e2e9[0x1]),_0x50079c;})['classed'](_0x368c0f(0x1bb),!![])[_0x368c0f(0x1ec)](function(){var _0x40d596=_0x368c0f;this[_0x40d596(0x24e)]['appendChild'](this);}),_0x50d418[_0x368c0f(0x27e)]>0x0?(svg[_0x368c0f(0x283)]('.team-label')[_0x368c0f(0x219)](_0x368c0f(0x260),!![]),svg[_0x368c0f(0x283)](_0x368c0f(0x205))[_0x368c0f(0x2a5)](function(){var _0x277939=_0x368c0f,_0x276b4b=d3[_0x277939(0x235)](this)[_0x277939(0x21e)]();return _0x50d418[_0x277939(0x1dd)](_0x276b4b);})[_0x368c0f(0x219)](_0x368c0f(0x1bb),!![])[_0x368c0f(0x219)]('search-dimmed',![])[_0x368c0f(0x1ec)](function(){var _0x391750=_0x368c0f;this[_0x391750(0x24e)]['appendChild'](this);}),_0x50d418[_0x368c0f(0x218)](function(_0x1981be){var _0x44b5da=_0x368c0f,_0x3b272b=_0x44b5da(0x243)+_0x1981be[_0x44b5da(0x246)](/\s+/g,'-')[_0x44b5da(0x1e4)]();if(svg[_0x44b5da(0x235)]('.'+_0x3b272b)['size']()===0x0){var _0x113816=filteredData[_0x44b5da(0x28d)](function(_0x4bfac9){return _0x4bfac9[0x1]===_0x1981be;});_0x113816&&(addTeamLabel(_0x113816),svg[_0x44b5da(0x235)]('.'+_0x3b272b)[_0x44b5da(0x219)](_0x44b5da(0x1bb),!![]));}})):(svg[_0x368c0f(0x283)]('.team-label')['each'](function(){var _0xfeaee8=_0x368c0f,_0x3ca3b0=d3[_0xfeaee8(0x235)](this),_0x3029f8=_0x3ca3b0[_0xfeaee8(0x21e)]();!clickedCircles[_0xfeaee8(0x1dd)](_0x3029f8)&&_0x3ca3b0[_0xfeaee8(0x273)]();}),svg[_0x368c0f(0x283)](_0x368c0f(0x245))[_0x368c0f(0x276)]('fill',function(_0x152140){var _0xe9bf1a=_0x368c0f;return clickedCircles[_0xe9bf1a(0x1dd)](_0x152140[0x1])?getLeagueColor(_0x152140[0x2]):_0xe9bf1a(0x225);})[_0x368c0f(0x276)](_0x368c0f(0x1ee),function(_0x46a486){var _0x3b6880=_0x368c0f;return clickedCircles[_0x3b6880(0x1dd)](_0x46a486[0x1])?'#000':'none';})['style'](_0x368c0f(0x22c),function(_0xea35b4){var _0x1109a5=_0x368c0f;return clickedCircles[_0x1109a5(0x1dd)](_0xea35b4[0x1])?0x2:0x0;}));});function resetSearch(){var _0x562fd=_0x44f890;searchBar[_0x562fd(0x217)]='',svg[_0x562fd(0x283)]('circle')[_0x562fd(0x219)](_0x562fd(0x1bb),![])['style'](_0x562fd(0x23c),function(_0x262057){var _0x4dc3cf=_0x562fd;return clickedCircles[_0x4dc3cf(0x1dd)](_0x262057[0x1])?getLeagueColor(_0x262057[0x2]):_0x4dc3cf(0x225);})[_0x562fd(0x276)](_0x562fd(0x1ee),function(_0x5e1fcb){var _0x162a92=_0x562fd;return clickedCircles[_0x162a92(0x1dd)](_0x5e1fcb[0x1])?'#000':'none';})[_0x562fd(0x276)](_0x562fd(0x22c),function(_0x535011){return clickedCircles['includes'](_0x535011[0x1])?0x2:0x0;})['style']('filter',_0x562fd(0x1e6))[_0x562fd(0x1ec)](function(){var _0x20eddc=_0x562fd;d3[_0x20eddc(0x235)](this)[_0x20eddc(0x276)]('r',null),d3[_0x20eddc(0x235)](this)[_0x20eddc(0x253)]();}),svg[_0x562fd(0x283)](_0x562fd(0x205))[_0x562fd(0x219)](_0x562fd(0x1bb),![])[_0x562fd(0x219)](_0x562fd(0x260),![])[_0x562fd(0x1ec)](function(){d3['select'](this)['interrupt']();}),svg[_0x562fd(0x283)](_0x562fd(0x205))['each'](function(){var _0x105644=_0x562fd,_0xdd5fae=d3[_0x105644(0x235)](this),_0x5cc8ae=_0xdd5fae[_0x105644(0x21e)]();!clickedCircles[_0x105644(0x1dd)](_0x5cc8ae)&&_0xdd5fae['remove']();});}var toggleButton=document[_0x44f890(0x264)](_0x44f890(0x1c9));toggleButton[_0x44f890(0x1fd)]('click',function(){var _0x9cb2fb=_0x44f890;medianLinesVisible=!medianLinesVisible,updateChart();const _0x5ccb44=document['getElementById']('median-lines-tooltip');window[_0x9cb2fb(0x270)]&&window['currentTranslations'][_0x9cb2fb(0x224)]?_0x5ccb44['textContent']=medianLinesVisible?window[_0x9cb2fb(0x270)][_0x9cb2fb(0x224)][_0x9cb2fb(0x25c)]||_0x9cb2fb(0x1e8):window[_0x9cb2fb(0x270)][_0x9cb2fb(0x224)][_0x9cb2fb(0x231)]||_0x9cb2fb(0x234):_0x5ccb44['textContent']=medianLinesVisible?_0x9cb2fb(0x1e8):_0x9cb2fb(0x234);});function selectAllCircles(){var _0x5abb35=_0x44f890,_0x40b3de=filteredData['every'](function(_0x5e6a92){var _0x347d63=_0xc5bc;return clickedCircles[_0x347d63(0x1dd)](_0x5e6a92[0x1]);});_0x40b3de?(clickedCircles=[],svg[_0x5abb35(0x283)](_0x5abb35(0x245))[_0x5abb35(0x276)](_0x5abb35(0x23c),_0x5abb35(0x225))[_0x5abb35(0x276)](_0x5abb35(0x1ee),_0x5abb35(0x1e6)),svg[_0x5abb35(0x283)](_0x5abb35(0x205))['remove']()):(svg[_0x5abb35(0x283)](_0x5abb35(0x245))['each'](function(_0x334570){var _0x11f0bf=_0x5abb35;!clickedCircles[_0x11f0bf(0x1dd)](_0x334570[0x1])&&(clickedCircles['push'](_0x334570[0x1]),d3[_0x11f0bf(0x235)](this)[_0x11f0bf(0x276)](_0x11f0bf(0x23c),getLeagueColor(_0x334570[0x2]))[_0x11f0bf(0x276)](_0x11f0bf(0x1ee),_0x11f0bf(0x1ce))['style'](_0x11f0bf(0x22c),0x2));}),filteredData['forEach'](function(_0x3273d2){addTeamLabel(_0x3273d2);}));updateSelectAllButtonText();var _0x526cb0=document[_0x5abb35(0x264)](_0x5abb35(0x1b9))['value'];updateLeagueLegend(_0x526cb0);}updateChart(),initializeCustomSelectors();function updateLeagueLegend(_0x5c7ad6){var _0x5fc537=_0x44f890,_0x38543d=document[_0x5fc537(0x264)](_0x5fc537(0x238));if(_0x5c7ad6!=='all'&&_0x5c7ad6!==_0x5fc537(0x259)){_0x38543d[_0x5fc537(0x276)]['display']=_0x5fc537(0x1e6);return;}if(clickedCircles[_0x5fc537(0x27e)]===0x0){_0x38543d['style']['display']='none';return;}var _0x56d7a1=![];for(var _0x27bbf1=0x0;_0x27bbf1<filteredData['length'];_0x27bbf1++){if(clickedCircles[_0x5fc537(0x1dd)](filteredData[_0x27bbf1][0x1])){_0x56d7a1=!![];break;}}if(!_0x56d7a1){_0x38543d[_0x5fc537(0x276)][_0x5fc537(0x1fb)]=_0x5fc537(0x1e6);return;}_0x38543d[_0x5fc537(0x276)][_0x5fc537(0x1fb)]=_0x5fc537(0x290),_0x38543d[_0x5fc537(0x262)]='';var _0x377eaf=document['createElement'](_0x5fc537(0x1f8));_0x377eaf[_0x5fc537(0x276)][_0x5fc537(0x2a4)]=_0x5fc537(0x1d1),_0x377eaf[_0x5fc537(0x276)][_0x5fc537(0x1d8)]=_0x5fc537(0x1f2),_0x38543d[_0x5fc537(0x291)](_0x377eaf);var _0x27020f=[];if(_0x5c7ad6===_0x5fc537(0x29c))_0x27020f=Object[_0x5fc537(0x233)](leagueColors);else _0x5c7ad6===_0x5fc537(0x259)&&(_0x27020f=[_0x5fc537(0x281),'La\x20Liga',_0x5fc537(0x226),'Serie\x20A',_0x5fc537(0x1c7)]);_0x27020f['forEach'](function(_0x9f15d9){var _0x566abc=_0x5fc537,_0x482860=document[_0x566abc(0x23d)]('div');_0x482860[_0x566abc(0x292)]='legend-item';var _0x31c464=document[_0x566abc(0x23d)](_0x566abc(0x1f8));_0x31c464['className']=_0x566abc(0x21a),_0x31c464[_0x566abc(0x276)][_0x566abc(0x211)]=leagueColors[_0x9f15d9];var _0x4dae4e=document[_0x566abc(0x23d)]('span');_0x4dae4e[_0x566abc(0x24b)]=_0x9f15d9,_0x482860[_0x566abc(0x291)](_0x31c464),_0x482860[_0x566abc(0x291)](_0x4dae4e),_0x38543d[_0x566abc(0x291)](_0x482860);});}function addTeamLabel(_0x2a9736,_0x278ed1){var _0x36a0ee=_0x44f890,_0x431754=xScale(_0x2a9736[header['indexOf'](xMetric)]),_0xabf89b=yScale(_0x2a9736[header['indexOf'](yMetric)]),_0xaae769=_0x36a0ee(0x243)+_0x2a9736[0x1]['toLowerCase']()[_0x36a0ee(0x246)](/\s+/g,'-');if(svg[_0x36a0ee(0x235)]('.'+_0xaae769)['size']()>0x0)return;var _0x458c95=svg[_0x36a0ee(0x20b)](_0x36a0ee(0x21e))[_0x36a0ee(0x1e5)](_0x36a0ee(0x22f),_0x36a0ee(0x263))['text'](_0x2a9736[0x1])[_0x36a0ee(0x276)](_0x36a0ee(0x228),'Inter,\x20sans-serif')['style'](_0x36a0ee(0x20e),_0x36a0ee(0x24c))[_0x36a0ee(0x276)](_0x36a0ee(0x22e),0x0),_0x4e773f=_0x458c95[_0x36a0ee(0x1cf)]()['getComputedTextLength']();_0x458c95[_0x36a0ee(0x273)]();var _0x558d60=[{'dx':0x8,'dy':0x0,'anchor':_0x36a0ee(0x1f1)},{'dx':-0x8,'dy':0x0,'anchor':'end'},{'dx':0x0,'dy':-0x8,'anchor':_0x36a0ee(0x266)},{'dx':0x0,'dy':0x8,'anchor':_0x36a0ee(0x266)}],_0x442449=[];svg[_0x36a0ee(0x283)](_0x36a0ee(0x27b))[_0x36a0ee(0x1ec)](function(){var _0x20a470=_0x36a0ee,_0x153918=this[_0x20a470(0x251)]();_0x442449[_0x20a470(0x296)]({'x1':_0x153918['x']-0x2,'y1':_0x153918['y']-0x2,'x2':_0x153918['x']+_0x153918[_0x20a470(0x2a7)]+0x2,'y2':_0x153918['y']+_0x153918[_0x20a470(0x25d)]+0x2});});var _0x1dca39=null,_0x16da67=0xc,_0x3dff52=width,_0xd74e81=height;if(!_0x278ed1){for(var _0x4d930d=0x0;_0x4d930d<_0x558d60[_0x36a0ee(0x27e)];_0x4d930d++){var _0x46d15d=_0x558d60[_0x4d930d],_0x507b3d=_0x431754+_0x46d15d['dx'],_0x8dc4a1=_0xabf89b+_0x46d15d['dy'],_0x35478e={'x1':_0x46d15d[_0x36a0ee(0x20c)]===_0x36a0ee(0x1c2)?_0x507b3d-_0x4e773f:_0x46d15d[_0x36a0ee(0x20c)]===_0x36a0ee(0x266)?_0x507b3d-_0x4e773f/0x2:_0x507b3d,'y1':_0x46d15d['dy']<0x0?_0x8dc4a1-_0x16da67:_0x8dc4a1,'x2':_0x46d15d['anchor']===_0x36a0ee(0x1f1)?_0x507b3d+_0x4e773f:_0x46d15d[_0x36a0ee(0x20c)]===_0x36a0ee(0x266)?_0x507b3d+_0x4e773f/0x2:_0x507b3d,'y2':_0x46d15d['dy']<0x0?_0x8dc4a1:_0x8dc4a1+_0x16da67};if(_0x35478e['x1']<0x0||_0x35478e['x2']>_0x3dff52||_0x35478e['y1']<0x0||_0x35478e['y2']>_0xd74e81)continue;var _0xd727e4=![];for(var _0xe257a2=0x0;_0xe257a2<_0x442449[_0x36a0ee(0x27e)];_0xe257a2++){var _0x3a6d4c=_0x442449[_0xe257a2];if(!(_0x35478e['x2']<_0x3a6d4c['x1']||_0x35478e['x1']>_0x3a6d4c['x2']||_0x35478e['y2']<_0x3a6d4c['y1']||_0x35478e['y1']>_0x3a6d4c['y2'])){_0xd727e4=!![];break;}}if(!_0xd727e4){_0x1dca39=_0x46d15d;break;}}if(!_0x1dca39){var _0x59df09=0x32,_0x3927d3=0x0;_0x442449[_0x36a0ee(0x218)](function(_0x448ad9){var _0x3d2472=_0x36a0ee,_0x2ad7ce=(_0x448ad9['x1']+_0x448ad9['x2'])/0x2,_0x5ab66b=(_0x448ad9['y1']+_0x448ad9['y2'])/0x2,_0x326917=Math['sqrt'](Math[_0x3d2472(0x250)](_0x2ad7ce-_0x431754,0x2)+Math[_0x3d2472(0x250)](_0x5ab66b-_0xabf89b,0x2));_0x326917<_0x59df09&&_0x3927d3++;});if(_0x3927d3>0x3)return;}}if(!_0x1dca39){_0x1dca39=_0x558d60[0x0];var _0x507b3d=_0x431754+_0x1dca39['dx'],_0x8dc4a1=_0xabf89b+_0x1dca39['dy'],_0x35478e={'x1':_0x1dca39[_0x36a0ee(0x20c)]===_0x36a0ee(0x1c2)?_0x507b3d-_0x4e773f:_0x1dca39[_0x36a0ee(0x20c)]==='middle'?_0x507b3d-_0x4e773f/0x2:_0x507b3d,'y1':_0x1dca39['dy']<0x0?_0x8dc4a1-_0x16da67:_0x8dc4a1,'x2':_0x1dca39[_0x36a0ee(0x20c)]==='start'?_0x507b3d+_0x4e773f:_0x1dca39[_0x36a0ee(0x20c)]===_0x36a0ee(0x266)?_0x507b3d+_0x4e773f/0x2:_0x507b3d,'y2':_0x1dca39['dy']<0x0?_0x8dc4a1:_0x8dc4a1+_0x16da67};if(_0x35478e['x1']<0x0)_0x1dca39=_0x558d60[0x0];else _0x35478e['x2']>_0x3dff52&&(_0x1dca39=_0x558d60[0x1]);if(_0x35478e['y1']<0x0)_0x1dca39=_0x558d60[0x3];else _0x35478e['y2']>_0xd74e81&&(_0x1dca39=_0x558d60[0x2]);}var _0x27673=svg['append'](_0x36a0ee(0x21e))[_0x36a0ee(0x1e5)](_0x36a0ee(0x22f),_0x36a0ee(0x28c)+_0xaae769)[_0x36a0ee(0x1e5)]('x',_0x431754+_0x1dca39['dx'])[_0x36a0ee(0x1e5)]('y',_0xabf89b+_0x1dca39['dy'])[_0x36a0ee(0x1e5)](_0x36a0ee(0x1c0),_0x1dca39[_0x36a0ee(0x20c)])[_0x36a0ee(0x1e5)](_0x36a0ee(0x1c1),_0x1dca39['dy']<0x0?'auto':_0x36a0ee(0x1fe))[_0x36a0ee(0x21e)](_0x2a9736[0x1])[_0x36a0ee(0x276)](_0x36a0ee(0x228),_0x36a0ee(0x271))[_0x36a0ee(0x276)](_0x36a0ee(0x20e),_0x36a0ee(0x24c))[_0x36a0ee(0x276)](_0x36a0ee(0x1f4),_0x36a0ee(0x294))[_0x36a0ee(0x276)](_0x36a0ee(0x23c),'#333');_0x278ed1&&_0x27673['classed'](_0x36a0ee(0x1bb),!![]);var _0x4ff221=_0x27673['node']()[_0x36a0ee(0x251)]();_0x442449[_0x36a0ee(0x296)]({'x1':_0x4ff221['x']-0x2,'y1':_0x4ff221['y']-0x2,'x2':_0x4ff221['x']+_0x4ff221[_0x36a0ee(0x2a7)]+0x2,'y2':_0x4ff221['y']+_0x4ff221[_0x36a0ee(0x25d)]+0x2});}document['addEventListener'](_0x44f890(0x23e),function(){var _0x11d748=_0x44f890;const _0x1d2655=document[_0x11d748(0x264)](_0x11d748(0x213));_0x1d2655['textContent']=medianLinesVisible?'Hide\x20median\x20lines':'Show\x20median\x20lines';});
    </script>
  <script>



        // Global translation helper function
        function getTranslation(key, defaultText) {
            // Split the key into parts (e.g., "tooltip.xg-line-title" -> ["tooltip", "xg-line-title"])
            const keys = key.split('.');
            
            // Try to find the translation in the current language
            try {
                let currentTranslations = window.currentTranslations || {};
                for (const k of keys) {
                    if (currentTranslations && currentTranslations[k]) {
                        currentTranslations = currentTranslations[k];
                    } else {
                        return defaultText;
                    }
                }
                return currentTranslations;
            } catch (e) {
                return defaultText;
            }
        }
        
    
  function setLanguage(language) {
    localStorage.setItem('preferredLanguage', language);
    const url = new URL(window.location.href);
    if (language === 'en') {
      url.searchParams.delete('lang');
    } else {
      url.searchParams.set('lang', language);
    }
    window.history.pushState({}, '', url);
    applyLanguage(language);
  }
  
  function getPreferredLanguage() {
    // PRIORITY 1: Check URL parameter first
    const urlParams = new URLSearchParams(window.location.search);
    const langParam = urlParams.get('lang');
    if (langParam) {
      return langParam;
    }
    // PRIORITY 2: Check localStorage
    const storedLang = localStorage.getItem('preferredLanguage');
    if (storedLang) {
      return storedLang;
    }
    // PRIORITY 3: Use browser language
    return getBrowserLanguage() || 'en';
  }

  function getBrowserLanguage() {
    return navigator.language.slice(0, 2);
  }

  function applyLanguage(language) {
    console.log(language);

    if (language === 'en') {
      return;
    }

    
    fetch(`locales/${language}.json`)
      .then(response => {
        // Don't throw an error, just return null if response is not OK
        return response.ok ? response.json() : null;
      })
      .then(translations => {
        // Only proceed if translations exist
        if (translations) {
            window.currentTranslations = translations;
          document.querySelectorAll('[data-i18n]').forEach(element => {
            const keys = element.getAttribute('data-i18n').split('.');
            let value = translations;
            for (const key of keys) {
              if (value === undefined || value === null) break;
              value = value[key];
            }
            if (value) {
              if (element.tagName === 'META') {
              element.setAttribute('content', value);
          } else if (element.tagName === 'INPUT') {
              element.setAttribute('placeholder', value);
          } else if (value.includes('<')) {
              element.innerHTML = value;
          } else {
              element.textContent = value;
          }          }
          });
          // REMOVE FOR PAGES WITH NO METADATA
          document.querySelector('meta[name="language"]').setAttribute('content', language);
        }
      })
      .catch(() => {
        // Completely empty catch block to silently ignore any errors
      });
  }
  
  const preferredLanguage = getPreferredLanguage();
  applyLanguage(preferredLanguage);
  
  // BUTTON LANGUAGE SWITCHER REMOVE FOR PAGES WITH NO LANGUAGE SWITCHER
  document.addEventListener('DOMContentLoaded', function() {
    const languageButton = document.getElementById('languageButton');
    const languageDropdown = document.getElementById('languageDropdown');
    

    if (languageButton) {
      languageButton.addEventListener('click', function(e) {
        e.stopPropagation();
        languageDropdown.classList.toggle('show');
      });
    }
  
    document.querySelectorAll('.language-option').forEach(option => {
      option.addEventListener('click', function(e) {
        e.preventDefault();
        const lang = this.getAttribute('href').split('=')[1];
        setLanguage(lang);
        languageDropdown.classList.remove('show');
      });
    });
  
    document.addEventListener('click', function(event) {
      if (!event.target.closest('.language-switcher-container')) {
        if (languageDropdown) {
          languageDropdown.classList.remove('show');
        }
      }
    });
  });


function toggleDarkMode() {
            const body = document.querySelector("body");
            body.classList.toggle("dark-mode");
            
            // Store the user's preference in local storage
            const isDarkMode = body.classList.contains("dark-mode");
            localStorage.setItem("darkMode", isDarkMode);
            
            // Update chart to apply dark mode styles to SVG elements
        }
        
        // Check if user has a stored preference for dark mode
        document.addEventListener('DOMContentLoaded', function() {
            const storedDarkMode = localStorage.getItem("darkMode");
            
            if (storedDarkMode === "true") {
                const body = document.querySelector("body");
                body.classList.add("dark-mode");
            }
            
 
        });
        
        function takeScreenshot() {
            const chartContainer = document.querySelector('.chart-container');
            const isDarkMode = document.body.classList.contains('dark-mode');
            
            html2canvas(chartContainer, {
                scale: 2, // Higher quality
                backgroundColor: isDarkMode ? '#2c2c2c' : '#FFFFFF',
                allowTaint: true,
                useCORS: true,
                logging: false
            }).then(function(renderedCanvas) {
                const finalCanvas = document.createElement('canvas');
                finalCanvas.width = renderedCanvas.width;
                finalCanvas.height = renderedCanvas.height;
                const finalCtx = finalCanvas.getContext('2d');
                finalCtx.drawImage(renderedCanvas, 0, 0);
                
                // Load the watermark
                const watermarkImg = new Image();
                watermarkImg.crossOrigin = "Anonymous";
                
                watermarkImg.onload = function() {
                    const watermarkWidth = finalCanvas.width * 0.3;
                    const watermarkHeight = (watermarkWidth / watermarkImg.width) * watermarkImg.height;
                    
                    const x = (finalCanvas.width - watermarkWidth) / 2;
                    const y = (finalCanvas.height - watermarkHeight) / 2;
                    
                    finalCtx.save();
                    finalCtx.globalAlpha = 0.04;
                    finalCtx.drawImage(watermarkImg, x, y, watermarkWidth, watermarkHeight);
                    finalCtx.restore();
                    
                    const dataURL = finalCanvas.toDataURL('image/png', 1.0);
                    const link = document.createElement('a');
                    link.download = 'DataMB Screenshot.png';
                    link.href = dataURL;
                    link.click();
                };
                watermarkImg.src = 'https://datamb.football/logo.png';
            }).catch(function(error) {
            });
        }
        
    </script>
         <center>
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7677714701428206"
                 crossorigin="anonymous"></script>
            <!-- radarplotsearch -->
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-7677714701428206"
                 data-ad-slot="6673239737"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script></center>
</body>
</html>
