<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <meta name="language" content="en">
    <link rel="canonical" href="https://datamb.football/plotteam/" />
<link rel="alternate" hreflang="x-default" href="https://datamb.football/plotteam"/>
<link rel="alternate" hreflang="en" href="https://datamb.football/plotteam/?lang=en" />
    <link rel="shortcut icon" type="image/x-icon" href="https://datamb.football/favicon.ico">
    <meta name="description" data-i18n="meta.description" content="Plot Top 7 League team statistics. Visualize team performance and analyze multiple metrics such as Goals, Goals conceded, xG, Shots on target, Pressing, Defensive duels, Pass completion and more for teams in Premier League, La Liga, Bundesliga, Serie A, Ligue 1, Eredivisie, Primeira Liga.">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@DataMB_">
    <meta name="twitter:title" content="DataMB | Plot Teams">
    <meta name="twitter:description" content="Generate scatter plots for Top 7 League teams">
    <meta name="twitter:image" content="https://datamb.football/vignettes/teamplots.png">
    <meta property="og:image" content="https://datamb.football/vignettes/teamplots.png">
    <title data-i18n="meta.title">DataMB | Plot Teams</title>
    <script>
        (function() {
            var width = window.innerWidth;
            var viewportMeta = document.querySelector('meta[name="viewport"]');
            if (viewportMeta) {
      if (width < 645) {
                
            var initialScale = width / 645;
      viewportMeta.setAttribute('content', 'width=device-width, initial-scale=' + initialScale + ', user-scalable=no');
      } else {
                  var fixedScale = 1;
          viewportMeta.setAttribute('content', 'width=device-width, initial-scale=' + fixedScale + ', user-scalable=no');
      
        }
          } 
      })();
      </script>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --background-color: #f5f7fa;
            --container-bg: #ffffff;
            --text-color: #333333;
            --border-color: #e0e0e0;
            --hover-color: #f0f0f0;
            --button-color: #3498db;
            --button-text: #ffffff;
            --header-bg: #ffffff;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .dark-mode {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --background-color: #0e0f0f;
            --container-bg: #1a1a1a;
            --text-color: #e0e0e0;
            --border-color: #333333;
            --hover-color: #252525;
            --button-color: #2980b9;
            --button-text: #ffffff;
            --header-bg: #0e0f0f;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s;
        }

        .header {
            background-color: var(--header-bg);
            display: flex;
            padding: 20px;
            align-items: center;
            justify-content: space-between;
            box-shadow: var(--shadow);
            position: relative;
            font-family: system-ui;
            top: 0;
            z-index: 100;
        }


        .container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
            box-sizing: border-box;
        }

        /* Replace plot-container with a simpler structure */
        .chart-wrapper {
            background-color: var(--container-bg);
            border-radius: 10px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 30px;
            position: relative;
            width: 100%;
        }

        .legend {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            padding: 10px;
            border-top: 1px solid var(--border-color);
            width: 100%;
        }

        .legend-item {
            display: flex;
            align-items: center;
            font-size: 12px;
        }

        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 5px;
            border: 1px solid rgba(0, 0, 0, 0.2);
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 20px;
            justify-content: center;
            align-items: center;
        }

        select, input {
            padding: 8px 12px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            background-color: var(--container-bg);
            color: var(--text-color);
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            transition: border-color 0.2s;
            height: 36px;
            box-sizing: border-box;
        }

        select:focus, input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        /* Ensure consistent height for controls in the same row */
        select, input, .btn:not(.btn-icon), .custom-select-trigger, .metric-select-trigger {
            height: 36px;
            box-sizing: border-box;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            background-color: var(--button-color);
            color: var(--button-text);
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
            height: 36px;
            box-sizing: border-box;
        }

        .btn:hover {
            background-color: #2980b9;
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-color);
        }

        .btn-outline:hover {
            background-color: var(--hover-color);
        }

        .btn-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            padding: 0;
            border-radius: 6px;
        }

        #search-bar, #select-league {
            width: 178px;
        }

        #select-x, #select-y {
            width: 190px;
        }

        /* Add tooltip for icon buttons */
        .btn-icon .icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
        }

        .btn-icon i {
            font-size: 18px;
        }
        .chart-container {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            margin-top: 30px; /* Consistent spacing from controls */
        }

        #scatter-plot {
            width: 100%;
            height: auto; /* Height will be set dynamically */
            display: block;
            margin: 0 auto;
            max-width: 1082px;
        }
        
  

        .tooltip {
            position: absolute;
            background-color: var(--container-bg);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 10px;
            font-size: 12px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
            box-shadow: var(--shadow);
            z-index: 1000;
        }

        /* Custom button tooltips */
        .btn-tooltip {
            position: relative;
            display: inline-block;
        }

        .btn-tooltip .btn-tooltip-text {
            visibility: hidden;
            width: 120px;
            background-color: var(--container-bg);
            color: var(--text-color);
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1001;
            bottom: 125%;
            left: 50%;
            margin-left: -60px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 12px;
            font-weight: normal;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            pointer-events: none;
        }

        /* Hide button tooltips on mobile */
        @media (max-width: 768px) {
            .btn-tooltip .btn-tooltip-text {
                display: none;
            }
        }

        .btn-tooltip .btn-tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--border-color) transparent transparent transparent;
        }

        .btn-tooltip:hover .btn-tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        .player-name {
            font-size: 12px;
            font-weight: 500;
        }

        circle {
            cursor: pointer;
            transition: r 0.2s, fill 0.2s;
        }


        /* Add new styles for better search highlighting */
        circle.search-match {
            fill: #ff3366 !important; /* Bright pink fill */
            stroke: #ffffff;
            stroke-width: 2px;
            filter: drop-shadow(0 0 5px rgba(255, 51, 102, 0.7));
            animation: circlePulse 1.5s infinite ease-in-out;
        }

        .dark-mode circle.search-match {
            stroke: #000000;
        }

        @keyframes circlePulse {
            0% { r: 6; }
            50% { r: 9; }
            100% { r: 6; }
        }

        .team-label.search-match {
            font-weight: 700 !important;
            fill: #ff3366 !important;
            filter: drop-shadow(0 0 2px rgba(255, 255, 255, 1));
            opacity: 1 !important;
            animation: labelPulse 1.5s infinite ease-in-out;
        }

        @keyframes labelPulse {
            0% { font-size: 12px; }
            50% { font-size: 14px; }
            100% { font-size: 12px; }
        }

        .dark-mode .team-label.search-match {
            filter: drop-shadow(0 0 2px rgba(0, 0, 0, 1));
        }

        .team-label.search-dimmed {
            opacity: 0 !important;
        }

        .team-label {
            pointer-events: none;
            text-shadow: 0px 0px 2px white, 0px 0px 2px white, 0px 0px 2px white, 0px 0px 2px white;
        }

        .dark-mode .team-label {
            fill: #f5f5f5 !important;
            text-shadow: 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a;
        }

        .dark-mode-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--container-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--shadow);
            z-index: 100;
            transition: background-color 0.3s;
        }

        .dark-mode-toggle.mobile-only {
            position: fixed;
            bottom: 20px;
            right: 20px;
        }

        .dark-mode-toggle.pc-only {
            position: relative;
            bottom: auto;
            right: auto;
        }

        .pc-only {
            display: flex;
        }

        .mobile-only {
            display: none;
        }

        .toggle-icon::before {
            font-family: "Ionicons";
            content: "\f467";
            font-size: 30px;
            color: var(--text-color);
        }

        .dark-mode .toggle-icon::before {
            content: "\f3b0";
            font-size: 20px;
        }

        @media (max-width: 768px) {
            .pc-only {
                display: none;
            }
            
            .mobile-only {
                display: flex;
            }
  
            
  .chart-wrapper {
      padding: 15px;
  }
  
  
  /* Remove fixed height for scatter plot - now handled by updateChartDimensions */
  #scatter-plot {
      min-height: 500px; /* Minimum height for mobile */
  }
  
  select, input {
      width: 100%;
  }
  
  
  /* Make text elements more readable on mobile */
  .x-label, .y-label {
      font-size: 12px;
  }
  
  /* Adjust tooltip position for mobile */
  .tooltip {
      max-width: 80%;
  }
}

        /* Styles for the diagonal reference line */
        .dark-mode .xy-line {
            stroke: #3cb371; /* Slightly different green for dark mode */
        }


  
  .search-input-modal {
      display: none;
      position: fixed; 
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7); 
      z-index: 999; 
  }
  
  .search-input-container {
      position: absolute;
      top: 30%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #fff;
      padding: 20px;
      border-radius: 4px;
      z-index: 1000; 
  }
  
  #searchInput {
              width: 370px;
              padding: 12px;
              border: 3px solid #ccc;
              border-radius: 4px;
              font-size: 18.3px;
              outline: none;
              height: 50px;
              color: #000000;
              background-color: #fff;
              ;          }
  
          #autocompleteBox {
              width: 370px;
              max-height: 150px;
              overflow-y: auto;
              background-color: #fff;
          }
  
  
          #autocompleteBox ul {
              list-style: none;
              padding: 0;
              margin: 0;
          }
  
          #autocompleteBox li {
              margin: 0;
              padding: 5px;
          }
  
          #autocompleteBox {
              line-height: 2; 
              text-align: center !important;
  
          }
  
          #autocompleteBox a {
              text-decoration: none;
              font-family: Arial, sans-serif;
              text-align: center !important;
              color: #333 !important;
              cursor: pointer; 
          }
  
          #autocompleteBox li:hover {
              background-color: #f0f0f0;
          }
          #searchButton3 {
            padding: 8.5px;  /* Reduced from 10px */
  background-color: #0074d9;
  color: #fff;
  border: none;
  width: 34px;  /* Reduced from 40px */
  height: 34px;  /* Reduced from 40px */
  border-radius: 50%;
  cursor: pointer;
  font-size: 17px;  /* Reduced from 20px */
  }


  body.dark-mode .header .button10 {
      color: #aeaeae;
}
body.dark-mode .header .button10:hover {
  color: #2563eb;
background-color: #ffffff;
}

    body.dark-mode header a {
      color: #aeaeae;
}

body.dark-mode .header .logo img {
  opacity: 0.88;
}


body.dark-mode .language-button {
      background-color: #0F0F0E;
      color: #aeaeae;
}


  

.header .logo {
  display: flex;
  align-items: center;
  margin-right: auto; /* Push logo to the left */
}

.header .logo img {
  height: 34px;
  width: auto;
  opacity: 0.84;
}
.header .logo-text {
  margin-left: 10px;
  font-size: 23px;
  font-weight: 600;
  transform: translateY(-1.1px); /* Move logo text slightly higher */
}

.header .navigation {
  display: flex;
  align-items: center;
  gap: 25px; /* Reduced gap between buttons */
  position: absolute;
  left: 50%;
  transform: translateX(-50%) translateY(-2px); /* Center the navigation and move it higher */
}



.header .button10 {
  padding: 0.5rem 1rem;
  text-decoration: none;
  color: #333;
  line-height: 1.6;
  border-radius: 4px;
  transition: background-color 0.2s;
  font-size: 1.1rem;  /* Added larger font size */
}


.header .button10:hover {
  background-color: #f0f0f0;
  color: #2563eb;

}



/* Group search and language buttons */
.header-right {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-left: auto; /* Push buttons to the right */
  transform: translateY(-1.25px); /* Move search and language buttons higher */
}

header a {
      color: black;
      text-decoration: none;
    }

    .language-switcher-container {
  position: relative;
  display: none;
}

.language-button {
  background: none;
  border: none;
  cursor: pointer;
  padding: 10px;
  color: #444444;
  display: flex;
  align-items: center;
  font-size: 17px;
}

.language-button iconify-icon {
  font-size: 24px;
  opacity: 0.7;
}

.language-dropdown {
  display: none;
  position: absolute;
  top: 100%;
  right: 0;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  padding: 10px;
  width: 200px;
  z-index: 1000;
}

.language-option {
  display: flex;
  align-items: center;
  padding: 8px 12px;
  cursor: pointer;
  border-radius: 4px;
  color: #444444;
  text-decoration: none;
}



.language-option iconify-icon {
  margin-right: 10px;
  font-size: 20px;
}

.language-dropdown.show {
  display: block;
}

/* Styles for flag icons in select dropdown */
#select-league option {
    display: flex;
    align-items: center;
    padding: 8px 12px;
}

#select-league iconify-icon {
    display: inline-flex;
    vertical-align: middle;
}

/* Styles for custom league selector dropdown */
.custom-select-container {
    position: relative;
    width: 172px;
}

.metric-select-container {
    position: relative;
    width: 192px;
}

.custom-select-option, .metric-select-option {
    display: flex;
    align-items: center;
    padding: 8px 16px;
    cursor: pointer;
    color: var(--text-color);
    background-color: var(--container-bg);
}


.custom-select-option iconify-icon, .metric-select-option iconify-icon {
    margin-right: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.custom-select-trigger, .metric-select-trigger {
    display: flex;
    align-items: center;
    padding: 0 12px;
    border: 1px solid var(--border-color);
    border-radius: 6px;
    background-color: var(--container-bg);
    color: var(--text-color);
    font-family: 'Inter', sans-serif;
    font-size: 14px;
    cursor: pointer;
    user-select: none;
    position: relative;
    line-height: 1;
}

.custom-select-trigger span, .metric-select-trigger span {
    display: inline-block;
    transform: translateY(1px);
    white-space: nowrap;
    overflow: hidden;
    max-width: calc(100% - 20px); /* Account for the icon width and margin */
    line-height: normal; /* Ensure consistent line height */    
}


/* Make the league selector span 30px smaller */
#league-select-trigger span {
    max-width: calc(100% - 45px); /* 20px + 30px reduction */
}

.custom-select-trigger::after, .metric-select-trigger::after {
    content: '';
    width: 6px;
    height: 6px;
    margin-left: auto;
    border-right: 1.5px solid var(--text-color);
    border-bottom: 1.5px solid var(--text-color);
    transform: rotate(45deg) translateY(-2px);
    transition: transform 0.3s;
    opacity: 0.7;
    margin-right: 2px;
}

.custom-select-trigger.open::after, .metric-select-trigger.open::after {
    transform: rotate(-135deg) translateY(1px);
}

.custom-select-options, .metric-select-options {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background-color: var(--container-bg);
    border: 1px solid var(--border-color);
    border-radius: 6px;
    margin-top: 4px;
    max-height: 300px;
    overflow-y: auto;
    z-index: 100;
    font-size: 13px;
    display: none;
    box-shadow: var(--shadow);
}


.custom-select-option:hover, .metric-select-option:hover {
    background-color: var(--hover-color);
}



.custom-select-option.selected {
    background-color: var(--primary-color);
    color: white;
}

.metric-select-option.selected {
    background-color: var(--primary-color);
    color: white;
}


.dark-mode .custom-select-option:hover {
    background-color: var(--hover-color);
}

.dark-mode .custom-select-option.selected {
    background-color: var(--primary-color);
    color: white;
}

@media (max-width: 768px) {
    .custom-select-option {
        padding: 6px 12px;
    }
}

body.dark-mode .language-button:hover {
      background-color: #0F0F0E;
      color: #aeaeae;
}

body.dark-mode .language-dropdown {
  background: #e8e6e6;
}

body.dark-mode .language-option {
  color: #000000;
}

/* Dark mode styles for custom dropdown */
.dark-mode .custom-select-trigger,
.dark-mode .custom-select-options,
.dark-mode .metric-select-trigger,
.dark-mode .metric-select-options {
    border-color: var(--border-color);
    background-color: var(--container-bg);
    color: var(--text-color);
}

.dark-mode .custom-select-option:hover,
.dark-mode .metric-select-option:hover {
    background-color: var(--hover-color);
}

.dark-mode .custom-select-option.selected,
.dark-mode .metric-select-option.selected {
    background-color: rgba(52, 152, 219, 0.2);
}

/* Adjust flag icon alignment in the trigger */
#league-select-trigger iconify-icon {
    margin-right: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transform: translateY(-1px);
}
@media screen and (max-width: 550px) { .header .navigation { display: none; } }

        /* Enhanced Dark Mode Styles */
        .dark-mode .chart-wrapper {
            background-color: var(--container-bg);
            border: 1px solid #333;
        }

        .dark-mode .btn {
            background-color: var(--button-color);
        }

        .dark-mode .btn-outline {
            background-color: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-color);
        }

        .dark-mode .btn-outline:hover {
            background-color: var(--hover-color);
            border-color: #444;
        }


        .dark-mode input, 
        .dark-mode select {
            background-color: #1a1a1a;
            color: var(--text-color);
            border-color: #333;
        }

        .dark-mode input::placeholder {
            color: #777;
        }

        .dark-mode input:focus, 
        .dark-mode select:focus {
            border-color: var(--primary-color);
            outline: none;
        }

        .dark-mode .tooltip {
            background-color: #1a1a1a;
            border-color: #333;
            color: var(--text-color);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .legend {
            border-top-color: #333;
        }

        .dark-mode .legend-item {
            color: #ccc;
        }

        .dark-mode .btn-tooltip .btn-tooltip-text {
            background-color: #1a1a1a;
            border-color: #333;
            color: #e0e0e0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .btn-tooltip .btn-tooltip-text::after {
            border-color: #333 transparent transparent transparent;
        }

        .dark-mode .team-label {
            fill: #e0e0e0 !important;
            text-shadow: 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f;
        }

        .dark-mode .x-axis path,
        .dark-mode .y-axis path,
        .dark-mode .x-axis line,
        .dark-mode .y-axis line {
            stroke: #444;
        }

        .dark-mode .x-axis text,
        .dark-mode .y-axis text {
            fill: #aaa;
        }

        .dark-mode .x-label,
        .dark-mode .y-label {
            fill: #ccc;
        }

        .dark-mode .median-line {
            stroke: rgba(255, 255, 255, 0.2) !important;
        }

        .dark-mode .xy-line {
            stroke: #2ecc71;
            opacity: 0.8;
        }

        .dark-mode .dark-mode-toggle {
            background-color: #1a1a1a;
            border: 1px solid #333;
        }

        .dark-mode .toggle-icon::before {
            color: #e0e0e0;
        }

 



        .dark-mode #searchButton3 {
            background-color: #0074d9;
            color: #fff;
        }


        .dark-mode .header .button10 {
            color: #aaa;
        }

        .dark-mode .header .button10:hover {
            color: #2563eb;
            background-color: #1a1a1a;
        }

        .dark-mode header a {
            color: #aaa;
        }

        .dark-mode .header .logo img {
            opacity: 0.9;
            filter: brightness(0.9);
        }

        .dark-mode .language-button {
            background-color: #0e0f0f;
            color: #aaa;
        }

        .dark-mode .language-button:hover {
            background-color: #1a1a1a;
        }

        .dark-mode .language-dropdown {
            background: #1a1a1a;
            border: 1px solid #333;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .language-option {
            color: #e0e0e0;
        }

        .dark-mode .language-option:hover {
            background-color: #252525;
        }

        .dark-mode #search-bar::placeholder {
            color: #777;
        }

        .dark-mode circle {
            stroke-width: 1px;
        }

        .dark-mode circle.search-match {
            fill: #ff3366 !important;
            stroke: #0e0f0f;
            stroke-width: 2px;
            filter: drop-shadow(0 0 5px rgba(255, 51, 102, 0.7));
        }

  
        
        /* Additional dark mode styles for chart elements */
        .dark-mode .chart-container {
            background-color: var(--container-bg);
        }
        
  
        
    
        
        
        /* Fix for custom select dropdown in dark mode */
        .dark-mode .custom-select-trigger::after, 
        .dark-mode .metric-select-trigger::after {
            border-right: 1.5px solid var(--text-color);
            border-bottom: 1.5px solid var(--text-color);
        }
        
        /* Improve contrast for selected items in dark mode */
        .dark-mode .custom-select-option.selected, 
        .dark-mode .metric-select-option.selected {
            background-color: rgba(52, 152, 219, 0.3);
        }
        
        /* Improve visibility of SVG elements in dark mode */
        .dark-mode svg text {
            fill: #ccc;
        }
        
        .dark-mode .legend-color {
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        /* Improve button states in dark mode */
        .dark-mode .btn:hover {
            background-color: #3498db;
        }
        
        .dark-mode .btn-outline:active {
            background-color: #333;
        }
        
        /* Improve focus states for accessibility */
        .dark-mode input:focus,
        .dark-mode select:focus,
        .dark-mode .btn:focus {
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.5);
        }
        
        /* Fix for buttons staying focused with blue outline */
        button:focus, 
        .btn:focus, 
        select:focus, 
        input:focus {
            outline: none;
        }
        
        /* Custom focus styles for better accessibility */
        button:focus-visible, 
        .btn:focus-visible, 
        select:focus-visible, 
        input:focus-visible {
            outline: none;
            box-shadow: 0 0 0 2px var(--primary-color);
        }
        
        /* Remove focus styles when using mouse */
        button:focus:not(:focus-visible), 
        .btn:focus:not(:focus-visible), 
        select:focus:not(:focus-visible), 
        input:focus:not(:focus-visible) {
            box-shadow: none;
        }



.logo img {
  width: 50px;
  height: 50px;
}

/* Promo links styling */
.promo-links-container {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
    margin: 15px auto 25px;
    max-width: 800px;
    flex-wrap: wrap;
    padding: 0 20px;
}

.promo-link {
    display: flex;
    align-items: center;
    padding: 10px 15px;
    background-color: var(--container-bg);
    color: var(--text-color);
    text-decoration: none;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    transition: all 0.3s ease;
    box-shadow: var(--shadow);
    font-weight: 500;
    flex: 1;
    min-width: 220px;
    max-width: 350px;
    justify-content: center;
}

.promo-link iconify-icon {
    margin-right: 8px;
}

.promo-link:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.radar-link {
    border-left: 4px solid #3498db;
}

.pro-link {
    border-left: 4px solid #f39c12;
}

.dark-mode .radar-link {
    border-left: 4px solid #2980b9;
}

.dark-mode .pro-link {
    border-left: 4px solid #d35400;
}

@media (max-width: 768px) {
  

    
    select, input {
        width: 100%;
    }
    
    /* Make text elements more readable on mobile */
    .x-label, .y-label {
        font-size: 12px;
    }
    
    /* Adjust tooltip position for mobile */
    .tooltip {
        max-width: 80%;
    }
    
    /* Adjust promo links for mobile */
    .promo-links-container {
        flex-direction: column;
        align-items: center;
        gap: 10px;
        padding: 0 15px;
    }
}


.custom-select-option {
    -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            
}
        /* Disable text selection for SVG text elements */
        svg text, .legend,
        .x-label,
        .y-label,
        .team-label,
        .player-name,
        .x-axis text,
        .y-axis text {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            pointer-events: none;
        }


    </style>

  <header class="header">
    <div class="logo">
      <a href="https://datamb.football">
        <img src="https://datamb.football/logo.png" alt="Football team statistics comparison. Radar comparison tool. Visualise and compare team data from the top 7 leagues : Premier League, La Liga, Bundesliga, Serie A, Ligue 1, Eredivisie, Primeira Liga" /></a>
        <div class="logo-text"><a href="https://datamb.football">&nbsp;Teams</a></div>
    </div>
    <nav class="navigation">
      <a href="https://datamb.football" class="button10" data-i18n="header.home">Home</a>
      <a href="https://datamb.football/join" class="button10" data-i18n="header.pro">Pro</a>
      <a href="https://datamb.football/guide" class="button10" data-i18n="header.guide">Guide</a>
    </nav>
    <div class="header-right">
    <div class="search-container">
      <button id="searchButton3"><iconify-icon icon="ion:search-outline"></iconify-icon></button>
  </div>
    <div class="language-switcher-container">
      <button class="language-button" id="languageButton">
        <iconify-icon icon="heroicons:globe-alt"></iconify-icon>
      </button>
      <div class="language-dropdown" id="languageDropdown">
        <a href="?lang=en" class="language-option"><iconify-icon icon="flag:gb-4x3"></iconify-icon>English</a>
      </div>
    </div></div>
  </header>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7677714701428206"
     crossorigin="anonymous"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PSBMXX80EF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-PSBMXX80EF');
</script>
</head>
<div class="search-input-modal" id="searchInputModal">
    <div class="search-input-container">
        <input type="text" id="searchInput" data-i18n="search.placeholder" placeholder="Enter a team or player name...">
        <div id="autocompleteBox"></div>
    </div>
</div>
<script>
    const xhr1 = new XMLHttpRequest();
  xhr1.open('GET', 'https://datamb.football/database/searchbar.csv', false); // false for synchronous request
  xhr1.send(null);
  
  let dataCSV = xhr1.responseText;
    
function _0x5707(_0xd20fa7,_0x4d36b5){const _0x4dcd69=_0x4dcd();return _0x5707=function(_0x57077a,_0xde96b9){_0x57077a=_0x57077a-0x140;let _0x383e81=_0x4dcd69[_0x57077a];return _0x383e81;},_0x5707(_0xd20fa7,_0x4d36b5);}const _0xedf2b2=_0x5707;(function(_0x16e1b0,_0x125833){const _0x222c5a=_0x5707,_0x3f540c=_0x16e1b0();while(!![]){try{const _0x3105f2=parseInt(_0x222c5a(0x161))/0x1+parseInt(_0x222c5a(0x144))/0x2+parseInt(_0x222c5a(0x148))/0x3+-parseInt(_0x222c5a(0x155))/0x4+parseInt(_0x222c5a(0x141))/0x5*(-parseInt(_0x222c5a(0x145))/0x6)+-parseInt(_0x222c5a(0x157))/0x7+parseInt(_0x222c5a(0x14b))/0x8*(parseInt(_0x222c5a(0x159))/0x9);if(_0x3105f2===_0x125833)break;else _0x3f540c['push'](_0x3f540c['shift']());}catch(_0x450250){_0x3f540c['push'](_0x3f540c['shift']());}}}(_0x4dcd,0x1bc51));const dataLines=dataCSV[_0xedf2b2(0x160)]('\x0a'),searchButton3=document[_0xedf2b2(0x142)]('searchButton3'),searchInputModal=document[_0xedf2b2(0x142)](_0xedf2b2(0x14a)),searchInput=document[_0xedf2b2(0x142)](_0xedf2b2(0x143)),autocompleteBox=document[_0xedf2b2(0x142)](_0xedf2b2(0x162)),data11=dataLines[_0xedf2b2(0x146)](_0x19546c=>{const _0x89300c=_0xedf2b2,[_0x5af128,_0x515bec]=_0x19546c[_0x89300c(0x160)](',');return{'name':_0x5af128,'link':_0x515bec};});function removeDiacritics(_0x3ed1af){const _0x202611=_0xedf2b2,_0x4b45cf={'ø':'o','Ø':'O','ı':'i'};return _0x3ed1af=_0x3ed1af[_0x202611(0x147)](/[øØıI]/g,_0x19f74a=>_0x4b45cf[_0x19f74a]),_0x3ed1af[_0x202611(0x15d)]('NFD')[_0x202611(0x147)](/[\u0300-\u036f]/g,'');}function search2(_0x1db14d){const _0x26c944=_0xedf2b2;autocompleteBox[_0x26c944(0x15e)]='';const _0x321867=removeDiacritics(_0x1db14d)[_0x26c944(0x147)](/[^\w\s]/g,'')[_0x26c944(0x149)](),_0x3ad89e=data11[_0x26c944(0x15c)](_0xb995bf=>{const _0x3866b0=_0x26c944,_0x2b7de7=removeDiacritics(_0xb995bf[_0x3866b0(0x14e)])['replace'](/[^\w\s]/g,'')[_0x3866b0(0x149)]();return _0x2b7de7['includes'](_0x321867);});if(_0x3ad89e[_0x26c944(0x163)]===0x0){autocompleteBox[_0x26c944(0x152)][_0x26c944(0x14c)]='none';return;}_0x3ad89e[_0x26c944(0x151)](_0x4b9def=>{const _0x31eeb1=_0x26c944,_0x505ab8=document[_0x31eeb1(0x14d)]('div'),_0x3a2d70=document[_0x31eeb1(0x14d)]('a');_0x3a2d70['href']=_0x4b9def[_0x31eeb1(0x154)],_0x3a2d70[_0x31eeb1(0x150)]=_0x4b9def[_0x31eeb1(0x14e)],_0x505ab8[_0x31eeb1(0x15b)](_0x3a2d70),autocompleteBox[_0x31eeb1(0x15b)](_0x505ab8);}),autocompleteBox['style'][_0x26c944(0x14c)]=_0x26c944(0x153);}searchButton3[_0xedf2b2(0x156)](_0xedf2b2(0x14f),()=>{const _0x350b96=_0xedf2b2;searchInputModal['style'][_0x350b96(0x14c)]=_0x350b96(0x153);}),searchInput['addEventListener'](_0xedf2b2(0x158),()=>{const _0x122364=_0xedf2b2,_0x1aac33=searchInput['value'];_0x1aac33[_0x122364(0x140)]()===''?autocompleteBox[_0x122364(0x152)][_0x122364(0x14c)]='none':search2(_0x1aac33);}),document['addEventListener']('click',_0x17873a=>{const _0x2c2a21=_0xedf2b2;_0x17873a[_0x2c2a21(0x15a)]===searchInputModal&&(searchInputModal[_0x2c2a21(0x152)][_0x2c2a21(0x14c)]=_0x2c2a21(0x15f));});function _0x4dcd(){const _0x3abacf=['forEach','style','block','link','165476bdcaHI','addEventListener','430668iEzpyY','input','90cmGEmO','target','appendChild','filter','normalize','innerHTML','none','split','102625kyWWmb','autocompleteBox','length','trim','5KymJaR','getElementById','searchInput','423476PJmBDe','1170534HGXHHf','map','replace','60222cRWbFM','toLowerCase','searchInputModal','61832bbygIm','display','createElement','name','click','textContent'];_0x4dcd=function(){return _0x3abacf;};return _0x4dcd();}
  
  
  
  </script>


<body>
    <div class="container">
        <div class="chart-wrapper">
            <div class="controls">
                <select id="select-x" style="display: none;"></select>
                <select id="select-y" style="display: none;"></select>
                <select id="select-league" style="display: none;" onchange="updateChart()">
                    <option value="all">Top 7 Leagues</option>
                    <option value="Top 5 Leagues">Top 5 Leagues</option>
                    <option value="Premier League">Premier League</option>
                    <option value="La Liga">La Liga</option>
                    <option value="Bundesliga">Bundesliga</option>
                    <option value="Serie A">Serie A</option> 
                    <option value="Ligue 1">Ligue 1</option>
                    <option value="Eredivisie">Eredivisie</option>
                    <option value="Primeira Liga">Liga Portugal</option>
                </select>
                
                <!-- Custom X metric selector -->
                <div class="metric-select-container">
                    <div class="metric-select-trigger" id="x-metric-trigger">
                        <span data-i18n="metrics.goals-per-90">Goals per 90</span>
                    </div>
                    <div class="metric-select-options" id="x-metric-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Custom Y metric selector -->
                <div class="metric-select-container">
                    <div class="metric-select-trigger" id="y-metric-trigger">
                        <span data-i18n="metrics.xg-per-90">xG per 90</span>
                    </div>
                    <div class="metric-select-options" id="y-metric-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Custom league selector with flag icons -->
                <div class="custom-select-container">
                    <div class="custom-select-trigger" id="league-select-trigger">
                        <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                        <span data-i18n="leagues.top7">Top 7 Leagues</span>
                    </div>
                    <div class="custom-select-options" id="league-select-options">
                        <div class="custom-select-option selected" data-value="all">
                            <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                            <span data-i18n="leagues.top7">Top 7 Leagues</span>
                        </div>
                        <div class="custom-select-option" data-value="Top 5 Leagues">
                            <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                            <span data-i18n="leagues.top5">Top 5 Leagues</span>
                        </div>
                        <div class="custom-select-option" data-value="Premier League">
                            <iconify-icon icon="emojione:flag-for-united-kingdom" width="18" height="18"></iconify-icon>
                            <span>Premier League</span>
                        </div>
                        <div class="custom-select-option" data-value="La Liga">
                            <iconify-icon icon="emojione:flag-for-spain" width="18" height="18"></iconify-icon>
                            <span>La Liga</span>
                        </div>
                        <div class="custom-select-option" data-value="Bundesliga">
                            <iconify-icon icon="emojione:flag-for-germany" width="18" height="18"></iconify-icon>
                            <span>Bundesliga</span>
                        </div>
                        <div class="custom-select-option" data-value="Serie A">
                            <iconify-icon icon="emojione:flag-for-italy" width="18" height="18"></iconify-icon>
                            <span>Serie A</span>
                        </div>
                        <div class="custom-select-option" data-value="Ligue 1">
                            <iconify-icon icon="emojione:flag-for-france" width="18" height="18"></iconify-icon>
                            <span>Ligue 1</span>
                        </div>
                        <div class="custom-select-option" data-value="Eredivisie">
                            <iconify-icon icon="emojione:flag-for-netherlands" width="18" height="18"></iconify-icon>
                            <span>Eredivisie</span>
                        </div>
                        <div class="custom-select-option" data-value="Primeira Liga">
                            <iconify-icon icon="emojione:flag-for-portugal" width="18" height="18"></iconify-icon>
                            <span>Liga Portugal</span>
                        </div>
                    </div>
                </div>
                
                <input type="text" id="search-bar" data-i18n="search.placeholder2" placeholder="Search team...">
                <div class="btn-tooltip">
                    <button id="toggle-median-lines" class="btn btn-outline btn-icon">
                        <div class="icon">
                            <i class="ion-stats-bars"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" id="median-lines-tooltip" data-i18n="tooltip.median-lines">Show median lines</span>
                </div>
                <div class="btn-tooltip">
                    <button class="btn btn-outline btn-icon" id="select-all-button" onclick="selectAllCircles()">
                        <div class="icon">
                            <i class="ion-ios-circle-filled" id="select-icon"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" id="select-all-tooltip" data-i18n="tooltip.select-all">Select all teams</span>
                </div>
                <div class="btn-tooltip">
                    <button class="btn btn-outline btn-icon" onclick="takeScreenshot()">
                        <div class="icon">
                            <i class="ion-camera"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" data-i18n="tooltip.screenshot">Download chart as image</span>
                </div>
            </div>
       
            <div class="chart-container">
              <svg id="scatter-plot"></svg>
            </div>

            <div class="legend" id="league-legend">
              <!-- Legend items will be added here dynamically -->
            </div>
        </div>

        <div class="promo-links-container">
            <a href="https://datamb.football/teamradars" class="promo-link radar-link">
                <iconify-icon icon="mdi:radar" width="20" height="20"></iconify-icon>
                <span data-i18n="promo.radar-link">Compare Teams with Radars</span>
            </a>
            <a href="https://datamb.football/join" class="promo-link pro-link">
                <iconify-icon icon="mdi:account-star" width="20" height="20"></iconify-icon>
                <span data-i18n="promo.pro-link">Get Pro for Player Plots</span>
            </a>
            <div class="dark-mode-toggle pc-only" onclick="toggleDarkMode()">
                <div class="toggle-icon"></div>
            </div>
        </div>
    </div>

    <div class="dark-mode-toggle mobile-only" onclick="toggleDarkMode()">
        <div class="toggle-icon"></div>
    </div>

    <script>
        var _0x29e012=_0x3077;(function(_0x539d70,_0x318e55){var _0x3b1b1f=_0x3077,_0x1e5ead=_0x539d70();while(!![]){try{var _0x4e5bdf=parseInt(_0x3b1b1f(0x124))/0x1+-parseInt(_0x3b1b1f(0x152))/0x2+parseInt(_0x3b1b1f(0x95))/0x3*(parseInt(_0x3b1b1f(0x112))/0x4)+parseInt(_0x3b1b1f(0x135))/0x5*(-parseInt(_0x3b1b1f(0x16e))/0x6)+parseInt(_0x3b1b1f(0x17a))/0x7+-parseInt(_0x3b1b1f(0xb9))/0x8*(parseInt(_0x3b1b1f(0xd8))/0x9)+parseInt(_0x3b1b1f(0x16a))/0xa;if(_0x4e5bdf===_0x318e55)break;else _0x1e5ead['push'](_0x1e5ead['shift']());}catch(_0x18d391){_0x1e5ead['push'](_0x1e5ead['shift']());}}}(_0x4bf2,0xd6033));let initializeCustomSelectors=function(){var _0xa831c9=_0x3077;const _0x313ecf=document[_0xa831c9(0x177)](_0xa831c9(0x15a)),_0x5dbcf7=document[_0xa831c9(0x177)](_0xa831c9(0x148)),_0x28d419=document['getElementById']('select-league');setupCustomSelect(_0x313ecf,_0x5dbcf7,_0x28d419);const _0x483648=document['getElementById']('x-metric-trigger'),_0x4d45e1=document[_0xa831c9(0x177)](_0xa831c9(0x90)),_0x2542ad=document['getElementById']('select-x');populateMetricOptions(_0x4d45e1,header['slice'](0x3),function(_0x2417cc,_0x3196a1){var _0x1a6813=_0xa831c9;_0x483648[_0x1a6813(0x15d)]('span')[_0x1a6813(0xcf)]===_0x3196a1&&_0x2417cc[_0x1a6813(0x13b)][_0x1a6813(0x9f)]('selected');if(_0x3196a1===header[0x3]){_0x2417cc[_0x1a6813(0x13b)][_0x1a6813(0x9f)](_0x1a6813(0x15e)),_0x483648[_0x1a6813(0x15d)](_0x1a6813(0x12d))[_0x1a6813(0xcf)]=_0x3196a1;const _0xbafa91=_0x3196a1[_0x1a6813(0x8f)]()[_0x1a6813(0xdc)](/ /g,'-')[_0x1a6813(0xdc)](/%/g,_0x1a6813(0x168));_0x483648[_0x1a6813(0x15d)]('span')['setAttribute']('data-i18n','metrics.'+_0xbafa91);}}),setupCustomSelect(_0x483648,_0x4d45e1,_0x2542ad);const _0x49ce69=document[_0xa831c9(0x177)](_0xa831c9(0x115)),_0x17be8d=document[_0xa831c9(0x177)](_0xa831c9(0x121)),_0x152d56=document[_0xa831c9(0x177)](_0xa831c9(0xcc));populateMetricOptions(_0x17be8d,header['slice'](0x3),function(_0x65e140,_0x72dda3){var _0x59e303=_0xa831c9;_0x49ce69['querySelector'](_0x59e303(0x12d))[_0x59e303(0xcf)]===_0x72dda3&&_0x65e140['classList'][_0x59e303(0x9f)](_0x59e303(0x15e));if(_0x72dda3===header[0x4]){_0x65e140[_0x59e303(0x13b)][_0x59e303(0x9f)](_0x59e303(0x15e)),_0x49ce69[_0x59e303(0x15d)](_0x59e303(0x12d))[_0x59e303(0xcf)]=_0x72dda3;const _0x2853cc=_0x72dda3[_0x59e303(0x8f)]()['replace'](/ /g,'-')[_0x59e303(0xdc)](/%/g,_0x59e303(0x168));_0x49ce69[_0x59e303(0x15d)]('span')[_0x59e303(0x13f)](_0x59e303(0x136),'metrics.'+_0x2853cc);}}),setupCustomSelect(_0x49ce69,_0x17be8d,_0x152d56);};function _0x3077(_0x5a8abd,_0x14c3b6){var _0x4bf2d5=_0x4bf2();return _0x3077=function(_0x3077a1,_0x24e4aa){_0x3077a1=_0x3077a1-0x8d;var _0xeb27c3=_0x4bf2d5[_0x3077a1];return _0xeb27c3;},_0x3077(_0x5a8abd,_0x14c3b6);}function populateMetricOptions(_0x40999e,_0xa6e2b,_0x2e23c4){var _0xdf3dcc=_0x3077;_0x40999e[_0xdf3dcc(0x10d)]='',_0xa6e2b[_0xdf3dcc(0xbc)](function(_0x306756){var _0x238755=_0xdf3dcc;const _0x3085f7=document['createElement'](_0x238755(0xf1));_0x3085f7['className']=_0x238755(0xc3),_0x3085f7[_0x238755(0x13f)]('data-value',_0x306756);const _0x567f95=document[_0x238755(0xa1)](_0x238755(0x12d));_0x567f95[_0x238755(0xcf)]=_0x306756;const _0x40dd25=_0x306756['toLowerCase']()[_0x238755(0xdc)](/ /g,'-')['replace'](/%/g,_0x238755(0x168));_0x567f95[_0x238755(0x13f)](_0x238755(0x136),_0x238755(0x91)+_0x40dd25),_0x3085f7[_0x238755(0x169)](_0x567f95);if(_0x2e23c4)_0x2e23c4(_0x3085f7,_0x306756);_0x40999e[_0x238755(0x169)](_0x3085f7);});}function setupCustomSelect(_0x30e194,_0x5deee8,_0x2c4b27){var _0x34d330=_0x3077;_0x30e194[_0x34d330(0x9d)](_0x34d330(0xf4),function(){var _0x4ed0a1=_0x34d330;document[_0x4ed0a1(0x159)](_0x4ed0a1(0x11b))['forEach'](function(_0x3ee1bc){var _0x4bf455=_0x4ed0a1;if(_0x3ee1bc!==_0x30e194){_0x3ee1bc[_0x4bf455(0x13b)][_0x4bf455(0xe9)](_0x4bf455(0x12e));const _0x1b708e=_0x3ee1bc['nextElementSibling'];if(_0x1b708e)_0x1b708e[_0x4bf455(0xe3)][_0x4bf455(0x13a)]=_0x4bf455(0xc9);}}),_0x30e194['classList'][_0x4ed0a1(0x139)]('open');const _0x1ee167=_0x30e194[_0x4ed0a1(0x13b)][_0x4ed0a1(0xf2)]('open');_0x5deee8[_0x4ed0a1(0xe3)]['display']=_0x1ee167?_0x4ed0a1(0x14b):_0x4ed0a1(0xc9);});const _0x5bd67e=_0x5deee8[_0x34d330(0x159)]('.custom-select-option,\x20.metric-select-option');_0x5bd67e[_0x34d330(0xbc)](_0x3d29a3=>{var _0x2808c0=_0x34d330;_0x3d29a3[_0x2808c0(0x9d)](_0x2808c0(0xf4),function(){var _0x5bbfd6=_0x2808c0;_0x5bd67e['forEach'](_0x5798a3=>_0x5798a3[_0x5bbfd6(0x13b)]['remove'](_0x5bbfd6(0x15e))),this[_0x5bbfd6(0x13b)][_0x5bbfd6(0x9f)](_0x5bbfd6(0x15e));const _0x8fdaf3=this[_0x5bbfd6(0x15d)](_0x5bbfd6(0x12d))[_0x5bbfd6(0xcf)],_0x75512b=this[_0x5bbfd6(0x15d)]('span')[_0x5bbfd6(0x14c)](_0x5bbfd6(0x136)),_0x5a7080=this[_0x5bbfd6(0x15d)]('iconify-icon');_0x30e194[_0x5bbfd6(0x10d)]='';if(_0x5a7080){const _0x3dfa43=_0x5a7080['cloneNode'](!![]);_0x3dfa43[_0x5bbfd6(0xe3)][_0x5bbfd6(0xa6)]=_0x5bbfd6(0x123),_0x30e194[_0x5bbfd6(0x169)](_0x3dfa43);}const _0x19026d=document[_0x5bbfd6(0xa1)](_0x5bbfd6(0x12d));_0x19026d[_0x5bbfd6(0xcf)]=_0x8fdaf3;_0x75512b&&_0x19026d['setAttribute'](_0x5bbfd6(0x136),_0x75512b);_0x30e194[_0x5bbfd6(0x169)](_0x19026d);const _0x16ffc1=this[_0x5bbfd6(0x14c)](_0x5bbfd6(0x145));_0x2c4b27[_0x5bbfd6(0xd7)]=_0x16ffc1||_0x8fdaf3;const _0x1fd86c=new Event(_0x5bbfd6(0x10b));_0x2c4b27[_0x5bbfd6(0x162)](_0x1fd86c),_0x30e194[_0x5bbfd6(0x13b)][_0x5bbfd6(0xe9)](_0x5bbfd6(0x12e)),_0x5deee8[_0x5bbfd6(0xe3)][_0x5bbfd6(0x13a)]=_0x5bbfd6(0xc9);});});let _0x4c88e1='',_0x7d4b73;document[_0x34d330(0x9d)](_0x34d330(0x143),function(_0x2b8453){var _0x22c162=_0x34d330;if(!_0x30e194[_0x22c162(0x13b)]['contains'](_0x22c162(0x12e)))return;if(_0x2b8453[_0x22c162(0xef)]===_0x22c162(0x156)||_0x2b8453[_0x22c162(0xef)]===_0x22c162(0x157)){_0x2b8453[_0x22c162(0xfe)]();const _0x45656c=Array[_0x22c162(0x151)](_0x5bd67e),_0x4ce8a8=_0x45656c['findIndex'](_0x5a0f30=>_0x5a0f30[_0x22c162(0x13b)]['contains'](_0x22c162(0x15e)));let _0x112bfe;_0x2b8453[_0x22c162(0xef)]===_0x22c162(0x156)?_0x112bfe=_0x4ce8a8<_0x45656c[_0x22c162(0x118)]-0x1?_0x4ce8a8+0x1:0x0:_0x112bfe=_0x4ce8a8>0x0?_0x4ce8a8-0x1:_0x45656c[_0x22c162(0x118)]-0x1;_0x5bd67e[_0x22c162(0xbc)](_0x3bb653=>_0x3bb653[_0x22c162(0x13b)][_0x22c162(0xe9)](_0x22c162(0x15e))),_0x45656c[_0x112bfe][_0x22c162(0x13b)][_0x22c162(0x9f)](_0x22c162(0x15e)),_0x45656c[_0x112bfe][_0x22c162(0x109)]({'block':_0x22c162(0x150)});return;}if(_0x2b8453[_0x22c162(0xef)]===_0x22c162(0xdf)){_0x2b8453[_0x22c162(0xfe)]();const _0x155876=_0x5deee8[_0x22c162(0x15d)](_0x22c162(0x106));_0x155876&&_0x155876['click']();return;}if(_0x2b8453[_0x22c162(0xef)]==='Escape'){_0x2b8453[_0x22c162(0xfe)](),_0x30e194[_0x22c162(0x13b)][_0x22c162(0xe9)](_0x22c162(0x12e)),_0x5deee8[_0x22c162(0xe3)][_0x22c162(0x13a)]=_0x22c162(0xc9);return;}if(_0x2b8453[_0x22c162(0xef)][_0x22c162(0x118)]===0x1&&_0x2b8453[_0x22c162(0xef)]['match'](/[a-zA-Z0-9%]/)){clearTimeout(_0x7d4b73),_0x4c88e1+=_0x2b8453[_0x22c162(0xef)]['toLowerCase']();const _0x530980=Array[_0x22c162(0x151)](_0x5bd67e)[_0x22c162(0x147)](_0x3f69f8=>{var _0x4d0946=_0x22c162;const _0x418849=_0x3f69f8[_0x4d0946(0x15d)](_0x4d0946(0x12d))[_0x4d0946(0xcf)][_0x4d0946(0x8f)]();return _0x418849[_0x4d0946(0xdb)](_0x4c88e1);});_0x530980&&(_0x5bd67e[_0x22c162(0xbc)](_0x8a7eba=>_0x8a7eba[_0x22c162(0x13b)][_0x22c162(0xe9)](_0x22c162(0x15e))),_0x530980[_0x22c162(0x13b)][_0x22c162(0x9f)](_0x22c162(0x15e)),_0x530980[_0x22c162(0x109)]({'block':'nearest'})),_0x7d4b73=setTimeout(()=>{_0x4c88e1='';},0x3e8);}});}document[_0x29e012(0x9d)](_0x29e012(0xf4),function(_0x27cd79){var _0x358c61=_0x29e012;const _0x97fb1b=document['querySelectorAll'](_0x358c61(0x132)),_0xe38561=document[_0x358c61(0x159)](_0x358c61(0xdd));let _0x1ad2d8=![];_0x97fb1b['forEach'](function(_0x3b9217,_0x5bbb53){var _0x224dbe=_0x358c61;const _0x24c0e2=_0xe38561[_0x5bbb53];_0x3b9217&&_0x24c0e2&&(_0x3b9217[_0x224dbe(0xf2)](_0x27cd79['target'])||_0x24c0e2[_0x224dbe(0xf2)](_0x27cd79[_0x224dbe(0x102)]))&&(_0x1ad2d8=!![]);}),!_0x1ad2d8&&_0x97fb1b[_0x358c61(0xbc)](function(_0xcac8b5,_0x331d1c){var _0x568b49=_0x358c61;_0xcac8b5&&_0xe38561[_0x331d1c]&&(_0xcac8b5[_0x568b49(0x13b)]['remove'](_0x568b49(0x12e)),_0xe38561[_0x331d1c][_0x568b49(0xe3)][_0x568b49(0x13a)]=_0x568b49(0xc9));});});const xhr=new XMLHttpRequest();function _0x4bf2(){var _0x44ed99=['tooltip.xg-line-above','team-label\x20','forEach','fontWeight','push','call','max','currentTranslations','Select\x20all\x20teams','metric-select-option','Teams\x20below\x20this\x20line\x20are\x20scoring\x20fewer\x20goals\x20than\x20expected.','metrics','stroke-dasharray','.team-label','data','none','pow','font-size','select-y','getBBox','flex','textContent','resize','axisBottom','.xy-line-hover','extent','temp-label','<br/>','getBoundingClientRect','value','14956983KpgcSQ','middle','Top\x205\x20Leagues','startsWith','replace','.custom-select-options,\x20.metric-select-options','5,3','Enter','width','map','option','style','bold','mouseout','min','height','select-league','remove','.xy-line-label','indexOf','search-match','top','median-lines-tooltip','key','translate(','div','contains','clientWidth','click','hideMedianLines','toggle-median-lines','showMedianLines','rgba(70,\x20130,\x20180,\x200.7)','rgb(0,\x20191,\x20255,\x200.7)','property','domain','enter','tooltip.xg-line-left','preventDefault','dominant-baseline','La\x20Liga','#scatter-plot','target','stroke-width','tickSize','Serie\x20A','.selected','</strong><br/>','split','scrollIntoView','size','change','Show\x20median\x20lines','innerHTML','opacity','event','stroke','class','378876yCjtlg','text-anchor','left','y-metric-trigger','#2ecc71','.median-line','length','</span><br/>','NFD','.custom-select-trigger.open,\x20.metric-select-trigger.open','xG\x20per\x2090','<strong>','x-axis','Teams\x20left\x20of\x20this\x20line\x20are\x20scoring\x20fewer\x20goals\x20than\x20expected.','500','y-metric-options','<span>','8px','106486uMzgBY','15px','Inter,\x20sans-serif','apply','nice','auto','rgb(85,\x20209,\x2073,\x200.7)','fill','marker#arrow-over,\x20marker#arrow-under','span','open','input','xy-line','median','.custom-select-trigger,\x20.metric-select-trigger','mouseover','includes','5anYTHa','data-i18n','#select-y','Hide\x20median\x20lines','toggle','display','classList','html','dark-mode','interrupt','setAttribute','end','className','circle','keydown','append','data-value','scaleLinear','find','league-select-options','all','tooltip.xg-line-right','block','getAttribute','innerHeight','slice','translate(0,','nearest','from','726936jbZtrB','12px','.performance-label','median-line','ArrowDown','ArrowUp','Unselect\x20all\x20teams','querySelectorAll','league-select-trigger','rgb(255,\x200,\x200,\x200.7)','pageX','querySelector','selected','rgba(255,\x200,\x200,\x200.7)','</span>','legend-item','dispatchEvent','Bundesliga','14px','search-dimmed','ion-ios-circle-outline','getComputedTextLength','pct','appendChild','15972040tNQZHJ','select','Goals\x20per\x2090','Ligue\x201','4433106jufJKG','font-family','body','node','anchor','toFixed','Premier\x20League','axisLeft','transition','getElementById','https://datamb.football/database/TEAM/teamplots.csv','each','12233711xBcObu','#333','rgb(255,\x2020,\x20147,\x200.7)','GET','toLowerCase','x-metric-options','metrics.','line','select-icon','tooltip.xg-line-title','6pNTVIo','ion-ios-circle-filled','xy-line-hover','parentNode','every','pageY','rgba(0,\x200,\x200,\x200.3)','classed','addEventListener','font-weight','add','keys','createElement','selectAll','right','backgroundColor','range','marginRight','rgb(255,\x20140,\x200,\x200.7)','duration','pointer','#000','normalize','Teams\x20above\x20this\x20line\x20are\x20scoring\x20more\x20goals\x20than\x20expected.','legend-color','transform','filter','attr','.xy-line-label-bg','text','.xy-line','start','tooltip','bottom','team-label-','innerWidth','8TMluyd'];_0x4bf2=function(){return _0x44ed99;};return _0x4bf2();}xhr[_0x29e012(0x12e)](_0x29e012(0x8e),_0x29e012(0x178),![]),xhr['send'](null);let csvData=xhr['responseText'],extraHeaderRow='ID,Player,Top\x207\x20Leagues,Goals\x20per\x2090,xG\x20per\x2090,Shots\x20on\x20target\x20per\x2090,Shots\x20on\x20target\x20%,Passes\x20completed,Pass\x20accuracy\x20%,Possession\x20%,Positional\x20attacks\x20per\x2090,Counter\x20attacks\x20per\x2090,Touches\x20in\x20the\x20box\x20per\x2090,Goals\x20conceded\x20per\x2090,SoT\x20against\x20per\x2090,Defensive\x20duels\x20per\x2090,Defensive\x20duel\x20%,Aerial\x20duels\x20per\x2090,Aerial\x20duels\x20%,Passes\x20per\x20possession,PPDA\x0a';csvData=extraHeaderRow+csvData;var rows=csvData['trim']()[_0x29e012(0x108)]('\x0a'),header=rows[0x0][_0x29e012(0x108)](','),data=rows[_0x29e012(0x14e)](0x1)[_0x29e012(0xe1)](function(_0x1fe018){var _0x1ebde0=_0x29e012;return _0x1fe018[_0x1ebde0(0x108)](',')[_0x1ebde0(0xe1)](function(_0x434c45,_0x22d0d0){return _0x22d0d0>=0x3?parseFloat(_0x434c45):_0x434c45;});}),margin={'top':0x0,'right':0x0,'bottom':0x0,'left':0x0},width=0x43a-margin[_0x29e012(0x114)]-margin[_0x29e012(0xa3)],height=0x302-margin[_0x29e012(0xed)]-margin['bottom'],leagueColors={'Premier\x20League':_0x29e012(0x15b),'La\x20Liga':'rgb(255,\x20223,\x200,\x200.7)','Bundesliga':_0x29e012(0x12a),'Serie\x20A':_0x29e012(0xf9),'Ligue\x201':'rgb(153,\x2050,\x20204,\x200.7)','Eredivisie':_0x29e012(0xa7),'Primeira\x20Liga':_0x29e012(0x8d)};function getLeagueColor(_0x302deb){var _0x33ba35=_0x29e012;return leagueColors[_0x302deb]||_0x33ba35(0x15f);}function updateChartDimensions(){var _0x570c5a=_0x29e012,_0x30b31d=document[_0x570c5a(0x15d)]('.chart-wrapper')[_0x570c5a(0xf3)],_0xab3782=window[_0x570c5a(0x14d)]*0.7,_0x220af5=0x1e,_0x6f5946=Math[_0x570c5a(0xe6)](0x43a,_0x30b31d-_0x220af5*0x2),_0x1b28d9=window[_0x570c5a(0xb8)]/window['innerHeight']<0x1;if(_0x1b28d9){margin={'top':0x28,'right':0x1e,'bottom':0x3c,'left':0x4b};var _0x56f0f9=1.4,_0x80b6c5=Math[_0x570c5a(0xe6)](_0xab3782,_0x6f5946*_0x56f0f9);_0x80b6c5=Math[_0x570c5a(0xc0)](_0x80b6c5,0x1f4);}else{margin={'top':0x28,'right':0x1e,'bottom':0x3c,'left':0x4f};var _0x341a29=0.7,_0x80b6c5=_0x6f5946*_0x341a29;}width=_0x6f5946-margin['left']-margin['right'],height=_0x80b6c5-margin['top']-margin['bottom'],d3[_0x570c5a(0x16b)]('#scatter-plot')[_0x570c5a(0xb0)](_0x570c5a(0xe0),_0x6f5946)[_0x570c5a(0xb0)](_0x570c5a(0xe7),_0x80b6c5),document[_0x570c5a(0x15d)]('.chart-container')[_0x570c5a(0xe3)][_0x570c5a(0xe7)]=_0x80b6c5+'px';}window[_0x29e012(0x9d)](_0x29e012(0xd0),function(){updateChartDimensions(),requestAnimationFrame(function(){updateChart();});}),updateChartDimensions();function debounce(_0x21b2b1,_0x4016ac){let _0x4600e7;return function(){const _0x278d3b=this,_0xc1231e=arguments;clearTimeout(_0x4600e7),_0x4600e7=setTimeout(function(){var _0x3607af=_0x3077;_0x21b2b1[_0x3607af(0x127)](_0x278d3b,_0xc1231e);},_0x4016ac);};}var prevWindowWidth=window['innerWidth'],prevWindowHeight=window[_0x29e012(0x14d)];window[_0x29e012(0x9d)]('resize',debounce(function(){var _0x43191b=_0x29e012,_0x4f61b5=prevWindowWidth/prevWindowHeight<0x1,_0x2f5a6e=window['innerWidth']/window[_0x43191b(0x14d)]<0x1;prevWindowWidth=window[_0x43191b(0xb8)],prevWindowHeight=window['innerHeight'],requestAnimationFrame(function(){updateChart();});},0x32));var medianLinesVisible=![],selectX=d3[_0x29e012(0x16b)]('#select-x'),selectY=d3['select'](_0x29e012(0x137)),names=data[_0x29e012(0xe1)](function(_0x37794b){return _0x37794b[0x1];});header[_0x29e012(0x14e)](0x3)[_0x29e012(0xbc)](function(_0x51ec52){var _0x343dbc=_0x29e012;selectX[_0x343dbc(0x144)](_0x343dbc(0xe2))[_0x343dbc(0xb2)](_0x51ec52)[_0x343dbc(0xb0)](_0x343dbc(0xd7),_0x51ec52),selectY[_0x343dbc(0x144)](_0x343dbc(0xe2))[_0x343dbc(0xb2)](_0x51ec52)['attr']('value',_0x51ec52);}),selectX[_0x29e012(0xfa)](_0x29e012(0xd7),header[0x3]),selectY['property'](_0x29e012(0xd7),header[0x4]);var svg=d3['select']('#scatter-plot')[_0x29e012(0xb0)](_0x29e012(0xe0),width+margin['left']+margin['right'])[_0x29e012(0xb0)](_0x29e012(0xe7),height+margin[_0x29e012(0xed)]+margin[_0x29e012(0xb6)])[_0x29e012(0x144)]('g')[_0x29e012(0xb0)](_0x29e012(0xae),_0x29e012(0xf0)+margin[_0x29e012(0x114)]+','+margin[_0x29e012(0xed)]+')'),xMetric=header[0x3],yMetric=header[0x4],xScale=d3[_0x29e012(0x146)]()[_0x29e012(0xa5)]([0x0,width]),yScale=d3['scaleLinear']()['range']([height,0x0]),xAxis=d3['axisBottom'](xScale)['tickSize'](0x0),yAxis=d3[_0x29e012(0x175)](yScale)['tickSize'](0x0),gXAxis=svg[_0x29e012(0x144)]('g')[_0x29e012(0xb0)](_0x29e012(0x111),_0x29e012(0x11e))['attr'](_0x29e012(0xae),'translate(0,'+height+')'),gYAxis=svg[_0x29e012(0x144)]('g')[_0x29e012(0xb0)](_0x29e012(0x111),'y-axis'),xLabel=svg[_0x29e012(0x144)]('text')[_0x29e012(0xb0)](_0x29e012(0x111),'x-label')[_0x29e012(0xb0)](_0x29e012(0x113),_0x29e012(0x140))[_0x29e012(0xb0)]('x',width)['attr']('y',height+0x23)[_0x29e012(0xe3)](_0x29e012(0x16f),_0x29e012(0x126))['style'](_0x29e012(0xcb),_0x29e012(0x164)),yLabel=svg[_0x29e012(0x144)](_0x29e012(0xb2))[_0x29e012(0xb0)]('class','y-label')[_0x29e012(0xb0)](_0x29e012(0x113),_0x29e012(0x140))['attr']('transform','rotate(-90)')[_0x29e012(0xb0)]('y',-0x35)[_0x29e012(0xb0)]('x',0x0)[_0x29e012(0xe3)]('font-family',_0x29e012(0x126))['style'](_0x29e012(0xcb),'14px'),tooltip=d3[_0x29e012(0x16b)](_0x29e012(0x170))[_0x29e012(0x144)](_0x29e012(0xf1))[_0x29e012(0xb0)](_0x29e012(0x111),'tooltip');function isMobileDevice(){var _0x3d07a2=_0x29e012;return window[_0x3d07a2(0xb8)]<=0x300;}function positionTooltip(_0x1bc62a,_0x3993cb){var _0x408c6b=_0x29e012;const _0x4fb9c5=_0x3993cb[_0x408c6b(0x171)]();if(!_0x4fb9c5)return{'left':0x0,'top':0x0};const _0xe083b4=_0x4fb9c5[_0x408c6b(0xd6)](),_0x4cc83a=window[_0x408c6b(0xb8)],_0xbac1eb=window[_0x408c6b(0x14d)];let _0xcdf0ee=_0x1bc62a['pageX']+0xa,_0x200cb6=_0x1bc62a[_0x408c6b(0x9a)]-0x1c;return _0xcdf0ee+_0xe083b4[_0x408c6b(0xe0)]>_0x4cc83a-0xa&&(_0xcdf0ee=_0x1bc62a[_0x408c6b(0x15c)]-_0xe083b4[_0x408c6b(0xe0)]-0xa),_0x200cb6+_0xe083b4[_0x408c6b(0xe7)]>_0xbac1eb-0xa&&(_0x200cb6=_0x1bc62a[_0x408c6b(0x9a)]-_0xe083b4[_0x408c6b(0xe7)]-0xa),_0xcdf0ee=Math['max'](0xa,_0xcdf0ee),_0x200cb6=Math['max'](0xa,_0x200cb6),{'left':_0xcdf0ee,'top':_0x200cb6};}var clickedCircles=[],filteredData=data,filteredNames=names,circles;function updateChart(){var _0x1960eb=_0x29e012;updateChartDimensions(),d3['select'](_0x1960eb(0x101))[_0x1960eb(0xb0)](_0x1960eb(0xe0),width+margin[_0x1960eb(0x114)]+margin['right'])['attr'](_0x1960eb(0xe7),height+margin['top']+margin[_0x1960eb(0xb6)]),gXAxis[_0x1960eb(0xb0)](_0x1960eb(0xae),_0x1960eb(0x14f)+height+')'),xLabel[_0x1960eb(0xb0)]('x',width)[_0x1960eb(0xb0)]('y',height+0x23),yLabel[_0x1960eb(0xb0)]('x',0x0);const _0x411f92=document[_0x1960eb(0x170)][_0x1960eb(0x13b)][_0x1960eb(0xf2)](_0x1960eb(0x13d));var _0x4613c5=document[_0x1960eb(0x177)](_0x1960eb(0xe8))['value'];if(_0x4613c5==='all')filteredData=data;else _0x4613c5===_0x1960eb(0xda)?filteredData=data[_0x1960eb(0xaf)](function(_0x26f03b){return _0x26f03b[0x2]==='Premier\x20League'||_0x26f03b[0x2]==='La\x20Liga'||_0x26f03b[0x2]==='Bundesliga'||_0x26f03b[0x2]==='Serie\x20A'||_0x26f03b[0x2]==='Ligue\x201';}):filteredData=data[_0x1960eb(0xaf)](function(_0x574509){return _0x574509[0x2]===_0x4613c5;});filteredNames=filteredData[_0x1960eb(0xe1)](function(_0x5eacfc){return _0x5eacfc[0x1];}),xMetric=selectX[_0x1960eb(0xfa)]('value'),yMetric=selectY[_0x1960eb(0xfa)]('value'),xScale['range']([0x0,width])[_0x1960eb(0xfb)]((function(){var _0x35e6c4=_0x1960eb;const _0x49892b=d3[_0x35e6c4(0xd3)](filteredData,function(_0x3ee39a){var _0x3500b7=_0x35e6c4;return+_0x3ee39a[header[_0x3500b7(0xeb)](xMetric)];}),_0x1dc672=d3[_0x35e6c4(0x146)]()[_0x35e6c4(0xfb)](_0x49892b)[_0x35e6c4(0x128)](),_0x527b14=_0x1dc672[_0x35e6c4(0xfb)](),_0x26c4e2=_0x49892b[0x1]-_0x49892b[0x0],_0x4de80f=_0x527b14[0x1]-_0x527b14[0x0];if(_0x4de80f/_0x26c4e2>1.2){const _0x2cf517=_0x26c4e2*0.1;return[_0x49892b[0x0]-_0x2cf517,_0x49892b[0x1]+_0x2cf517];}else return _0x527b14;}())),yScale[_0x1960eb(0xa5)]([height,0x0])[_0x1960eb(0xfb)]((function(){var _0x3c9a0f=_0x1960eb;const _0x393b39=d3[_0x3c9a0f(0xd3)](filteredData,function(_0x18979d){return+_0x18979d[header['indexOf'](yMetric)];}),_0x9fb29c=d3[_0x3c9a0f(0x146)]()[_0x3c9a0f(0xfb)](_0x393b39)['nice'](),_0x2318d1=_0x9fb29c['domain'](),_0x87029b=_0x393b39[0x1]-_0x393b39[0x0],_0x46dc10=_0x2318d1[0x1]-_0x2318d1[0x0];if(_0x46dc10/_0x87029b>1.2){const _0x2c4db1=_0x87029b*0.1;return[_0x393b39[0x0]-_0x2c4db1,_0x393b39[0x1]+_0x2c4db1];}else return _0x2318d1;}())),gXAxis['call'](d3[_0x1960eb(0xd1)](xScale)['tickSize'](0x0)),gYAxis[_0x1960eb(0xbf)](d3[_0x1960eb(0x175)](yScale)[_0x1960eb(0x104)](0x0));const _0x50bae7=_0x1960eb(0x91)+xMetric[_0x1960eb(0x8f)]()['replace'](/ /g,'-')['replace'](/%/g,_0x1960eb(0x168)),_0x4e9107='metrics.'+yMetric[_0x1960eb(0x8f)]()[_0x1960eb(0xdc)](/ /g,'-')[_0x1960eb(0xdc)](/%/g,'pct');xLabel[_0x1960eb(0xb0)](_0x1960eb(0x136),_0x50bae7),yLabel['attr'](_0x1960eb(0x136),_0x4e9107);if(window[_0x1960eb(0xc1)]&&window[_0x1960eb(0xc1)][_0x1960eb(0xc5)]){const _0x660e26=xMetric['toLowerCase']()[_0x1960eb(0xdc)](/ /g,'-')[_0x1960eb(0xdc)](/%/g,'pct'),_0x545eb5=yMetric[_0x1960eb(0x8f)]()[_0x1960eb(0xdc)](/ /g,'-')[_0x1960eb(0xdc)](/%/g,_0x1960eb(0x168)),_0xae981b=window[_0x1960eb(0xc1)]['metrics'][_0x660e26],_0x284ef2=window[_0x1960eb(0xc1)][_0x1960eb(0xc5)][_0x545eb5];xLabel[_0x1960eb(0xb2)](_0xae981b||xMetric),yLabel['text'](_0x284ef2||yMetric);}else xLabel['text'](xMetric),yLabel[_0x1960eb(0xb2)](yMetric);svg['selectAll'](_0x1960eb(0x142))[_0x1960eb(0xe9)](),svg[_0x1960eb(0xa2)](_0x1960eb(0xc7))[_0x1960eb(0xe9)](),svg[_0x1960eb(0xa2)](_0x1960eb(0xb3))[_0x1960eb(0xe9)](),svg['selectAll']('.xy-line-bg')[_0x1960eb(0xe9)](),svg['selectAll'](_0x1960eb(0xea))[_0x1960eb(0xe9)](),svg[_0x1960eb(0xa2)](_0x1960eb(0xb1))[_0x1960eb(0xe9)](),svg['selectAll'](_0x1960eb(0x154))[_0x1960eb(0xe9)](),svg['selectAll']('linearGradient#line-gradient')[_0x1960eb(0xe9)](),svg[_0x1960eb(0xa2)](_0x1960eb(0x12c))['remove'](),svg[_0x1960eb(0xa2)](_0x1960eb(0xd2))[_0x1960eb(0xe9)](),svg['selectAll'](_0x1960eb(0x117))['remove']();if(xMetric===_0x1960eb(0x11c)&&yMetric==='Goals\x20per\x2090'||xMetric===_0x1960eb(0x16c)&&yMetric===_0x1960eb(0x11c)){var _0x3746e1=null,_0x1ac43a=d3[_0x1960eb(0xe6)](filteredData,function(_0x5aa169){var _0xff63c1=_0x1960eb;return _0x5aa169[header[_0xff63c1(0xeb)](xMetric)];}),_0x14b89e=d3[_0x1960eb(0xc0)](filteredData,function(_0x3f9619){var _0x1a77eb=_0x1960eb;return _0x3f9619[header[_0x1a77eb(0xeb)](xMetric)];}),_0x22e9f7=d3[_0x1960eb(0xe6)](filteredData,function(_0x18b3a7){var _0x6f14e8=_0x1960eb;return _0x18b3a7[header[_0x6f14e8(0xeb)](yMetric)];}),_0x183393=d3[_0x1960eb(0xc0)](filteredData,function(_0x5d9a52){var _0x43f75e=_0x1960eb;return _0x5d9a52[header[_0x43f75e(0xeb)](yMetric)];}),_0x46c584=Math['min'](_0x14b89e,_0x183393),_0x256de9=Math[_0x1960eb(0xc0)](_0x1ac43a,_0x22e9f7);svg[_0x1960eb(0x144)](_0x1960eb(0x92))['attr'](_0x1960eb(0x111),_0x1960eb(0x130))['attr']('x1',xScale(_0x256de9))[_0x1960eb(0xb0)]('y1',yScale(_0x256de9))[_0x1960eb(0xb0)]('x2',xScale(_0x46c584))[_0x1960eb(0xb0)]('y2',yScale(_0x46c584))[_0x1960eb(0xe3)]('stroke',_0x1960eb(0x116))[_0x1960eb(0xe3)](_0x1960eb(0x103),'2')[_0x1960eb(0xe3)](_0x1960eb(0xc6),_0x1960eb(0xde)),svg[_0x1960eb(0x144)]('line')[_0x1960eb(0xb0)](_0x1960eb(0x111),_0x1960eb(0x97))[_0x1960eb(0xb0)]('x1',xScale(_0x256de9))['attr']('y1',yScale(_0x256de9))[_0x1960eb(0xb0)]('x2',xScale(_0x46c584))['attr']('y2',yScale(_0x46c584))['style'](_0x1960eb(0x110),'transparent')[_0x1960eb(0xe3)]('stroke-width','15')[_0x1960eb(0xe3)]('cursor','help')['on'](_0x1960eb(0x133),function(){var _0x4dfecd=_0x1960eb;_0x3746e1&&clearTimeout(_0x3746e1);var _0x2ca405=d3[_0x4dfecd(0x10f)]['pageX'],_0x2cbca8=d3[_0x4dfecd(0x10f)]['pageY'];_0x3746e1=setTimeout(function(){var _0x1a4d31=_0x4dfecd;tooltip['transition']()['duration'](0xc8)[_0x1a4d31(0xe3)](_0x1a4d31(0x10e),0.9);var _0x355780=_0x1a4d31(0x11d)+getTranslation(_0x1a4d31(0x94),'G\x20=\x20xG\x20Line')+_0x1a4d31(0x107);xMetric===_0x1a4d31(0x11c)&&yMetric===_0x1a4d31(0x16c)?_0x355780+=_0x1a4d31(0x122)+getTranslation(_0x1a4d31(0xba),_0x1a4d31(0xac))+'</span><br/>'+_0x1a4d31(0x122)+getTranslation('tooltip.xg-line-below',_0x1a4d31(0xc4))+_0x1a4d31(0x160):_0x355780+=_0x1a4d31(0x122)+getTranslation(_0x1a4d31(0x14a),'Teams\x20right\x20of\x20this\x20line\x20are\x20scoring\x20more\x20goals\x20than\x20expected.')+_0x1a4d31(0x119)+'<span>'+getTranslation(_0x1a4d31(0xfd),_0x1a4d31(0x11f))+_0x1a4d31(0x160),tooltip[_0x1a4d31(0x13c)](_0x355780)[_0x1a4d31(0xe3)](_0x1a4d31(0x114),_0x2ca405+0xa+'px')[_0x1a4d31(0xe3)]('top',_0x2cbca8-0x1c+'px');},0x258);})['on'](_0x1960eb(0xe5),function(){var _0x503512=_0x1960eb;_0x3746e1&&(clearTimeout(_0x3746e1),_0x3746e1=null),tooltip[_0x503512(0x176)]()[_0x503512(0xa8)](0x1f4)[_0x503512(0xe3)](_0x503512(0x10e),0x0);});}if(medianLinesVisible){var _0x53abf3=d3[_0x1960eb(0x131)](filteredData,function(_0x1b511e){var _0x21a0fd=_0x1960eb;return _0x1b511e[header[_0x21a0fd(0xeb)](xMetric)];}),_0x56b883=d3[_0x1960eb(0x131)](filteredData,function(_0x219df8){var _0x9c0a62=_0x1960eb;return _0x219df8[header[_0x9c0a62(0xeb)](yMetric)];});svg['append'](_0x1960eb(0x92))[_0x1960eb(0xb0)](_0x1960eb(0x111),_0x1960eb(0x155))[_0x1960eb(0xb0)]('x1',xScale(_0x53abf3))[_0x1960eb(0xb0)]('y1',0x0)[_0x1960eb(0xb0)]('x2',xScale(_0x53abf3))[_0x1960eb(0xb0)]('y2',height)['style'](_0x1960eb(0x110),_0x1960eb(0x9b))[_0x1960eb(0xe3)](_0x1960eb(0xc6),'4'),svg[_0x1960eb(0x144)](_0x1960eb(0x92))[_0x1960eb(0xb0)]('class','median-line')[_0x1960eb(0xb0)]('x1',0x0)[_0x1960eb(0xb0)]('y1',yScale(_0x56b883))[_0x1960eb(0xb0)]('x2',width)[_0x1960eb(0xb0)]('y2',yScale(_0x56b883))[_0x1960eb(0xe3)](_0x1960eb(0x110),_0x1960eb(0x9b))['style'](_0x1960eb(0xc6),'4');}circles=svg[_0x1960eb(0xa2)]('circle')[_0x1960eb(0xc8)](filteredData)[_0x1960eb(0xfc)]()[_0x1960eb(0x144)]('circle')[_0x1960eb(0xb0)]('cx',function(_0x5797dc){var _0x4be770=_0x1960eb;return xScale(_0x5797dc[header[_0x4be770(0xeb)](xMetric)]);})['attr']('cy',function(_0x95925d){return yScale(_0x95925d[header['indexOf'](yMetric)]);})[_0x1960eb(0xb0)]('r',0x8)[_0x1960eb(0xe3)](_0x1960eb(0x12b),function(_0x4d496b){var _0x46e0b9=_0x1960eb;if(clickedCircles[_0x46e0b9(0x134)](_0x4d496b[0x1]))return getLeagueColor(_0x4d496b[0x2]);return _0x46e0b9(0xf8);})[_0x1960eb(0xe3)]('stroke',function(_0x4c0c17){var _0x4809f4=_0x1960eb;return clickedCircles[_0x4809f4(0x134)](_0x4c0c17[0x1])?_0x4809f4(0xaa):_0x4809f4(0xc9);})[_0x1960eb(0xe3)](_0x1960eb(0x103),function(_0x4a964f){var _0x4c51cf=_0x1960eb;return clickedCircles[_0x4c51cf(0x134)](_0x4a964f[0x1])?0x2:0x0;})[_0x1960eb(0xe3)]('cursor',_0x1960eb(0xa9))['on'](_0x1960eb(0x133),function(_0x4c3f1d){var _0x4208b1=_0x1960eb;d3['select'](this)[_0x4208b1(0x176)]()[_0x4208b1(0xa8)](0xc8)['attr']('r',0xa)[_0x4208b1(0xe3)]('fill',getLeagueColor(_0x4c3f1d[0x2])),tooltip[_0x4208b1(0x176)]()[_0x4208b1(0xa8)](0xc8)[_0x4208b1(0xe3)](_0x4208b1(0x10e),0.9);const _0x5e6b9d=_0x4208b1(0x91)+xMetric[_0x4208b1(0x8f)]()['replace'](/ /g,'-')[_0x4208b1(0xdc)](/%/g,'pct'),_0x1562bd='metrics.'+yMetric['toLowerCase']()[_0x4208b1(0xdc)](/ /g,'-')[_0x4208b1(0xdc)](/%/g,_0x4208b1(0x168)),_0x5be15c=getTranslation(_0x5e6b9d,xMetric),_0x4f8017=getTranslation(_0x1562bd,yMetric);tooltip[_0x4208b1(0x13c)](_0x4208b1(0x11d)+_0x4c3f1d[0x1]+_0x4208b1(0x107)+_0x5be15c+':\x20'+_0x4c3f1d[header[_0x4208b1(0xeb)](xMetric)]['toFixed'](0x2)+_0x4208b1(0xd5)+_0x4f8017+':\x20'+_0x4c3f1d[header[_0x4208b1(0xeb)](yMetric)][_0x4208b1(0x173)](0x2));const _0x1dbfaf=tooltip[_0x4208b1(0x171)]();if(_0x1dbfaf){const _0x328d9b=_0x1dbfaf['getBoundingClientRect'](),_0x4fd698=window[_0x4208b1(0xb8)],_0x21b2db=window[_0x4208b1(0x14d)];let _0x49eafd=d3[_0x4208b1(0x10f)][_0x4208b1(0x15c)]+0xa,_0x21c217=d3[_0x4208b1(0x10f)][_0x4208b1(0x9a)]-0x1c;_0x49eafd+_0x328d9b['width']>_0x4fd698-0xa&&(_0x49eafd=d3[_0x4208b1(0x10f)]['pageX']-_0x328d9b[_0x4208b1(0xe0)]-0xa),_0x21c217+_0x328d9b[_0x4208b1(0xe7)]>_0x21b2db-0xa&&(_0x21c217=d3[_0x4208b1(0x10f)][_0x4208b1(0x9a)]-_0x328d9b[_0x4208b1(0xe7)]-0xa),_0x49eafd=Math['max'](0xa,_0x49eafd),_0x21c217=Math[_0x4208b1(0xc0)](0xa,_0x21c217),tooltip[_0x4208b1(0xe3)](_0x4208b1(0x114),_0x49eafd+'px')[_0x4208b1(0xe3)](_0x4208b1(0xed),_0x21c217+'px');}else tooltip[_0x4208b1(0xe3)]('left',d3[_0x4208b1(0x10f)][_0x4208b1(0x15c)]+0xa+'px')[_0x4208b1(0xe3)](_0x4208b1(0xed),d3[_0x4208b1(0x10f)][_0x4208b1(0x9a)]-0x1c+'px');window[_0x4208b1(0xb8)]<=0x300&&setTimeout(function(){var _0x226e09=_0x4208b1;tooltip[_0x226e09(0x176)]()[_0x226e09(0xa8)](0xc8)['style'](_0x226e09(0x10e),0x0);},0x3e8);})['on'](_0x1960eb(0xe5),function(_0x387631){var _0x27fc10=_0x1960eb;window[_0x27fc10(0xb8)]>0x300&&tooltip[_0x27fc10(0x176)]()[_0x27fc10(0xa8)](0x1f4)[_0x27fc10(0xe3)]('opacity',0x0);var _0x4d0838=clickedCircles[_0x27fc10(0x134)](_0x387631[0x1]);d3['select'](this)[_0x27fc10(0x176)]()[_0x27fc10(0xa8)](0xc8)[_0x27fc10(0xb0)]('r',0x8)[_0x27fc10(0xe3)](_0x27fc10(0x12b),function(){var _0x117323=_0x27fc10;return _0x4d0838?getLeagueColor(_0x387631[0x2]):_0x117323(0xf8);});})['on'](_0x1960eb(0xf4),function(_0x38ee9e){var _0x5b032b=_0x1960eb,_0x2d1f68=d3[_0x5b032b(0x16b)](this)[_0x5b032b(0x9c)](_0x5b032b(0xec));_0x2d1f68&&resetSearch();var _0x53adf8=clickedCircles['indexOf'](_0x38ee9e[0x1]);_0x53adf8===-0x1?(clickedCircles[_0x5b032b(0xbe)](_0x38ee9e[0x1]),d3['select'](this)[_0x5b032b(0xe3)](_0x5b032b(0x12b),getLeagueColor(_0x38ee9e[0x2]))[_0x5b032b(0xe3)](_0x5b032b(0x110),'#000')[_0x5b032b(0xe3)](_0x5b032b(0x103),0x2),addTeamLabel(_0x38ee9e)):(clickedCircles['splice'](_0x53adf8,0x1),d3[_0x5b032b(0x16b)](this)[_0x5b032b(0xe3)](_0x5b032b(0x12b),'rgba(70,\x20130,\x20180,\x200.7)')[_0x5b032b(0xe3)](_0x5b032b(0x110),_0x5b032b(0xc9)),svg[_0x5b032b(0xa2)]('.team-label-'+_0x38ee9e[0x1][_0x5b032b(0xdc)](/\s+/g,'-')[_0x5b032b(0x8f)]())[_0x5b032b(0xe9)]());updateSelectAllButtonText();var _0x17d9f8=document[_0x5b032b(0x177)]('select-league')[_0x5b032b(0xd7)];updateLeagueLegend(_0x17d9f8);}),clickedCircles['forEach'](function(_0x2dd6b7){var _0x5f4cae=_0x1960eb,_0x2d92b3=filteredData[_0x5f4cae(0x147)](function(_0x66b635){return _0x66b635[0x1]===_0x2dd6b7;});_0x2d92b3&&addTeamLabel(_0x2d92b3);}),updateSelectAllButtonText(),updateLeagueLegend(_0x4613c5);}function updateSelectAllButtonText(){var _0x5dac0f=_0x29e012,_0x509b17=document[_0x5dac0f(0x177)](_0x5dac0f(0x93)),_0x1592b0=document[_0x5dac0f(0x177)]('select-all-tooltip'),_0x19f806=filteredData[_0x5dac0f(0x99)](function(_0x3337d8){return clickedCircles['includes'](_0x3337d8[0x1]);});_0x19f806?(_0x509b17[_0x5dac0f(0x141)]=_0x5dac0f(0x166),_0x1592b0&&(window[_0x5dac0f(0xc1)]&&window[_0x5dac0f(0xc1)]['tooltip']?_0x1592b0['textContent']=window[_0x5dac0f(0xc1)][_0x5dac0f(0xb5)]['unselectAll']||_0x5dac0f(0x158):_0x1592b0['textContent']=_0x5dac0f(0x158))):(_0x509b17['className']=_0x5dac0f(0x96),_0x1592b0&&(window[_0x5dac0f(0xc1)]&&window[_0x5dac0f(0xc1)][_0x5dac0f(0xb5)]?_0x1592b0[_0x5dac0f(0xcf)]=window[_0x5dac0f(0xc1)][_0x5dac0f(0xb5)][_0x5dac0f(0xa2)]||_0x5dac0f(0xc2):_0x1592b0[_0x5dac0f(0xcf)]=_0x5dac0f(0xc2)));}selectX['on'](_0x29e012(0x10b),updateChart),selectY['on'](_0x29e012(0x10b),updateChart);function removeSpecialCharsAndDiacritics(_0x3587c3){var _0x5dc2f8=_0x29e012;if(!_0x3587c3)return'';return _0x3587c3[_0x5dc2f8(0xab)](_0x5dc2f8(0x11a))['replace'](/[\u0300-\u036f]/g,'')[_0x5dc2f8(0xdc)](/Ø/g,'O')[_0x5dc2f8(0xdc)](/ø/g,'o');}var searchBar=document[_0x29e012(0x177)]('search-bar');searchBar[_0x29e012(0x9d)](_0x29e012(0x12f),function(){var _0x10cca2=_0x29e012,_0x17c0f6=searchBar[_0x10cca2(0xd7)][_0x10cca2(0x8f)]();if(_0x17c0f6===''){resetSearch();return;}var _0x16650b=removeSpecialCharsAndDiacritics(_0x17c0f6);svg[_0x10cca2(0xa2)]('circle')[_0x10cca2(0x9c)](_0x10cca2(0xec),![])['style']('fill',function(_0x135fd8){var _0x4e5214=_0x10cca2;return clickedCircles[_0x4e5214(0x134)](_0x135fd8[0x1])?getLeagueColor(_0x135fd8[0x2]):_0x4e5214(0xf8);})[_0x10cca2(0xe3)](_0x10cca2(0x110),function(_0x582a28){var _0x42131e=_0x10cca2;return clickedCircles[_0x42131e(0x134)](_0x582a28[0x1])?'#000':'none';})[_0x10cca2(0xe3)](_0x10cca2(0x103),function(_0x1c822){var _0x54ba35=_0x10cca2;return clickedCircles[_0x54ba35(0x134)](_0x1c822[0x1])?0x2:0x0;})[_0x10cca2(0xe3)]('filter',_0x10cca2(0xc9))[_0x10cca2(0x179)](function(){var _0x3d291c=_0x10cca2;d3[_0x3d291c(0x16b)](this)[_0x3d291c(0xe3)]('r',null);}),svg[_0x10cca2(0xa2)](_0x10cca2(0xc7))[_0x10cca2(0x9c)](_0x10cca2(0xec),![])[_0x10cca2(0x9c)](_0x10cca2(0x165),![]);var _0x214a04=[];svg['selectAll'](_0x10cca2(0x142))['filter'](function(_0x222b73){var _0x38d1b0=_0x10cca2,_0x12d54d=_0x222b73[0x1][_0x38d1b0(0x8f)](),_0x407a9a=removeSpecialCharsAndDiacritics(_0x12d54d),_0x52fa12=_0x12d54d[_0x38d1b0(0x134)](_0x17c0f6)||_0x407a9a[_0x38d1b0(0x134)](_0x16650b);return _0x52fa12&&_0x214a04[_0x38d1b0(0xbe)](_0x222b73[0x1]),_0x52fa12;})[_0x10cca2(0x9c)](_0x10cca2(0xec),!![])[_0x10cca2(0x179)](function(){var _0x878ec9=_0x10cca2;this[_0x878ec9(0x98)][_0x878ec9(0x169)](this);}),_0x214a04[_0x10cca2(0x118)]>0x0?(svg['selectAll']('.team-label')[_0x10cca2(0x9c)](_0x10cca2(0x165),!![]),svg['selectAll'](_0x10cca2(0xc7))['filter'](function(){var _0x659bc2=_0x10cca2,_0x286647=d3[_0x659bc2(0x16b)](this)[_0x659bc2(0xb2)]();return _0x214a04['includes'](_0x286647);})['classed'](_0x10cca2(0xec),!![])[_0x10cca2(0x9c)](_0x10cca2(0x165),![])[_0x10cca2(0x179)](function(){this['parentNode']['appendChild'](this);}),_0x214a04[_0x10cca2(0xbc)](function(_0x1d52e6){var _0x15eddd=_0x10cca2,_0x51c8b0=_0x15eddd(0xb7)+_0x1d52e6[_0x15eddd(0xdc)](/\s+/g,'-')[_0x15eddd(0x8f)]();if(svg[_0x15eddd(0x16b)]('.'+_0x51c8b0)[_0x15eddd(0x10a)]()===0x0){var _0x40b659=filteredData[_0x15eddd(0x147)](function(_0xdcc66b){return _0xdcc66b[0x1]===_0x1d52e6;});_0x40b659&&(addTeamLabel(_0x40b659),svg[_0x15eddd(0x16b)]('.'+_0x51c8b0)['classed']('search-match',!![]));}})):(svg[_0x10cca2(0xa2)](_0x10cca2(0xc7))[_0x10cca2(0x179)](function(){var _0x41ae0c=_0x10cca2,_0x5494fd=d3[_0x41ae0c(0x16b)](this),_0x5da8c9=_0x5494fd[_0x41ae0c(0xb2)]();!clickedCircles[_0x41ae0c(0x134)](_0x5da8c9)&&_0x5494fd[_0x41ae0c(0xe9)]();}),svg[_0x10cca2(0xa2)]('circle')[_0x10cca2(0xe3)](_0x10cca2(0x12b),function(_0x316d35){var _0x2c3da4=_0x10cca2;return clickedCircles[_0x2c3da4(0x134)](_0x316d35[0x1])?getLeagueColor(_0x316d35[0x2]):_0x2c3da4(0xf8);})[_0x10cca2(0xe3)]('stroke',function(_0x904e65){var _0xb01cc2=_0x10cca2;return clickedCircles[_0xb01cc2(0x134)](_0x904e65[0x1])?'#000':_0xb01cc2(0xc9);})[_0x10cca2(0xe3)]('stroke-width',function(_0x5de7fb){var _0x1fcd5e=_0x10cca2;return clickedCircles[_0x1fcd5e(0x134)](_0x5de7fb[0x1])?0x2:0x0;}));});function resetSearch(){var _0x272770=_0x29e012;searchBar[_0x272770(0xd7)]='',svg[_0x272770(0xa2)]('circle')['classed']('search-match',![])[_0x272770(0xe3)](_0x272770(0x12b),function(_0x40eee2){var _0x423e22=_0x272770;return clickedCircles['includes'](_0x40eee2[0x1])?getLeagueColor(_0x40eee2[0x2]):_0x423e22(0xf8);})[_0x272770(0xe3)](_0x272770(0x110),function(_0x534872){var _0x5c5c19=_0x272770;return clickedCircles[_0x5c5c19(0x134)](_0x534872[0x1])?_0x5c5c19(0xaa):_0x5c5c19(0xc9);})[_0x272770(0xe3)]('stroke-width',function(_0x5827c0){var _0x182174=_0x272770;return clickedCircles[_0x182174(0x134)](_0x5827c0[0x1])?0x2:0x0;})[_0x272770(0xe3)](_0x272770(0xaf),'none')[_0x272770(0x179)](function(){var _0xb37e81=_0x272770;d3[_0xb37e81(0x16b)](this)[_0xb37e81(0xe3)]('r',null),d3[_0xb37e81(0x16b)](this)['interrupt']();}),svg[_0x272770(0xa2)](_0x272770(0xc7))[_0x272770(0x9c)]('search-match',![])[_0x272770(0x9c)](_0x272770(0x165),![])['each'](function(){var _0x5609d0=_0x272770;d3['select'](this)[_0x5609d0(0x13e)]();}),svg[_0x272770(0xa2)](_0x272770(0xc7))[_0x272770(0x179)](function(){var _0x300f8c=_0x272770,_0xf0ec65=d3['select'](this),_0x2f9e1c=_0xf0ec65[_0x300f8c(0xb2)]();!clickedCircles[_0x300f8c(0x134)](_0x2f9e1c)&&_0xf0ec65[_0x300f8c(0xe9)]();});}var toggleButton=document[_0x29e012(0x177)](_0x29e012(0xf6));toggleButton[_0x29e012(0x9d)](_0x29e012(0xf4),function(){var _0x5878d9=_0x29e012;medianLinesVisible=!medianLinesVisible,updateChart();const _0x175f3d=document[_0x5878d9(0x177)](_0x5878d9(0xee));window['currentTranslations']&&window['currentTranslations'][_0x5878d9(0xb5)]?_0x175f3d['textContent']=medianLinesVisible?window[_0x5878d9(0xc1)][_0x5878d9(0xb5)][_0x5878d9(0xf5)]||'Hide\x20median\x20lines':window[_0x5878d9(0xc1)][_0x5878d9(0xb5)][_0x5878d9(0xf7)]||'Show\x20median\x20lines':_0x175f3d[_0x5878d9(0xcf)]=medianLinesVisible?_0x5878d9(0x138):_0x5878d9(0x10c);});function selectAllCircles(){var _0x19faec=_0x29e012,_0x5edd76=filteredData[_0x19faec(0x99)](function(_0x513b4e){var _0x42b1c1=_0x19faec;return clickedCircles[_0x42b1c1(0x134)](_0x513b4e[0x1]);});_0x5edd76?(clickedCircles=[],svg[_0x19faec(0xa2)]('circle')[_0x19faec(0xe3)](_0x19faec(0x12b),_0x19faec(0xf8))['style']('stroke',_0x19faec(0xc9)),svg[_0x19faec(0xa2)](_0x19faec(0xc7))['remove']()):(svg['selectAll'](_0x19faec(0x142))[_0x19faec(0x179)](function(_0x55dd51){var _0x41031f=_0x19faec;!clickedCircles[_0x41031f(0x134)](_0x55dd51[0x1])&&(clickedCircles[_0x41031f(0xbe)](_0x55dd51[0x1]),d3[_0x41031f(0x16b)](this)[_0x41031f(0xe3)]('fill',getLeagueColor(_0x55dd51[0x2]))['style'](_0x41031f(0x110),_0x41031f(0xaa))['style']('stroke-width',0x2));}),filteredData['forEach'](function(_0x2e5a02){addTeamLabel(_0x2e5a02);}));updateSelectAllButtonText();var _0x56f567=document['getElementById'](_0x19faec(0xe8))[_0x19faec(0xd7)];updateLeagueLegend(_0x56f567);}updateChart(),initializeCustomSelectors();function updateLeagueLegend(_0x3c92dc){var _0x9544d2=_0x29e012,_0x4bed4a=document[_0x9544d2(0x177)]('league-legend');if(_0x3c92dc!==_0x9544d2(0x149)&&_0x3c92dc!==_0x9544d2(0xda)){_0x4bed4a['style']['display']=_0x9544d2(0xc9);return;}if(clickedCircles[_0x9544d2(0x118)]===0x0){_0x4bed4a[_0x9544d2(0xe3)]['display']=_0x9544d2(0xc9);return;}var _0x36bf52=![];for(var _0x9ab93=0x0;_0x9ab93<filteredData[_0x9544d2(0x118)];_0x9ab93++){if(clickedCircles['includes'](filteredData[_0x9ab93][0x1])){_0x36bf52=!![];break;}}if(!_0x36bf52){_0x4bed4a[_0x9544d2(0xe3)][_0x9544d2(0x13a)]=_0x9544d2(0xc9);return;}_0x4bed4a[_0x9544d2(0xe3)][_0x9544d2(0x13a)]=_0x9544d2(0xce),_0x4bed4a[_0x9544d2(0x10d)]='';var _0x2da4de=document[_0x9544d2(0xa1)](_0x9544d2(0xf1));_0x2da4de[_0x9544d2(0xe3)][_0x9544d2(0xbd)]=_0x9544d2(0xe4),_0x2da4de[_0x9544d2(0xe3)][_0x9544d2(0xa6)]=_0x9544d2(0x125),_0x4bed4a[_0x9544d2(0x169)](_0x2da4de);var _0x1ab097=[];if(_0x3c92dc===_0x9544d2(0x149))_0x1ab097=Object[_0x9544d2(0xa0)](leagueColors);else _0x3c92dc===_0x9544d2(0xda)&&(_0x1ab097=[_0x9544d2(0x174),_0x9544d2(0x100),_0x9544d2(0x163),_0x9544d2(0x105),_0x9544d2(0x16d)]);_0x1ab097[_0x9544d2(0xbc)](function(_0xa18889){var _0x1906b8=_0x9544d2,_0x2965ee=document[_0x1906b8(0xa1)](_0x1906b8(0xf1));_0x2965ee[_0x1906b8(0x141)]=_0x1906b8(0x161);var _0xdabaf3=document['createElement']('div');_0xdabaf3['className']=_0x1906b8(0xad),_0xdabaf3[_0x1906b8(0xe3)][_0x1906b8(0xa4)]=leagueColors[_0xa18889];var _0x315f46=document['createElement']('span');_0x315f46[_0x1906b8(0xcf)]=_0xa18889,_0x2965ee[_0x1906b8(0x169)](_0xdabaf3),_0x2965ee[_0x1906b8(0x169)](_0x315f46),_0x4bed4a[_0x1906b8(0x169)](_0x2965ee);});}function addTeamLabel(_0x937c38,_0x4667e3){var _0x3399ef=_0x29e012,_0x5f1d97=xScale(_0x937c38[header['indexOf'](xMetric)]),_0x1a7b43=yScale(_0x937c38[header[_0x3399ef(0xeb)](yMetric)]),_0xc15886=_0x3399ef(0xb7)+_0x937c38[0x1][_0x3399ef(0x8f)]()[_0x3399ef(0xdc)](/\s+/g,'-');if(svg[_0x3399ef(0x16b)]('.'+_0xc15886)['size']()>0x0)return;var _0x296fd3=svg[_0x3399ef(0x144)](_0x3399ef(0xb2))[_0x3399ef(0xb0)](_0x3399ef(0x111),_0x3399ef(0xd4))[_0x3399ef(0xb2)](_0x937c38[0x1])[_0x3399ef(0xe3)](_0x3399ef(0x16f),_0x3399ef(0x126))[_0x3399ef(0xe3)]('font-size',_0x3399ef(0x153))['style'](_0x3399ef(0x10e),0x0),_0x28dbab=_0x296fd3[_0x3399ef(0x171)]()[_0x3399ef(0x167)]();_0x296fd3[_0x3399ef(0xe9)]();var _0x349e28=[{'dx':0x8,'dy':0x0,'anchor':'start'},{'dx':-0x8,'dy':0x0,'anchor':_0x3399ef(0x140)},{'dx':0x0,'dy':-0x8,'anchor':_0x3399ef(0xd9)},{'dx':0x0,'dy':0x8,'anchor':_0x3399ef(0xd9)}],_0x73a9aa=[];svg['selectAll']('text.team-label')[_0x3399ef(0x179)](function(){var _0x575620=_0x3399ef,_0x2608ff=this[_0x575620(0xcd)]();_0x73a9aa[_0x575620(0xbe)]({'x1':_0x2608ff['x']-0x2,'y1':_0x2608ff['y']-0x2,'x2':_0x2608ff['x']+_0x2608ff['width']+0x2,'y2':_0x2608ff['y']+_0x2608ff[_0x575620(0xe7)]+0x2});});var _0x1ec6a4=null,_0x26ea1a=0xc,_0x5d8f2f=width,_0x59a130=height;if(!_0x4667e3){for(var _0x562911=0x0;_0x562911<_0x349e28['length'];_0x562911++){var _0x1bc1de=_0x349e28[_0x562911],_0x3fef6c=_0x5f1d97+_0x1bc1de['dx'],_0x4e9a80=_0x1a7b43+_0x1bc1de['dy'],_0x12bd16={'x1':_0x1bc1de[_0x3399ef(0x172)]===_0x3399ef(0x140)?_0x3fef6c-_0x28dbab:_0x1bc1de[_0x3399ef(0x172)]===_0x3399ef(0xd9)?_0x3fef6c-_0x28dbab/0x2:_0x3fef6c,'y1':_0x1bc1de['dy']<0x0?_0x4e9a80-_0x26ea1a:_0x4e9a80,'x2':_0x1bc1de[_0x3399ef(0x172)]===_0x3399ef(0xb4)?_0x3fef6c+_0x28dbab:_0x1bc1de[_0x3399ef(0x172)]==='middle'?_0x3fef6c+_0x28dbab/0x2:_0x3fef6c,'y2':_0x1bc1de['dy']<0x0?_0x4e9a80:_0x4e9a80+_0x26ea1a};if(_0x12bd16['x1']<0x0||_0x12bd16['x2']>_0x5d8f2f||_0x12bd16['y1']<0x0||_0x12bd16['y2']>_0x59a130)continue;var _0x2d49c1=![];for(var _0x53c3ed=0x0;_0x53c3ed<_0x73a9aa[_0x3399ef(0x118)];_0x53c3ed++){var _0x5cb79d=_0x73a9aa[_0x53c3ed];if(!(_0x12bd16['x2']<_0x5cb79d['x1']||_0x12bd16['x1']>_0x5cb79d['x2']||_0x12bd16['y2']<_0x5cb79d['y1']||_0x12bd16['y1']>_0x5cb79d['y2'])){_0x2d49c1=!![];break;}}if(!_0x2d49c1){_0x1ec6a4=_0x1bc1de;break;}}if(!_0x1ec6a4){var _0x418fb2=0x32,_0x321db7=0x0;_0x73a9aa[_0x3399ef(0xbc)](function(_0x348101){var _0x1df63d=_0x3399ef,_0x5a9b7d=(_0x348101['x1']+_0x348101['x2'])/0x2,_0xc31f52=(_0x348101['y1']+_0x348101['y2'])/0x2,_0x6f689f=Math['sqrt'](Math[_0x1df63d(0xca)](_0x5a9b7d-_0x5f1d97,0x2)+Math[_0x1df63d(0xca)](_0xc31f52-_0x1a7b43,0x2));_0x6f689f<_0x418fb2&&_0x321db7++;});if(_0x321db7>0x3)return;}}if(!_0x1ec6a4){_0x1ec6a4=_0x349e28[0x0];var _0x3fef6c=_0x5f1d97+_0x1ec6a4['dx'],_0x4e9a80=_0x1a7b43+_0x1ec6a4['dy'],_0x12bd16={'x1':_0x1ec6a4[_0x3399ef(0x172)]===_0x3399ef(0x140)?_0x3fef6c-_0x28dbab:_0x1ec6a4[_0x3399ef(0x172)]===_0x3399ef(0xd9)?_0x3fef6c-_0x28dbab/0x2:_0x3fef6c,'y1':_0x1ec6a4['dy']<0x0?_0x4e9a80-_0x26ea1a:_0x4e9a80,'x2':_0x1ec6a4[_0x3399ef(0x172)]===_0x3399ef(0xb4)?_0x3fef6c+_0x28dbab:_0x1ec6a4['anchor']==='middle'?_0x3fef6c+_0x28dbab/0x2:_0x3fef6c,'y2':_0x1ec6a4['dy']<0x0?_0x4e9a80:_0x4e9a80+_0x26ea1a};if(_0x12bd16['x1']<0x0)_0x1ec6a4=_0x349e28[0x0];else _0x12bd16['x2']>_0x5d8f2f&&(_0x1ec6a4=_0x349e28[0x1]);if(_0x12bd16['y1']<0x0)_0x1ec6a4=_0x349e28[0x3];else _0x12bd16['y2']>_0x59a130&&(_0x1ec6a4=_0x349e28[0x2]);}var _0x58b9c1=svg[_0x3399ef(0x144)](_0x3399ef(0xb2))[_0x3399ef(0xb0)](_0x3399ef(0x111),_0x3399ef(0xbb)+_0xc15886)[_0x3399ef(0xb0)]('x',_0x5f1d97+_0x1ec6a4['dx'])['attr']('y',_0x1a7b43+_0x1ec6a4['dy'])[_0x3399ef(0xb0)]('text-anchor',_0x1ec6a4[_0x3399ef(0x172)])[_0x3399ef(0xb0)](_0x3399ef(0xff),_0x1ec6a4['dy']<0x0?_0x3399ef(0x129):'hanging')[_0x3399ef(0xb2)](_0x937c38[0x1])['style'](_0x3399ef(0x16f),_0x3399ef(0x126))[_0x3399ef(0xe3)](_0x3399ef(0xcb),_0x3399ef(0x153))[_0x3399ef(0xe3)](_0x3399ef(0x9e),_0x3399ef(0x120))[_0x3399ef(0xe3)](_0x3399ef(0x12b),_0x3399ef(0x17b));_0x4667e3&&_0x58b9c1[_0x3399ef(0x9c)](_0x3399ef(0xec),!![]);var _0xe840bc=_0x58b9c1['node']()['getBBox']();_0x73a9aa[_0x3399ef(0xbe)]({'x1':_0xe840bc['x']-0x2,'y1':_0xe840bc['y']-0x2,'x2':_0xe840bc['x']+_0xe840bc[_0x3399ef(0xe0)]+0x2,'y2':_0xe840bc['y']+_0xe840bc[_0x3399ef(0xe7)]+0x2});}document[_0x29e012(0x9d)]('DOMContentLoaded',function(){var _0xfe01f5=_0x29e012;const _0x1385b4=document['getElementById'](_0xfe01f5(0xee));_0x1385b4[_0xfe01f5(0xcf)]=medianLinesVisible?_0xfe01f5(0x138):'Show\x20median\x20lines';});
    </script>
  <script>



        // Global translation helper function
        function getTranslation(key, defaultText) {
            // Split the key into parts (e.g., "tooltip.xg-line-title" -> ["tooltip", "xg-line-title"])
            const keys = key.split('.');
            
            // Try to find the translation in the current language
            try {
                let currentTranslations = window.currentTranslations || {};
                for (const k of keys) {
                    if (currentTranslations && currentTranslations[k]) {
                        currentTranslations = currentTranslations[k];
                    } else {
                        return defaultText;
                    }
                }
                return currentTranslations;
            } catch (e) {
                return defaultText;
            }
        }
        
    
  function setLanguage(language) {
    localStorage.setItem('preferredLanguage', language);
    const url = new URL(window.location.href);
    if (language === 'en') {
      url.searchParams.delete('lang');
    } else {
      url.searchParams.set('lang', language);
    }
    window.history.pushState({}, '', url);
    applyLanguage(language);
  }
  
  function getPreferredLanguage() {
    // PRIORITY 1: Check URL parameter first
    const urlParams = new URLSearchParams(window.location.search);
    const langParam = urlParams.get('lang');
    if (langParam) {
      return langParam;
    }
    // PRIORITY 2: Check localStorage
    const storedLang = localStorage.getItem('preferredLanguage');
    if (storedLang) {
      return storedLang;
    }
    // PRIORITY 3: Use browser language
    return getBrowserLanguage() || 'en';
  }

  function getBrowserLanguage() {
    return navigator.language.slice(0, 2);
  }

  function applyLanguage(language) {
    console.log(language);

    if (language === 'en') {
      return;
    }

    
    fetch(`locales/${language}.json`)
      .then(response => {
        // Don't throw an error, just return null if response is not OK
        return response.ok ? response.json() : null;
      })
      .then(translations => {
        // Only proceed if translations exist
        if (translations) {
            window.currentTranslations = translations;
          document.querySelectorAll('[data-i18n]').forEach(element => {
            const keys = element.getAttribute('data-i18n').split('.');
            let value = translations;
            for (const key of keys) {
              if (value === undefined || value === null) break;
              value = value[key];
            }
            if (value) {
              if (element.tagName === 'META') {
              element.setAttribute('content', value);
          } else if (element.tagName === 'INPUT') {
              element.setAttribute('placeholder', value);
          } else if (value.includes('<')) {
              element.innerHTML = value;
          } else {
              element.textContent = value;
          }          }
          });
          // REMOVE FOR PAGES WITH NO METADATA
          document.querySelector('meta[name="language"]').setAttribute('content', language);
        }
      })
      .catch(() => {
        // Completely empty catch block to silently ignore any errors
      });
  }
  
  const preferredLanguage = getPreferredLanguage();
  applyLanguage(preferredLanguage);
  
  // BUTTON LANGUAGE SWITCHER REMOVE FOR PAGES WITH NO LANGUAGE SWITCHER
  document.addEventListener('DOMContentLoaded', function() {
    const languageButton = document.getElementById('languageButton');
    const languageDropdown = document.getElementById('languageDropdown');
    

    if (languageButton) {
      languageButton.addEventListener('click', function(e) {
        e.stopPropagation();
        languageDropdown.classList.toggle('show');
      });
    }
  
    document.querySelectorAll('.language-option').forEach(option => {
      option.addEventListener('click', function(e) {
        e.preventDefault();
        const lang = this.getAttribute('href').split('=')[1];
        setLanguage(lang);
        languageDropdown.classList.remove('show');
      });
    });
  
    document.addEventListener('click', function(event) {
      if (!event.target.closest('.language-switcher-container')) {
        if (languageDropdown) {
          languageDropdown.classList.remove('show');
        }
      }
    });
  });


function toggleDarkMode() {
            const body = document.querySelector("body");
            body.classList.toggle("dark-mode");
            
            // Store the user's preference in local storage
            const isDarkMode = body.classList.contains("dark-mode");
            localStorage.setItem("darkMode", isDarkMode);
            
            // Update chart to apply dark mode styles to SVG elements
        }
        
        // Check if user has a stored preference for dark mode
        document.addEventListener('DOMContentLoaded', function() {
            const storedDarkMode = localStorage.getItem("darkMode");
            
            if (storedDarkMode === "true") {
                const body = document.querySelector("body");
                body.classList.add("dark-mode");
            }
            
 
        });
        
        function takeScreenshot() {
            const chartContainer = document.querySelector('.chart-container');
            const isDarkMode = document.body.classList.contains('dark-mode');
            
            html2canvas(chartContainer, {
                scale: 2, // Higher quality
                backgroundColor: isDarkMode ? '#2c2c2c' : '#FFFFFF',
                allowTaint: true,
                useCORS: true,
                logging: false
            }).then(function(renderedCanvas) {
                const finalCanvas = document.createElement('canvas');
                finalCanvas.width = renderedCanvas.width;
                finalCanvas.height = renderedCanvas.height;
                const finalCtx = finalCanvas.getContext('2d');
                finalCtx.drawImage(renderedCanvas, 0, 0);
                
                // Load the watermark
                const watermarkImg = new Image();
                watermarkImg.crossOrigin = "Anonymous";
                
                watermarkImg.onload = function() {
                    const watermarkWidth = finalCanvas.width * 0.3;
                    const watermarkHeight = (watermarkWidth / watermarkImg.width) * watermarkImg.height;
                    
                    const x = (finalCanvas.width - watermarkWidth) / 2;
                    const y = (finalCanvas.height - watermarkHeight) / 2;
                    
                    finalCtx.save();
                    finalCtx.globalAlpha = 0.04;
                    finalCtx.drawImage(watermarkImg, x, y, watermarkWidth, watermarkHeight);
                    finalCtx.restore();
                    
                    const dataURL = finalCanvas.toDataURL('image/png', 1.0);
                    const link = document.createElement('a');
                    link.download = 'DataMB Screenshot.png';
                    link.href = dataURL;
                    link.click();
                };
                watermarkImg.src = 'https://datamb.football/logo.png';
            }).catch(function(error) {
            });
        }
        
    </script>
         <center>
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7677714701428206"
                 crossorigin="anonymous"></script>
            <!-- radarplotsearch -->
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-7677714701428206"
                 data-ad-slot="6673239737"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script></center>
</body>
</html>
