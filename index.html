<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <meta name="language" content="en">
    <link rel="canonical" href="https://datamb.football/plotteam/" />
<link rel="alternate" hreflang="x-default" href="https://datamb.football/plotteam"/>
<link rel="alternate" hreflang="en" href="https://datamb.football/plotteam/?lang=en" />
<link rel="alternate" hreflang="fr" href="https://datamb.football/plotteam/?lang=fr" />
    <link rel="shortcut icon" type="image/x-icon" href="https://datamb.football/favicon.ico">
    <meta name="description" data-i18n="meta.description" content="Plot Top 7 League team statistics. Visualize team performance and analyze multiple metrics such as Goals, Goals conceded, xG, Shots on target, Pressing, Defensive duels, Pass completion and more for teams in Premier League, La Liga, Bundesliga, Serie A, Ligue 1, Eredivisie, Primeira Liga.">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@DataMB_">
    <meta name="twitter:title" content="DataMB | Plot Teams">
    <meta name="twitter:description" content="Generate scatter plots for Top 7 League teams">
    <meta name="twitter:image" content="https://datamb.football/vignettes/teamplots.png">
    <meta property="og:image" content="https://datamb.football/vignettes/teamplots.png">
    <title data-i18n="meta.title">DataMB | Plot Teams</title>
    <script>
        (function() {
            var width = window.innerWidth;
            var viewportMeta = document.querySelector('meta[name="viewport"]');
            if (viewportMeta) {
      if (width < 645) {
                
            var initialScale = width / 645;
      viewportMeta.setAttribute('content', 'width=device-width, initial-scale=' + initialScale + ', user-scalable=no');
      } else {
                  var fixedScale = 1;
          viewportMeta.setAttribute('content', 'width=device-width, initial-scale=' + fixedScale + ', user-scalable=no');
      
        }
          } 
      })();
      </script>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --background-color: #f5f7fa;
            --container-bg: #ffffff;
            --text-color: #333333;
            --border-color: #e0e0e0;
            --hover-color: #f0f0f0;
            --button-color: #3498db;
            --button-text: #ffffff;
            --header-bg: #ffffff;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .dark-mode {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --background-color: #0e0f0f;
            --container-bg: #1a1a1a;
            --text-color: #e0e0e0;
            --border-color: #333333;
            --hover-color: #252525;
            --button-color: #2980b9;
            --button-text: #ffffff;
            --header-bg: #0e0f0f;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s;
        }

        .header {
            background-color: var(--header-bg);
            display: flex;
            padding: 20px;
            align-items: center;
            justify-content: space-between;
            box-shadow: var(--shadow);
            position: relative;
            font-family: system-ui;
            top: 0;
            z-index: 100;
        }


        .container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
            box-sizing: border-box;
        }

        /* Replace plot-container with a simpler structure */
        .chart-wrapper {
            background-color: var(--container-bg);
            border-radius: 10px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 30px;
            position: relative;
            width: 100%;
        }

        .legend {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            padding: 10px;
            border-top: 1px solid var(--border-color);
            width: 100%;
        }

        .legend-item {
            display: flex;
            align-items: center;
            font-size: 12px;
        }

        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 5px;
            border: 1px solid rgba(0, 0, 0, 0.2);
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 20px;
            justify-content: center;
            align-items: center;
        }

        select, input {
            padding: 8px 12px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            background-color: var(--container-bg);
            color: var(--text-color);
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            transition: border-color 0.2s;
            height: 36px;
            box-sizing: border-box;
        }

        select:focus, input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        /* Ensure consistent height for controls in the same row */
        select, input, .btn:not(.btn-icon), .custom-select-trigger, .metric-select-trigger {
            height: 36px;
            box-sizing: border-box;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            background-color: var(--button-color);
            color: var(--button-text);
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
            height: 36px;
            box-sizing: border-box;
        }

        .btn:hover {
            background-color: #2980b9;
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-color);
        }

        .btn-outline:hover {
            background-color: var(--hover-color);
        }

        .btn-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            padding: 0;
            border-radius: 6px;
        }

        #search-bar, #select-league {
            width: 178px;
        }

        #select-x, #select-y {
            width: 190px;
        }

        /* Add tooltip for icon buttons */
        .btn-icon .icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
        }

        .btn-icon i {
            font-size: 18px;
        }
        .chart-container {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            margin-top: 30px; /* Consistent spacing from controls */
        }

        #scatter-plot {
            width: 100%;
            height: auto; /* Height will be set dynamically */
            display: block;
            margin: 0 auto;
            max-width: 1082px;
        }
        
  

        .tooltip {
            position: absolute;
            background-color: var(--container-bg);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 10px;
            font-size: 12px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
            box-shadow: var(--shadow);
            z-index: 1000;
        }

        /* Custom button tooltips */
        .btn-tooltip {
            position: relative;
            display: inline-block;
        }

        .btn-tooltip .btn-tooltip-text {
            visibility: hidden;
            width: 120px;
            background-color: var(--container-bg);
            color: var(--text-color);
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1001;
            bottom: 125%;
            left: 50%;
            margin-left: -60px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 12px;
            font-weight: normal;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            pointer-events: none;
        }

        /* Hide button tooltips on mobile */
        @media (max-width: 768px) {
            .btn-tooltip .btn-tooltip-text {
                display: none;
            }
        }

        .btn-tooltip .btn-tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--border-color) transparent transparent transparent;
        }

        .btn-tooltip:hover .btn-tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        .player-name {
            font-size: 12px;
            font-weight: 500;
        }

        circle {
            cursor: pointer;
            transition: r 0.2s, fill 0.2s;
        }


        /* Add new styles for better search highlighting */
        circle.search-match {
            fill: #ff3366 !important; /* Bright pink fill */
            stroke: #ffffff;
            stroke-width: 2px;
            filter: drop-shadow(0 0 5px rgba(255, 51, 102, 0.7));
            animation: circlePulse 1.5s infinite ease-in-out;
        }

        .dark-mode circle.search-match {
            stroke: #000000;
        }

        @keyframes circlePulse {
            0% { r: 6; }
            50% { r: 9; }
            100% { r: 6; }
        }

        .team-label.search-match {
            font-weight: 700 !important;
            fill: #ff3366 !important;
            filter: drop-shadow(0 0 2px rgba(255, 255, 255, 1));
            opacity: 1 !important;
            animation: labelPulse 1.5s infinite ease-in-out;
        }

        @keyframes labelPulse {
            0% { font-size: 12px; }
            50% { font-size: 14px; }
            100% { font-size: 12px; }
        }

        .dark-mode .team-label.search-match {
            filter: drop-shadow(0 0 2px rgba(0, 0, 0, 1));
        }

        .team-label.search-dimmed {
            opacity: 0 !important;
        }

        .team-label {
            pointer-events: none;
            text-shadow: 0px 0px 2px white, 0px 0px 2px white, 0px 0px 2px white, 0px 0px 2px white;
        }

        .dark-mode .team-label {
            fill: #f5f5f5 !important;
            text-shadow: 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a;
        }

        .dark-mode-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--container-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--shadow);
            z-index: 100;
            transition: background-color 0.3s;
        }

        .dark-mode-toggle.mobile-only {
            position: fixed;
            bottom: 20px;
            right: 20px;
        }

        .dark-mode-toggle.pc-only {
            position: relative;
            bottom: auto;
            right: auto;
        }

        .pc-only {
            display: flex;
        }

        .mobile-only {
            display: none;
        }

        .toggle-icon::before {
            font-family: "Ionicons";
            content: "\f467";
            font-size: 30px;
            color: var(--text-color);
        }

        .dark-mode .toggle-icon::before {
            content: "\f3b0";
            font-size: 20px;
        }

        @media (max-width: 768px) {
            .pc-only {
                display: none;
            }
            
            .mobile-only {
                display: flex;
            }
  
            
  .chart-wrapper {
      padding: 15px;
  }
  
  
  /* Remove fixed height for scatter plot - now handled by updateChartDimensions */
  #scatter-plot {
      min-height: 500px; /* Minimum height for mobile */
  }
  
  select, input {
      width: 100%;
  }
  
  
  /* Make text elements more readable on mobile */
  .x-label, .y-label {
      font-size: 12px;
  }
  
  /* Adjust tooltip position for mobile */
  .tooltip {
      max-width: 80%;
  }
}

        /* Styles for the diagonal reference line */
        .dark-mode .xy-line {
            stroke: #3cb371; /* Slightly different green for dark mode */
        }


  
  .search-input-modal {
      display: none;
      position: fixed; 
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7); 
      z-index: 999; 
  }
  
  .search-input-container {
      position: absolute;
      top: 30%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #fff;
      padding: 20px;
      border-radius: 4px;
      z-index: 1000; 
  }
  
  #searchInput {
              width: 370px;
              padding: 12px;
              border: 3px solid #ccc;
              border-radius: 4px;
              font-size: 18.3px;
              outline: none;
              height: 50px;
              color: #000000;
              background-color: #fff;
              ;          }
  
          #autocompleteBox {
              width: 370px;
              max-height: 150px;
              overflow-y: auto;
              background-color: #fff;
          }
  
  
          #autocompleteBox ul {
              list-style: none;
              padding: 0;
              margin: 0;
          }
  
          #autocompleteBox li {
              margin: 0;
              padding: 5px;
          }
  
          #autocompleteBox {
              line-height: 2; 
              text-align: center !important;
  
          }
  
          #autocompleteBox a {
              text-decoration: none;
              font-family: Arial, sans-serif;
              text-align: center !important;
              color: #333 !important;
              cursor: pointer; 
          }
  
          #autocompleteBox li:hover {
              background-color: #f0f0f0;
          }
          #searchButton3 {
            padding: 8.5px;  /* Reduced from 10px */
  background-color: #0074d9;
  color: #fff;
  border: none;
  width: 34px;  /* Reduced from 40px */
  height: 34px;  /* Reduced from 40px */
  border-radius: 50%;
  cursor: pointer;
  font-size: 17px;  /* Reduced from 20px */
  }


  body.dark-mode .header .button10 {
      color: #aeaeae;
}
body.dark-mode .header .button10:hover {
  color: #2563eb;
background-color: #ffffff;
}

    body.dark-mode header a {
      color: #aeaeae;
}

body.dark-mode .header .logo img {
  opacity: 0.88;
}


body.dark-mode .language-button {
      background-color: #0F0F0E;
      color: #aeaeae;
}


  

.header .logo {
  display: flex;
  align-items: center;
  margin-right: auto; /* Push logo to the left */
}

.header .logo img {
  height: 34px;
  width: auto;
  opacity: 0.84;
}
.header .logo-text {
  margin-left: 10px;
  font-size: 23px;
  font-weight: 600;
  transform: translateY(-1.1px); /* Move logo text slightly higher */
}

.header .navigation {
  display: flex;
  align-items: center;
  gap: 25px; /* Reduced gap between buttons */
  position: absolute;
  left: 50%;
  transform: translateX(-50%) translateY(-2px); /* Center the navigation and move it higher */
}



.header .button10 {
  padding: 0.5rem 1rem;
  text-decoration: none;
  color: #333;
  line-height: 1.6;
  border-radius: 4px;
  transition: background-color 0.2s;
  font-size: 1.1rem;  /* Added larger font size */
}


.header .button10:hover {
  background-color: #f0f0f0;
  color: #2563eb;

}



/* Group search and language buttons */
.header-right {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-left: auto; /* Push buttons to the right */
  transform: translateY(-1.25px); /* Move search and language buttons higher */
}

header a {
      color: black;
      text-decoration: none;
    }

    .language-switcher-container {
  position: relative;
  display: none;
}

.language-button {
  background: none;
  border: none;
  cursor: pointer;
  padding: 10px;
  color: #444444;
  display: flex;
  align-items: center;
  font-size: 17px;
}

.language-button iconify-icon {
  font-size: 24px;
  opacity: 0.7;
}

.language-dropdown {
  display: none;
  position: absolute;
  top: 100%;
  right: 0;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  padding: 10px;
  width: 200px;
  z-index: 1000;
}

.language-option {
  display: flex;
  align-items: center;
  padding: 8px 12px;
  cursor: pointer;
  border-radius: 4px;
  color: #444444;
  text-decoration: none;
}



.language-option iconify-icon {
  margin-right: 10px;
  font-size: 20px;
}

.language-dropdown.show {
  display: block;
}

/* Styles for flag icons in select dropdown */
#select-league option {
    display: flex;
    align-items: center;
    padding: 8px 12px;
}

#select-league iconify-icon {
    display: inline-flex;
    vertical-align: middle;
}

/* Styles for custom league selector dropdown */
.custom-select-container {
    position: relative;
    width: 172px;
}

.metric-select-container {
    position: relative;
    width: 192px;
}

.custom-select-option, .metric-select-option {
    display: flex;
    align-items: center;
    padding: 8px 16px;
    cursor: pointer;
    color: var(--text-color);
    background-color: var(--container-bg);
}


.custom-select-option iconify-icon, .metric-select-option iconify-icon {
    margin-right: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.custom-select-trigger, .metric-select-trigger {
    display: flex;
    align-items: center;
    padding: 0 12px;
    border: 1px solid var(--border-color);
    border-radius: 6px;
    background-color: var(--container-bg);
    color: var(--text-color);
    font-family: 'Inter', sans-serif;
    font-size: 14px;
    cursor: pointer;
    user-select: none;
    position: relative;
    line-height: 1;
}

.custom-select-trigger span, .metric-select-trigger span {
    display: inline-block;
    transform: translateY(1px);
    white-space: nowrap;
    overflow: hidden;
    max-width: calc(100% - 20px); /* Account for the icon width and margin */
    line-height: normal; /* Ensure consistent line height */    
}


/* Make the league selector span 30px smaller */
#league-select-trigger span {
    max-width: calc(100% - 45px); /* 20px + 30px reduction */
}

.custom-select-trigger::after, .metric-select-trigger::after {
    content: '';
    width: 6px;
    height: 6px;
    margin-left: auto;
    border-right: 1.5px solid var(--text-color);
    border-bottom: 1.5px solid var(--text-color);
    transform: rotate(45deg) translateY(-2px);
    transition: transform 0.3s;
    opacity: 0.7;
    margin-right: 2px;
}

.custom-select-trigger.open::after, .metric-select-trigger.open::after {
    transform: rotate(-135deg) translateY(1px);
}

.custom-select-options, .metric-select-options {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background-color: var(--container-bg);
    border: 1px solid var(--border-color);
    border-radius: 6px;
    margin-top: 4px;
    max-height: 300px;
    overflow-y: auto;
    z-index: 100;
    font-size: 13px;
    display: none;
    box-shadow: var(--shadow);
}


.custom-select-option:hover, .metric-select-option:hover {
    background-color: var(--hover-color);
}



.custom-select-option.selected {
    background-color: var(--primary-color);
    color: white;
}

.metric-select-option.selected {
    background-color: var(--primary-color);
    color: white;
}


.dark-mode .custom-select-option:hover {
    background-color: var(--hover-color);
}

.dark-mode .custom-select-option.selected {
    background-color: var(--primary-color);
    color: white;
}

@media (max-width: 768px) {
    .custom-select-option {
        padding: 6px 12px;
    }
}

body.dark-mode .language-button:hover {
      background-color: #0F0F0E;
      color: #aeaeae;
}

body.dark-mode .language-dropdown {
  background: #e8e6e6;
}

body.dark-mode .language-option {
  color: #000000;
}

/* Dark mode styles for custom dropdown */
.dark-mode .custom-select-trigger,
.dark-mode .custom-select-options,
.dark-mode .metric-select-trigger,
.dark-mode .metric-select-options {
    border-color: var(--border-color);
    background-color: var(--container-bg);
    color: var(--text-color);
}

.dark-mode .custom-select-option:hover,
.dark-mode .metric-select-option:hover {
    background-color: var(--hover-color);
}

.dark-mode .custom-select-option.selected,
.dark-mode .metric-select-option.selected {
    background-color: rgba(52, 152, 219, 0.2);
}

/* Adjust flag icon alignment in the trigger */
#league-select-trigger iconify-icon {
    margin-right: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transform: translateY(-1px);
}
@media screen and (max-width: 550px) { .header .navigation { display: none; } }

        /* Enhanced Dark Mode Styles */
        .dark-mode .chart-wrapper {
            background-color: var(--container-bg);
            border: 1px solid #333;
        }

        .dark-mode .btn {
            background-color: var(--button-color);
        }

        .dark-mode .btn-outline {
            background-color: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-color);
        }

        .dark-mode .btn-outline:hover {
            background-color: var(--hover-color);
            border-color: #444;
        }


        .dark-mode input, 
        .dark-mode select {
            background-color: #1a1a1a;
            color: var(--text-color);
            border-color: #333;
        }

        .dark-mode input::placeholder {
            color: #777;
        }

        .dark-mode input:focus, 
        .dark-mode select:focus {
            border-color: var(--primary-color);
            outline: none;
        }

        .dark-mode .tooltip {
            background-color: #1a1a1a;
            border-color: #333;
            color: var(--text-color);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .legend {
            border-top-color: #333;
        }

        .dark-mode .legend-item {
            color: #ccc;
        }

        .dark-mode .btn-tooltip .btn-tooltip-text {
            background-color: #1a1a1a;
            border-color: #333;
            color: #e0e0e0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .btn-tooltip .btn-tooltip-text::after {
            border-color: #333 transparent transparent transparent;
        }

        .dark-mode .team-label {
            fill: #e0e0e0 !important;
            text-shadow: 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f;
        }

        .dark-mode .x-axis path,
        .dark-mode .y-axis path,
        .dark-mode .x-axis line,
        .dark-mode .y-axis line {
            stroke: #444;
        }

        .dark-mode .x-axis text,
        .dark-mode .y-axis text {
            fill: #aaa;
        }

        .dark-mode .x-label,
        .dark-mode .y-label {
            fill: #ccc;
        }

        .dark-mode .median-line {
            stroke: rgba(255, 255, 255, 0.2) !important;
        }

        .dark-mode .xy-line {
            stroke: #2ecc71;
            opacity: 0.8;
        }

        .dark-mode .dark-mode-toggle {
            background-color: #1a1a1a;
            border: 1px solid #333;
        }

        .dark-mode .toggle-icon::before {
            color: #e0e0e0;
        }

 



        .dark-mode #searchButton3 {
            background-color: #0074d9;
            color: #fff;
        }


        .dark-mode .header .button10 {
            color: #aaa;
        }

        .dark-mode .header .button10:hover {
            color: #2563eb;
            background-color: #1a1a1a;
        }

        .dark-mode header a {
            color: #aaa;
        }

        .dark-mode .header .logo img {
            opacity: 0.9;
            filter: brightness(0.9);
        }

        .dark-mode .language-button {
            background-color: #0e0f0f;
            color: #aaa;
        }

        .dark-mode .language-button:hover {
            background-color: #1a1a1a;
        }

        .dark-mode .language-dropdown {
            background: #1a1a1a;
            border: 1px solid #333;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .language-option {
            color: #e0e0e0;
        }

        .dark-mode .language-option:hover {
            background-color: #252525;
        }

        .dark-mode #search-bar::placeholder {
            color: #777;
        }

        .dark-mode circle {
            stroke-width: 1px;
        }

        .dark-mode circle.search-match {
            fill: #ff3366 !important;
            stroke: #0e0f0f;
            stroke-width: 2px;
            filter: drop-shadow(0 0 5px rgba(255, 51, 102, 0.7));
        }

  
        
        /* Additional dark mode styles for chart elements */
        .dark-mode .chart-container {
            background-color: var(--container-bg);
        }
        
  
        
    
        
        
        /* Fix for custom select dropdown in dark mode */
        .dark-mode .custom-select-trigger::after, 
        .dark-mode .metric-select-trigger::after {
            border-right: 1.5px solid var(--text-color);
            border-bottom: 1.5px solid var(--text-color);
        }
        
        /* Improve contrast for selected items in dark mode */
        .dark-mode .custom-select-option.selected, 
        .dark-mode .metric-select-option.selected {
            background-color: rgba(52, 152, 219, 0.3);
        }
        
        /* Improve visibility of SVG elements in dark mode */
        .dark-mode svg text {
            fill: #ccc;
        }
        
        .dark-mode .legend-color {
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        /* Improve button states in dark mode */
        .dark-mode .btn:hover {
            background-color: #3498db;
        }
        
        .dark-mode .btn-outline:active {
            background-color: #333;
        }
        
        /* Improve focus states for accessibility */
        .dark-mode input:focus,
        .dark-mode select:focus,
        .dark-mode .btn:focus {
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.5);
        }
        
        /* Fix for buttons staying focused with blue outline */
        button:focus, 
        .btn:focus, 
        select:focus, 
        input:focus {
            outline: none;
        }
        
        /* Custom focus styles for better accessibility */
        button:focus-visible, 
        .btn:focus-visible, 
        select:focus-visible, 
        input:focus-visible {
            outline: none;
            box-shadow: 0 0 0 2px var(--primary-color);
        }
        
        /* Remove focus styles when using mouse */
        button:focus:not(:focus-visible), 
        .btn:focus:not(:focus-visible), 
        select:focus:not(:focus-visible), 
        input:focus:not(:focus-visible) {
            box-shadow: none;
        }



.logo img {
  width: 50px;
  height: 50px;
}

/* Promo links styling */
.promo-links-container {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
    margin: 15px auto 25px;
    max-width: 800px;
    flex-wrap: wrap;
    padding: 0 20px;
}

.promo-link {
    display: flex;
    align-items: center;
    padding: 10px 15px;
    background-color: var(--container-bg);
    color: var(--text-color);
    text-decoration: none;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    transition: all 0.3s ease;
    box-shadow: var(--shadow);
    font-weight: 500;
    flex: 1;
    min-width: 220px;
    max-width: 350px;
    justify-content: center;
}

.promo-link iconify-icon {
    margin-right: 8px;
}

.promo-link:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.radar-link {
    border-left: 4px solid #3498db;
}

.pro-link {
    border-left: 4px solid #f39c12;
}

.dark-mode .radar-link {
    border-left: 4px solid #2980b9;
}

.dark-mode .pro-link {
    border-left: 4px solid #d35400;
}

@media (max-width: 768px) {
  

    
    select, input {
        width: 100%;
    }
    
    /* Make text elements more readable on mobile */
    .x-label, .y-label {
        font-size: 12px;
    }
    
    /* Adjust tooltip position for mobile */
    .tooltip {
        max-width: 80%;
    }
    
    /* Adjust promo links for mobile */
    .promo-links-container {
        flex-direction: column;
        align-items: center;
        gap: 10px;
        padding: 0 15px;
    }
}


.custom-select-option {
    -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            
}
        /* Disable text selection for SVG text elements */
        svg text, .legend,
        .x-label,
        .y-label,
        .team-label,
        .player-name,
        .x-axis text,
        .y-axis text {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            pointer-events: none;
        }


    </style>

  <header class="header">
    <div class="logo">
      <a href="https://datamb.football">
        <img src="https://datamb.football/logo.png" alt="Football team statistics comparison. Radar comparison tool. Visualise and compare team data from the top 7 leagues : Premier League, La Liga, Bundesliga, Serie A, Ligue 1, Eredivisie, Primeira Liga" /></a>
        <div class="logo-text"><a href="https://datamb.football">&nbsp;Teams</a></div>
    </div>
    <nav class="navigation">
      <a href="https://datamb.football" class="button10" data-i18n="header.home">Home</a>
      <a href="https://datamb.football/join" class="button10" data-i18n="header.pro">Pro</a>
      <a href="https://datamb.football/guide" class="button10" data-i18n="header.guide">Guide</a>
    </nav>
    <div class="header-right">
    <div class="search-container">
      <button id="searchButton3"><iconify-icon icon="ion:search-outline"></iconify-icon></button>
  </div>
    <div class="language-switcher-container">
      <button class="language-button" id="languageButton">
        <iconify-icon icon="heroicons:globe-alt"></iconify-icon>
      </button>
      <div class="language-dropdown" id="languageDropdown">
        <a href="?lang=en" class="language-option"><iconify-icon icon="flag:gb-4x3"></iconify-icon>English</a>
      </div>
    </div></div>
  </header>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7677714701428206"
     crossorigin="anonymous"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PSBMXX80EF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-PSBMXX80EF');
</script>
</head>
<div class="search-input-modal" id="searchInputModal">
    <div class="search-input-container">
        <input type="text" id="searchInput" data-i18n="search.placeholder" placeholder="Enter a team or player name...">
        <div id="autocompleteBox"></div>
    </div>
</div>
<script>
    const xhr1 = new XMLHttpRequest();
  xhr1.open('GET', 'https://datamb.football/database/searchbar.csv', false); // false for synchronous request
  xhr1.send(null);
  
  let dataCSV = xhr1.responseText;
    
function _0x5707(_0xd20fa7,_0x4d36b5){const _0x4dcd69=_0x4dcd();return _0x5707=function(_0x57077a,_0xde96b9){_0x57077a=_0x57077a-0x140;let _0x383e81=_0x4dcd69[_0x57077a];return _0x383e81;},_0x5707(_0xd20fa7,_0x4d36b5);}const _0xedf2b2=_0x5707;(function(_0x16e1b0,_0x125833){const _0x222c5a=_0x5707,_0x3f540c=_0x16e1b0();while(!![]){try{const _0x3105f2=parseInt(_0x222c5a(0x161))/0x1+parseInt(_0x222c5a(0x144))/0x2+parseInt(_0x222c5a(0x148))/0x3+-parseInt(_0x222c5a(0x155))/0x4+parseInt(_0x222c5a(0x141))/0x5*(-parseInt(_0x222c5a(0x145))/0x6)+-parseInt(_0x222c5a(0x157))/0x7+parseInt(_0x222c5a(0x14b))/0x8*(parseInt(_0x222c5a(0x159))/0x9);if(_0x3105f2===_0x125833)break;else _0x3f540c['push'](_0x3f540c['shift']());}catch(_0x450250){_0x3f540c['push'](_0x3f540c['shift']());}}}(_0x4dcd,0x1bc51));const dataLines=dataCSV[_0xedf2b2(0x160)]('\x0a'),searchButton3=document[_0xedf2b2(0x142)]('searchButton3'),searchInputModal=document[_0xedf2b2(0x142)](_0xedf2b2(0x14a)),searchInput=document[_0xedf2b2(0x142)](_0xedf2b2(0x143)),autocompleteBox=document[_0xedf2b2(0x142)](_0xedf2b2(0x162)),data11=dataLines[_0xedf2b2(0x146)](_0x19546c=>{const _0x89300c=_0xedf2b2,[_0x5af128,_0x515bec]=_0x19546c[_0x89300c(0x160)](',');return{'name':_0x5af128,'link':_0x515bec};});function removeDiacritics(_0x3ed1af){const _0x202611=_0xedf2b2,_0x4b45cf={'ø':'o','Ø':'O','ı':'i'};return _0x3ed1af=_0x3ed1af[_0x202611(0x147)](/[øØıI]/g,_0x19f74a=>_0x4b45cf[_0x19f74a]),_0x3ed1af[_0x202611(0x15d)]('NFD')[_0x202611(0x147)](/[\u0300-\u036f]/g,'');}function search2(_0x1db14d){const _0x26c944=_0xedf2b2;autocompleteBox[_0x26c944(0x15e)]='';const _0x321867=removeDiacritics(_0x1db14d)[_0x26c944(0x147)](/[^\w\s]/g,'')[_0x26c944(0x149)](),_0x3ad89e=data11[_0x26c944(0x15c)](_0xb995bf=>{const _0x3866b0=_0x26c944,_0x2b7de7=removeDiacritics(_0xb995bf[_0x3866b0(0x14e)])['replace'](/[^\w\s]/g,'')[_0x3866b0(0x149)]();return _0x2b7de7['includes'](_0x321867);});if(_0x3ad89e[_0x26c944(0x163)]===0x0){autocompleteBox[_0x26c944(0x152)][_0x26c944(0x14c)]='none';return;}_0x3ad89e[_0x26c944(0x151)](_0x4b9def=>{const _0x31eeb1=_0x26c944,_0x505ab8=document[_0x31eeb1(0x14d)]('div'),_0x3a2d70=document[_0x31eeb1(0x14d)]('a');_0x3a2d70['href']=_0x4b9def[_0x31eeb1(0x154)],_0x3a2d70[_0x31eeb1(0x150)]=_0x4b9def[_0x31eeb1(0x14e)],_0x505ab8[_0x31eeb1(0x15b)](_0x3a2d70),autocompleteBox[_0x31eeb1(0x15b)](_0x505ab8);}),autocompleteBox['style'][_0x26c944(0x14c)]=_0x26c944(0x153);}searchButton3[_0xedf2b2(0x156)](_0xedf2b2(0x14f),()=>{const _0x350b96=_0xedf2b2;searchInputModal['style'][_0x350b96(0x14c)]=_0x350b96(0x153);}),searchInput['addEventListener'](_0xedf2b2(0x158),()=>{const _0x122364=_0xedf2b2,_0x1aac33=searchInput['value'];_0x1aac33[_0x122364(0x140)]()===''?autocompleteBox[_0x122364(0x152)][_0x122364(0x14c)]='none':search2(_0x1aac33);}),document['addEventListener']('click',_0x17873a=>{const _0x2c2a21=_0xedf2b2;_0x17873a[_0x2c2a21(0x15a)]===searchInputModal&&(searchInputModal[_0x2c2a21(0x152)][_0x2c2a21(0x14c)]=_0x2c2a21(0x15f));});function _0x4dcd(){const _0x3abacf=['forEach','style','block','link','165476bdcaHI','addEventListener','430668iEzpyY','input','90cmGEmO','target','appendChild','filter','normalize','innerHTML','none','split','102625kyWWmb','autocompleteBox','length','trim','5KymJaR','getElementById','searchInput','423476PJmBDe','1170534HGXHHf','map','replace','60222cRWbFM','toLowerCase','searchInputModal','61832bbygIm','display','createElement','name','click','textContent'];_0x4dcd=function(){return _0x3abacf;};return _0x4dcd();}
  
  
  
  </script>


<body>
    <div class="container">
        <div class="chart-wrapper">
            <div class="controls">
                <select id="select-x" style="display: none;"></select>
                <select id="select-y" style="display: none;"></select>
                <select id="select-league" style="display: none;" onchange="updateChart()">
                    <option value="all">Top 7 Leagues</option>
                    <option value="Top 5 Leagues">Top 5 Leagues</option>
                    <option value="Premier League">Premier League</option>
                    <option value="La Liga">La Liga</option>
                    <option value="Bundesliga">Bundesliga</option>
                    <option value="Serie A">Serie A</option> 
                    <option value="Ligue 1">Ligue 1</option>
                    <option value="Eredivisie">Eredivisie</option>
                    <option value="Primeira Liga">Liga Portugal</option>
                </select>
                
                <!-- Custom X metric selector -->
                <div class="metric-select-container">
                    <div class="metric-select-trigger" id="x-metric-trigger">
                        <span data-i18n="metrics.goals-per-90">Goals per 90</span>
                    </div>
                    <div class="metric-select-options" id="x-metric-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Custom Y metric selector -->
                <div class="metric-select-container">
                    <div class="metric-select-trigger" id="y-metric-trigger">
                        <span data-i18n="metrics.xg-per-90">xG per 90</span>
                    </div>
                    <div class="metric-select-options" id="y-metric-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Custom league selector with flag icons -->
                <div class="custom-select-container">
                    <div class="custom-select-trigger" id="league-select-trigger">
                        <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                        <span data-i18n="leagues.top7">Top 7 Leagues</span>
                    </div>
                    <div class="custom-select-options" id="league-select-options">
                        <div class="custom-select-option selected" data-value="all">
                            <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                            <span data-i18n="leagues.top7">Top 7 Leagues</span>
                        </div>
                        <div class="custom-select-option" data-value="Top 5 Leagues">
                            <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                            <span data-i18n="leagues.top5">Top 5 Leagues</span>
                        </div>
                        <div class="custom-select-option" data-value="Premier League">
                            <iconify-icon icon="emojione:flag-for-united-kingdom" width="18" height="18"></iconify-icon>
                            <span>Premier League</span>
                        </div>
                        <div class="custom-select-option" data-value="La Liga">
                            <iconify-icon icon="emojione:flag-for-spain" width="18" height="18"></iconify-icon>
                            <span>La Liga</span>
                        </div>
                        <div class="custom-select-option" data-value="Bundesliga">
                            <iconify-icon icon="emojione:flag-for-germany" width="18" height="18"></iconify-icon>
                            <span>Bundesliga</span>
                        </div>
                        <div class="custom-select-option" data-value="Serie A">
                            <iconify-icon icon="emojione:flag-for-italy" width="18" height="18"></iconify-icon>
                            <span>Serie A</span>
                        </div>
                        <div class="custom-select-option" data-value="Ligue 1">
                            <iconify-icon icon="emojione:flag-for-france" width="18" height="18"></iconify-icon>
                            <span>Ligue 1</span>
                        </div>
                        <div class="custom-select-option" data-value="Eredivisie">
                            <iconify-icon icon="emojione:flag-for-netherlands" width="18" height="18"></iconify-icon>
                            <span>Eredivisie</span>
                        </div>
                        <div class="custom-select-option" data-value="Primeira Liga">
                            <iconify-icon icon="emojione:flag-for-portugal" width="18" height="18"></iconify-icon>
                            <span>Liga Portugal</span>
                        </div>
                    </div>
                </div>
                
                <input type="text" id="search-bar" data-i18n="search.placeholder2" placeholder="Search team...">
                <div class="btn-tooltip">
                    <button id="toggle-median-lines" class="btn btn-outline btn-icon">
                        <div class="icon">
                            <i class="ion-stats-bars"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" id="median-lines-tooltip" data-i18n="tooltip.median-lines">Show median lines</span>
                </div>
                <div class="btn-tooltip">
                    <button class="btn btn-outline btn-icon" id="select-all-button" onclick="selectAllCircles()">
                        <div class="icon">
                            <i class="ion-ios-circle-filled" id="select-icon"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" id="select-all-tooltip" data-i18n="tooltip.select-all">Select all teams</span>
                </div>
                <div class="btn-tooltip">
                    <button class="btn btn-outline btn-icon" onclick="takeScreenshot()">
                        <div class="icon">
                            <i class="ion-camera"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" data-i18n="tooltip.screenshot">Download chart as image</span>
                </div>
            </div>
       
            <div class="chart-container">
              <svg id="scatter-plot"></svg>
            </div>

            <div class="legend" id="league-legend">
              <!-- Legend items will be added here dynamically -->
            </div>
        </div>

        <div class="promo-links-container">
            <a href="https://datamb.football/teamradars" class="promo-link radar-link">
                <iconify-icon icon="mdi:radar" width="20" height="20"></iconify-icon>
                <span data-i18n="promo.radar-link">Compare Teams with Radars</span>
            </a>
            <a href="https://datamb.football/join" class="promo-link pro-link">
                <iconify-icon icon="mdi:account-star" width="20" height="20"></iconify-icon>
                <span data-i18n="promo.pro-link">Get Pro for Player Plots</span>
            </a>
            <div class="dark-mode-toggle pc-only" onclick="toggleDarkMode()">
                <div class="toggle-icon"></div>
            </div>
        </div>
    </div>

    <div class="dark-mode-toggle mobile-only" onclick="toggleDarkMode()">
        <div class="toggle-icon"></div>
    </div>

    <script>
        var _0x4f898b=_0x41e8;(function(_0x43fca0,_0x3be816){var _0x1687e0=_0x41e8,_0x5543ff=_0x43fca0();while(!![]){try{var _0x5da407=parseInt(_0x1687e0(0x17a))/0x1+-parseInt(_0x1687e0(0x1e3))/0x2*(parseInt(_0x1687e0(0x195))/0x3)+parseInt(_0x1687e0(0x243))/0x4*(-parseInt(_0x1687e0(0x241))/0x5)+-parseInt(_0x1687e0(0x1ee))/0x6*(-parseInt(_0x1687e0(0x22f))/0x7)+parseInt(_0x1687e0(0x1b9))/0x8*(-parseInt(_0x1687e0(0x1d6))/0x9)+parseInt(_0x1687e0(0x1ea))/0xa*(parseInt(_0x1687e0(0x20d))/0xb)+parseInt(_0x1687e0(0x19e))/0xc*(parseInt(_0x1687e0(0x15d))/0xd);if(_0x5da407===_0x3be816)break;else _0x5543ff['push'](_0x5543ff['shift']());}catch(_0x29d485){_0x5543ff['push'](_0x5543ff['shift']());}}}(_0x1fc6,0x7f9b4));let initializeCustomSelectors=function(){var _0x50415e=_0x41e8;const _0x9a7dfe=document[_0x50415e(0x21a)]('league-select-trigger'),_0x711631=document['getElementById'](_0x50415e(0x194)),_0x21ccf4=document[_0x50415e(0x21a)](_0x50415e(0x1fb));setupCustomSelect(_0x9a7dfe,_0x711631,_0x21ccf4);const _0x222f44=document[_0x50415e(0x21a)](_0x50415e(0x23a)),_0x5391ea=document['getElementById'](_0x50415e(0x1cc)),_0x53d1f2=document[_0x50415e(0x21a)]('select-x');populateMetricOptions(_0x5391ea,header[_0x50415e(0x1af)](0x3),function(_0x537ed7,_0x42fed1){var _0x451f14=_0x50415e;_0x222f44[_0x451f14(0x247)]('span')['textContent']===_0x42fed1&&_0x537ed7['classList'][_0x451f14(0x192)](_0x451f14(0x1bc));if(_0x42fed1===header[0x3]){_0x537ed7['classList'][_0x451f14(0x192)](_0x451f14(0x1bc)),_0x222f44['querySelector'](_0x451f14(0x1dc))[_0x451f14(0x184)]=_0x42fed1;const _0x178a7f=_0x42fed1['toLowerCase']()['replace'](/ /g,'-')['replace'](/%/g,_0x451f14(0x188));_0x222f44[_0x451f14(0x247)](_0x451f14(0x1dc))[_0x451f14(0x167)](_0x451f14(0x15e),_0x451f14(0x1f9)+_0x178a7f);}}),setupCustomSelect(_0x222f44,_0x5391ea,_0x53d1f2);const _0x53f355=document[_0x50415e(0x21a)]('y-metric-trigger'),_0x5f1743=document[_0x50415e(0x21a)](_0x50415e(0x1c1)),_0x544be1=document['getElementById'](_0x50415e(0x1e4));populateMetricOptions(_0x5f1743,header[_0x50415e(0x1af)](0x3),function(_0x4444a8,_0x561bb3){var _0x24a880=_0x50415e;_0x53f355[_0x24a880(0x247)](_0x24a880(0x1dc))['textContent']===_0x561bb3&&_0x4444a8[_0x24a880(0x212)][_0x24a880(0x192)](_0x24a880(0x1bc));if(_0x561bb3===header[0x4]){_0x4444a8[_0x24a880(0x212)][_0x24a880(0x192)](_0x24a880(0x1bc)),_0x53f355[_0x24a880(0x247)]('span')[_0x24a880(0x184)]=_0x561bb3;const _0x549119=_0x561bb3['toLowerCase']()['replace'](/ /g,'-')[_0x24a880(0x248)](/%/g,_0x24a880(0x188));_0x53f355[_0x24a880(0x247)](_0x24a880(0x1dc))[_0x24a880(0x167)](_0x24a880(0x15e),_0x24a880(0x1f9)+_0x549119);}}),setupCustomSelect(_0x53f355,_0x5f1743,_0x544be1);};function populateMetricOptions(_0x37420e,_0x1819f0,_0x3eb595){var _0x5f13c5=_0x41e8;_0x37420e[_0x5f13c5(0x21e)]='',_0x1819f0[_0x5f13c5(0x22d)](function(_0x2f2a29){var _0x27317f=_0x5f13c5;const _0x223553=document[_0x27317f(0x1ff)](_0x27317f(0x20a));_0x223553[_0x27317f(0x206)]=_0x27317f(0x232),_0x223553[_0x27317f(0x167)]('data-value',_0x2f2a29);const _0x3b7879=document[_0x27317f(0x1ff)](_0x27317f(0x1dc));_0x3b7879[_0x27317f(0x184)]=_0x2f2a29;const _0x51451c=_0x2f2a29[_0x27317f(0x18a)]()['replace'](/ /g,'-')['replace'](/%/g,'pct');_0x3b7879[_0x27317f(0x167)](_0x27317f(0x15e),_0x27317f(0x1f9)+_0x51451c),_0x223553[_0x27317f(0x228)](_0x3b7879);if(_0x3eb595)_0x3eb595(_0x223553,_0x2f2a29);_0x37420e[_0x27317f(0x228)](_0x223553);});}function setupCustomSelect(_0x48fb28,_0x3ee10c,_0x1ad4b5){var _0x1ac76a=_0x41e8;_0x48fb28['addEventListener']('click',function(){var _0x2493f6=_0x41e8;document[_0x2493f6(0x1ec)]('.custom-select-trigger.open,\x20.metric-select-trigger.open')[_0x2493f6(0x22d)](function(_0x2c1bf2){var _0x9c3356=_0x2493f6;if(_0x2c1bf2!==_0x48fb28){_0x2c1bf2['classList'][_0x9c3356(0x1ae)]('open');const _0x3b0d9e=_0x2c1bf2[_0x9c3356(0x174)];if(_0x3b0d9e)_0x3b0d9e[_0x9c3356(0x1cd)][_0x9c3356(0x15b)]=_0x9c3356(0x222);}}),_0x48fb28[_0x2493f6(0x212)]['toggle'](_0x2493f6(0x177));const _0x1fd161=_0x48fb28[_0x2493f6(0x212)][_0x2493f6(0x18d)](_0x2493f6(0x177));_0x3ee10c[_0x2493f6(0x1cd)]['display']=_0x1fd161?_0x2493f6(0x224):_0x2493f6(0x222);});const _0x5596fe=_0x3ee10c[_0x1ac76a(0x1ec)](_0x1ac76a(0x1c2));_0x5596fe['forEach'](_0x2a3146=>{var _0xa2e1bd=_0x1ac76a;_0x2a3146['addEventListener'](_0xa2e1bd(0x22e),function(){var _0x7853e5=_0xa2e1bd;_0x5596fe[_0x7853e5(0x22d)](_0x1788a7=>_0x1788a7[_0x7853e5(0x212)]['remove']('selected')),this['classList']['add'](_0x7853e5(0x1bc));const _0x59e928=this['querySelector'](_0x7853e5(0x1dc))[_0x7853e5(0x184)],_0x4cb21b=this[_0x7853e5(0x247)](_0x7853e5(0x1dc))[_0x7853e5(0x24c)](_0x7853e5(0x15e)),_0x3e7ab1=this[_0x7853e5(0x247)](_0x7853e5(0x17b));_0x48fb28['innerHTML']='';if(_0x3e7ab1){const _0x3195b7=_0x3e7ab1[_0x7853e5(0x250)](!![]);_0x3195b7[_0x7853e5(0x1cd)]['marginRight']=_0x7853e5(0x16a),_0x48fb28[_0x7853e5(0x228)](_0x3195b7);}const _0x2f0acc=document[_0x7853e5(0x1ff)](_0x7853e5(0x1dc));_0x2f0acc[_0x7853e5(0x184)]=_0x59e928;_0x4cb21b&&_0x2f0acc['setAttribute'](_0x7853e5(0x15e),_0x4cb21b);_0x48fb28[_0x7853e5(0x228)](_0x2f0acc);const _0x1a8e0e=this['getAttribute']('data-value');_0x1ad4b5['value']=_0x1a8e0e||_0x59e928;const _0x228c8c=new Event('change');_0x1ad4b5[_0x7853e5(0x1e2)](_0x228c8c),_0x48fb28['classList'][_0x7853e5(0x1ae)](_0x7853e5(0x177)),_0x3ee10c['style'][_0x7853e5(0x15b)]=_0x7853e5(0x222);});});let _0x32ef27='',_0x56d238;document[_0x1ac76a(0x1ef)](_0x1ac76a(0x249),function(_0x337ca7){var _0x3b9f23=_0x1ac76a;if(!_0x48fb28[_0x3b9f23(0x212)][_0x3b9f23(0x18d)](_0x3b9f23(0x177)))return;if(_0x337ca7[_0x3b9f23(0x1fc)]==='ArrowDown'||_0x337ca7[_0x3b9f23(0x1fc)]===_0x3b9f23(0x227)){_0x337ca7['preventDefault']();const _0x189a18=Array['from'](_0x5596fe),_0x4a068c=_0x189a18['findIndex'](_0x212859=>_0x212859['classList']['contains'](_0x3b9f23(0x1bc)));let _0x3a4ee2;_0x337ca7['key']===_0x3b9f23(0x16f)?_0x3a4ee2=_0x4a068c<_0x189a18['length']-0x1?_0x4a068c+0x1:0x0:_0x3a4ee2=_0x4a068c>0x0?_0x4a068c-0x1:_0x189a18[_0x3b9f23(0x189)]-0x1;_0x5596fe[_0x3b9f23(0x22d)](_0x217f74=>_0x217f74[_0x3b9f23(0x212)]['remove'](_0x3b9f23(0x1bc))),_0x189a18[_0x3a4ee2][_0x3b9f23(0x212)][_0x3b9f23(0x192)](_0x3b9f23(0x1bc)),_0x189a18[_0x3a4ee2][_0x3b9f23(0x193)]({'block':_0x3b9f23(0x185)});return;}if(_0x337ca7[_0x3b9f23(0x1fc)]===_0x3b9f23(0x1a4)){_0x337ca7['preventDefault']();const _0x251f98=_0x3ee10c[_0x3b9f23(0x247)](_0x3b9f23(0x1f0));_0x251f98&&_0x251f98['click']();return;}if(_0x337ca7[_0x3b9f23(0x1fc)]===_0x3b9f23(0x1cf)){_0x337ca7['preventDefault'](),_0x48fb28[_0x3b9f23(0x212)][_0x3b9f23(0x1ae)](_0x3b9f23(0x177)),_0x3ee10c[_0x3b9f23(0x1cd)][_0x3b9f23(0x15b)]=_0x3b9f23(0x222);return;}if(_0x337ca7[_0x3b9f23(0x1fc)][_0x3b9f23(0x189)]===0x1&&_0x337ca7['key'][_0x3b9f23(0x225)](/[a-zA-Z0-9%]/)){clearTimeout(_0x56d238),_0x32ef27+=_0x337ca7[_0x3b9f23(0x1fc)][_0x3b9f23(0x18a)]();const _0x450653=Array[_0x3b9f23(0x209)](_0x5596fe)['find'](_0x5f47e1=>{var _0x1fa5a9=_0x3b9f23;const _0x3bb2ae=_0x5f47e1[_0x1fa5a9(0x247)](_0x1fa5a9(0x1dc))[_0x1fa5a9(0x184)][_0x1fa5a9(0x18a)]();return _0x3bb2ae[_0x1fa5a9(0x22a)](_0x32ef27);});_0x450653&&(_0x5596fe[_0x3b9f23(0x22d)](_0x2f510b=>_0x2f510b['classList']['remove'](_0x3b9f23(0x1bc))),_0x450653[_0x3b9f23(0x212)][_0x3b9f23(0x192)](_0x3b9f23(0x1bc)),_0x450653[_0x3b9f23(0x193)]({'block':'nearest'})),_0x56d238=setTimeout(()=>{_0x32ef27='';},0x3e8);}});}document['addEventListener'](_0x4f898b(0x22e),function(_0x40b7c1){var _0x3673ea=_0x4f898b;const _0x27cc67=document['querySelectorAll'](_0x3673ea(0x1a2)),_0x4c8bcf=document[_0x3673ea(0x1ec)](_0x3673ea(0x202));let _0xa31a7b=![];_0x27cc67[_0x3673ea(0x22d)](function(_0x1932d9,_0x2494c9){var _0x46b2da=_0x3673ea;const _0x104125=_0x4c8bcf[_0x2494c9];_0x1932d9&&_0x104125&&(_0x1932d9['contains'](_0x40b7c1[_0x46b2da(0x230)])||_0x104125['contains'](_0x40b7c1[_0x46b2da(0x230)]))&&(_0xa31a7b=!![]);}),!_0xa31a7b&&_0x27cc67[_0x3673ea(0x22d)](function(_0x276ca3,_0x48f50f){var _0xf8d69f=_0x3673ea;_0x276ca3&&_0x4c8bcf[_0x48f50f]&&(_0x276ca3['classList'][_0xf8d69f(0x1ae)](_0xf8d69f(0x177)),_0x4c8bcf[_0x48f50f][_0xf8d69f(0x1cd)][_0xf8d69f(0x15b)]=_0xf8d69f(0x222));});});const xhr=new XMLHttpRequest();xhr[_0x4f898b(0x177)](_0x4f898b(0x198),_0x4f898b(0x1ed),![]),xhr[_0x4f898b(0x1d2)](null);let csvData=xhr[_0x4f898b(0x163)],extraHeaderRow=_0x4f898b(0x1d1);csvData=extraHeaderRow+csvData;var rows=csvData[_0x4f898b(0x1dd)]()[_0x4f898b(0x23d)]('\x0a'),header=rows[0x0][_0x4f898b(0x23d)](','),data=rows[_0x4f898b(0x1af)](0x1)[_0x4f898b(0x1e6)](function(_0x335221){var _0x2d69a3=_0x4f898b;return _0x335221['split'](',')[_0x2d69a3(0x1e6)](function(_0x3417a5,_0x50dc95){return _0x50dc95>=0x3?parseFloat(_0x3417a5):_0x3417a5;});}),margin={'top':0x0,'right':0x0,'bottom':0x0,'left':0x0},width=0x43a-margin[_0x4f898b(0x1c3)]-margin['right'],height=0x302-margin['top']-margin['bottom'],leagueColors={'Premier\x20League':_0x4f898b(0x166),'La\x20Liga':_0x4f898b(0x211),'Bundesliga':_0x4f898b(0x171),'Serie\x20A':'rgb(0,\x20191,\x20255,\x200.7)','Ligue\x201':_0x4f898b(0x215),'Eredivisie':_0x4f898b(0x176),'Primeira\x20Liga':_0x4f898b(0x1a8)};function getLeagueColor(_0x1c00d6){var _0x2d5ecf=_0x4f898b;return leagueColors[_0x1c00d6]||_0x2d5ecf(0x20c);}function updateChartDimensions(){var _0x3d18a3=_0x4f898b,_0x25f1ea=document[_0x3d18a3(0x247)]('.chart-wrapper')[_0x3d18a3(0x226)],_0x547488=window['innerHeight']*0.7,_0x3a9f62=0x1e,_0x556e87=Math[_0x3d18a3(0x223)](0x43a,_0x25f1ea-_0x3a9f62*0x2),_0x187afa=window[_0x3d18a3(0x183)]/window[_0x3d18a3(0x246)]<0x1;if(_0x187afa){margin={'top':0x28,'right':0x1e,'bottom':0x3c,'left':0x4b};var _0x107d01=1.4,_0x13647f=Math[_0x3d18a3(0x223)](_0x547488,_0x556e87*_0x107d01);_0x13647f=Math[_0x3d18a3(0x1a3)](_0x13647f,0x1f4);}else{margin={'top':0x28,'right':0x1e,'bottom':0x3c,'left':0x4f};var _0x249c5d=0.7,_0x13647f=_0x556e87*_0x249c5d;}width=_0x556e87-margin['left']-margin[_0x3d18a3(0x1ac)],height=_0x13647f-margin[_0x3d18a3(0x1ca)]-margin[_0x3d18a3(0x24a)],d3[_0x3d18a3(0x240)]('#scatter-plot')[_0x3d18a3(0x159)]('width',_0x556e87)['attr'](_0x3d18a3(0x1b5),_0x13647f),document[_0x3d18a3(0x247)](_0x3d18a3(0x18c))[_0x3d18a3(0x1cd)][_0x3d18a3(0x1b5)]=_0x13647f+'px';}window['addEventListener'](_0x4f898b(0x216),function(){updateChartDimensions(),requestAnimationFrame(function(){updateChart();});}),updateChartDimensions();function debounce(_0x32cde9,_0x37f332){let _0x170e81;return function(){const _0x123ae2=this,_0x37a661=arguments;clearTimeout(_0x170e81),_0x170e81=setTimeout(function(){var _0x4a5b90=_0x41e8;_0x32cde9[_0x4a5b90(0x1b8)](_0x123ae2,_0x37a661);},_0x37f332);};}var prevWindowWidth=window['innerWidth'],prevWindowHeight=window[_0x4f898b(0x246)];window['addEventListener'](_0x4f898b(0x216),debounce(function(){var _0x226dcd=_0x4f898b,_0x54f72d=prevWindowWidth/prevWindowHeight<0x1,_0x5b2e9a=window['innerWidth']/window['innerHeight']<0x1;prevWindowWidth=window[_0x226dcd(0x183)],prevWindowHeight=window[_0x226dcd(0x246)],requestAnimationFrame(function(){updateChart();});},0x32));var medianLinesVisible=![],selectX=d3[_0x4f898b(0x240)](_0x4f898b(0x178)),selectY=d3[_0x4f898b(0x240)](_0x4f898b(0x220)),names=data[_0x4f898b(0x1e6)](function(_0x441d50){return _0x441d50[0x1];});function _0x1fc6(){var _0x49e71f=['rgb(255,\x20223,\x200,\x200.7)','classList','all','flex','rgb(153,\x2050,\x20204,\x200.7)','resize','.median-line','classed','Inter,\x20sans-serif','getElementById','includes','</span><br/>','filter','innerHTML','enter','#select-y','tooltip.xg-line-right','none','min','block','match','clientWidth','ArrowUp','appendChild','Top\x205\x20Leagues','startsWith','transform','Ligue\x201','forEach','click','4578AAXfHr','target','interrupt','metric-select-option','Select\x20all\x20teams','tooltip.xg-line-below','rgba(70,\x20130,\x20180,\x200.7)','search-dimmed','mouseover','marker#arrow-over,\x20marker#arrow-under','node','x-metric-trigger','normalize','getBoundingClientRect','split','select-all-tooltip','axisBottom','select','265TzFhyG','start','51896OIruqg','.xy-line-hover','dark-mode','innerHeight','querySelector','replace','keydown','bottom','parentNode','getAttribute','median','scaleLinear','ion-ios-circle-filled','cloneNode','selectAll','size','xy-line-hover','NFD','range','attr','.performance-label','display','event','13962UHfBuk','data-i18n','help','search-match','mouseout','transparent','responseText','currentTranslations','text','rgb(255,\x200,\x200,\x200.7)','setAttribute','append','Teams\x20below\x20this\x20line\x20are\x20scoring\x20fewer\x20goals\x20than\x20expected.','8px','15px','font-family','metrics','anchor','ArrowDown','stroke-width','rgb(85,\x20209,\x2073,\x200.7)','Teams\x20right\x20of\x20this\x20line\x20are\x20scoring\x20more\x20goals\x20than\x20expected.','.team-label','nextElementSibling','Bundesliga','rgb(255,\x20140,\x200,\x200.7)','open','#select-x','unselectAll','120911ufHUJa','iconify-icon','Goals\x20per\x2090','</span>','5,3','tooltip.xg-line-title','<span>','pointer','rotate(-90)','innerWidth','textContent','nearest','duration','html','pct','length','toLowerCase','fill','.chart-container','contains','splice','nice','#333','team-label\x20','add','scrollIntoView','league-select-options','365697NHdVMr','marginRight','getComputedTextLength','GET','x-axis','bold','stroke','12px','temp-label','4704HaIiHE','find','#000','indexOf','.custom-select-trigger,\x20.metric-select-trigger','max','Enter','stroke-dasharray','change','La\x20Liga','rgb(255,\x2020,\x20147,\x200.7)','tooltip.xg-line-left','transition','call','right','opacity','remove','slice','class','.xy-line-label','pow','domain','xG\x20per\x2090','height','toFixed','Teams\x20above\x20this\x20line\x20are\x20scoring\x20more\x20goals\x20than\x20expected.','apply','1544TIGLlH','value','extent','selected','keys','Serie\x20A','Hide\x20median\x20lines','middle','y-metric-options','.custom-select-option,\x20.metric-select-option','left','<strong>','circle','Teams\x20left\x20of\x20this\x20line\x20are\x20scoring\x20fewer\x20goals\x20than\x20expected.','backgroundColor','team-label-','text-anchor','top','legend-item','x-metric-options','style','toggle-median-lines','Escape','option','ID,Player,Top\x207\x20Leagues,Goals\x20per\x2090,xG\x20per\x2090,Shots\x20on\x20target\x20per\x2090,Shots\x20on\x20target\x20%,Passes\x20completed,Pass\x20accuracy\x20%,Possession\x20%,Positional\x20attacks\x20per\x2090,Counter\x20attacks\x20per\x2090,Touches\x20in\x20the\x20box\x20per\x2090,Goals\x20conceded\x20per\x2090,SoT\x20against\x20per\x2090,Defensive\x20duels\x20per\x2090,Defensive\x20duel\x20%,Aerial\x20duels\x20per\x2090,Aerial\x20duels\x20%,Passes\x20per\x20possession,PPDA\x0a','send','auto','Show\x20median\x20lines','</strong><br/>','36513ulEKwL','width','every','.team-label-','hideMedianLines','median-lines-tooltip','span','trim','property','body','end','y-axis','dispatchEvent','4tEdnMM','select-y','<br/>','map','tooltip.xg-line-above','input','#2ecc71','10dobfSX','getBBox','querySelectorAll','https://datamb.football/database/TEAM/teamplots.csv','7398CFZEeu','addEventListener','.selected','axisLeft','search-bar','14px','data','showMedianLines','pageY','pageX','tickSize','metrics.','.xy-line-label-bg','select-league','key','line','Unselect\x20all\x20teams','createElement','translate(','sqrt','.custom-select-options,\x20.metric-select-options','median-line','each','push','className','500','dominant-baseline','from','div','tooltip','rgba(255,\x200,\x200,\x200.7)','9776756SLRZbJ','font-size','Premier\x20League','hanging'];_0x1fc6=function(){return _0x49e71f;};return _0x1fc6();}function _0x41e8(_0x2d4484,_0x116274){var _0x1fc6e1=_0x1fc6();return _0x41e8=function(_0x41e8d3,_0x461397){_0x41e8d3=_0x41e8d3-0x154;var _0x426647=_0x1fc6e1[_0x41e8d3];return _0x426647;},_0x41e8(_0x2d4484,_0x116274);}header[_0x4f898b(0x1af)](0x3)[_0x4f898b(0x22d)](function(_0x54e6a1){var _0x46289b=_0x4f898b;selectX[_0x46289b(0x168)]('option')['text'](_0x54e6a1)['attr'](_0x46289b(0x1ba),_0x54e6a1),selectY['append'](_0x46289b(0x1d0))[_0x46289b(0x165)](_0x54e6a1)['attr'](_0x46289b(0x1ba),_0x54e6a1);}),selectX[_0x4f898b(0x1de)]('value',header[0x3]),selectY['property'](_0x4f898b(0x1ba),header[0x4]);var svg=d3[_0x4f898b(0x240)]('#scatter-plot')[_0x4f898b(0x159)](_0x4f898b(0x1d7),width+margin['left']+margin[_0x4f898b(0x1ac)])[_0x4f898b(0x159)](_0x4f898b(0x1b5),height+margin[_0x4f898b(0x1ca)]+margin[_0x4f898b(0x24a)])['append']('g')[_0x4f898b(0x159)](_0x4f898b(0x22b),_0x4f898b(0x200)+margin['left']+','+margin['top']+')'),xMetric=header[0x3],yMetric=header[0x4],xScale=d3[_0x4f898b(0x24e)]()['range']([0x0,width]),yScale=d3[_0x4f898b(0x24e)]()[_0x4f898b(0x158)]([height,0x0]),xAxis=d3[_0x4f898b(0x23f)](xScale)[_0x4f898b(0x1f8)](0x0),yAxis=d3[_0x4f898b(0x1f1)](yScale)[_0x4f898b(0x1f8)](0x0),gXAxis=svg[_0x4f898b(0x168)]('g')['attr'](_0x4f898b(0x1b0),_0x4f898b(0x199))['attr']('transform','translate(0,'+height+')'),gYAxis=svg['append']('g')[_0x4f898b(0x159)](_0x4f898b(0x1b0),_0x4f898b(0x1e1)),xLabel=svg[_0x4f898b(0x168)](_0x4f898b(0x165))[_0x4f898b(0x159)]('class','x-label')[_0x4f898b(0x159)]('text-anchor',_0x4f898b(0x1e0))[_0x4f898b(0x159)]('x',width)[_0x4f898b(0x159)]('y',height+0x23)[_0x4f898b(0x1cd)](_0x4f898b(0x16c),_0x4f898b(0x219))[_0x4f898b(0x1cd)](_0x4f898b(0x20e),_0x4f898b(0x1f3)),yLabel=svg[_0x4f898b(0x168)](_0x4f898b(0x165))[_0x4f898b(0x159)](_0x4f898b(0x1b0),'y-label')[_0x4f898b(0x159)](_0x4f898b(0x1c9),_0x4f898b(0x1e0))['attr'](_0x4f898b(0x22b),_0x4f898b(0x182))[_0x4f898b(0x159)]('y',-0x35)[_0x4f898b(0x159)]('x',0x0)['style'](_0x4f898b(0x16c),_0x4f898b(0x219))[_0x4f898b(0x1cd)](_0x4f898b(0x20e),_0x4f898b(0x1f3)),tooltip=d3[_0x4f898b(0x240)](_0x4f898b(0x1df))['append'](_0x4f898b(0x20a))['attr'](_0x4f898b(0x1b0),_0x4f898b(0x20b));function isMobileDevice(){var _0x591060=_0x4f898b;return window[_0x591060(0x183)]<=0x300;}function positionTooltip(_0x4375e6,_0xce4f57){var _0x87eb05=_0x4f898b;const _0x5e73a5=_0xce4f57[_0x87eb05(0x239)]();if(!_0x5e73a5)return{'left':0x0,'top':0x0};const _0x2814fe=_0x5e73a5[_0x87eb05(0x23c)](),_0x2da30f=window[_0x87eb05(0x183)],_0x4c6a09=window[_0x87eb05(0x246)];let _0x4349b6=_0x4375e6[_0x87eb05(0x1f7)]+0xa,_0x351a46=_0x4375e6[_0x87eb05(0x1f6)]-0x1c;return _0x4349b6+_0x2814fe[_0x87eb05(0x1d7)]>_0x2da30f-0xa&&(_0x4349b6=_0x4375e6[_0x87eb05(0x1f7)]-_0x2814fe['width']-0xa),_0x351a46+_0x2814fe[_0x87eb05(0x1b5)]>_0x4c6a09-0xa&&(_0x351a46=_0x4375e6['pageY']-_0x2814fe[_0x87eb05(0x1b5)]-0xa),_0x4349b6=Math['max'](0xa,_0x4349b6),_0x351a46=Math[_0x87eb05(0x1a3)](0xa,_0x351a46),{'left':_0x4349b6,'top':_0x351a46};}var clickedCircles=[],filteredData=data,filteredNames=names,circles;function updateChart(){var _0x561970=_0x4f898b;updateChartDimensions(),d3[_0x561970(0x240)]('#scatter-plot')[_0x561970(0x159)](_0x561970(0x1d7),width+margin['left']+margin[_0x561970(0x1ac)])[_0x561970(0x159)](_0x561970(0x1b5),height+margin[_0x561970(0x1ca)]+margin[_0x561970(0x24a)]),gXAxis['attr'](_0x561970(0x22b),'translate(0,'+height+')'),xLabel['attr']('x',width)[_0x561970(0x159)]('y',height+0x23),yLabel[_0x561970(0x159)]('x',0x0);const _0x53c743=document[_0x561970(0x1df)]['classList'][_0x561970(0x18d)](_0x561970(0x245));var _0x46a9b5=document[_0x561970(0x21a)](_0x561970(0x1fb))[_0x561970(0x1ba)];if(_0x46a9b5===_0x561970(0x213))filteredData=data;else _0x46a9b5==='Top\x205\x20Leagues'?filteredData=data['filter'](function(_0x5f50d5){var _0x63e0ad=_0x561970;return _0x5f50d5[0x2]===_0x63e0ad(0x20f)||_0x5f50d5[0x2]==='La\x20Liga'||_0x5f50d5[0x2]===_0x63e0ad(0x175)||_0x5f50d5[0x2]===_0x63e0ad(0x1be)||_0x5f50d5[0x2]===_0x63e0ad(0x22c);}):filteredData=data[_0x561970(0x21d)](function(_0x49ba85){return _0x49ba85[0x2]===_0x46a9b5;});filteredNames=filteredData[_0x561970(0x1e6)](function(_0x1e0f69){return _0x1e0f69[0x1];}),xMetric=selectX[_0x561970(0x1de)](_0x561970(0x1ba)),yMetric=selectY[_0x561970(0x1de)](_0x561970(0x1ba)),xScale[_0x561970(0x158)]([0x0,width])[_0x561970(0x1b3)]((function(){var _0x5a351c=_0x561970;const _0x42802b=d3[_0x5a351c(0x1bb)](filteredData,function(_0x3f2f5a){var _0x4e4b0c=_0x5a351c;return+_0x3f2f5a[header[_0x4e4b0c(0x1a1)](xMetric)];}),_0x34e9f4=d3[_0x5a351c(0x24e)]()[_0x5a351c(0x1b3)](_0x42802b)[_0x5a351c(0x18f)](),_0x4157ab=_0x34e9f4['domain'](),_0x6a50b7=_0x42802b[0x1]-_0x42802b[0x0],_0x4fc142=_0x4157ab[0x1]-_0x4157ab[0x0];if(_0x4fc142/_0x6a50b7>1.2){const _0x4e6ed2=_0x6a50b7*0.1;return[_0x42802b[0x0]-_0x4e6ed2,_0x42802b[0x1]+_0x4e6ed2];}else return _0x4157ab;}())),yScale['range']([height,0x0])[_0x561970(0x1b3)]((function(){var _0x15d395=_0x561970;const _0xbc5eb0=d3[_0x15d395(0x1bb)](filteredData,function(_0x7bd7be){var _0x173fe6=_0x15d395;return+_0x7bd7be[header[_0x173fe6(0x1a1)](yMetric)];}),_0x3b8dfd=d3[_0x15d395(0x24e)]()['domain'](_0xbc5eb0)['nice'](),_0x33717e=_0x3b8dfd[_0x15d395(0x1b3)](),_0x29c2e2=_0xbc5eb0[0x1]-_0xbc5eb0[0x0],_0x20b325=_0x33717e[0x1]-_0x33717e[0x0];if(_0x20b325/_0x29c2e2>1.2){const _0x5ced51=_0x29c2e2*0.1;return[_0xbc5eb0[0x0]-_0x5ced51,_0xbc5eb0[0x1]+_0x5ced51];}else return _0x33717e;}())),gXAxis[_0x561970(0x1ab)](d3['axisBottom'](xScale)[_0x561970(0x1f8)](0x0)),gYAxis[_0x561970(0x1ab)](d3['axisLeft'](yScale)['tickSize'](0x0));const _0x22975c=_0x561970(0x1f9)+xMetric[_0x561970(0x18a)]()['replace'](/ /g,'-')['replace'](/%/g,'pct'),_0x710722=_0x561970(0x1f9)+yMetric['toLowerCase']()[_0x561970(0x248)](/ /g,'-')[_0x561970(0x248)](/%/g,_0x561970(0x188));xLabel[_0x561970(0x159)](_0x561970(0x15e),_0x22975c),yLabel['attr'](_0x561970(0x15e),_0x710722);if(window[_0x561970(0x164)]&&window[_0x561970(0x164)][_0x561970(0x16d)]){const _0x252eb5=xMetric['toLowerCase']()[_0x561970(0x248)](/ /g,'-')[_0x561970(0x248)](/%/g,_0x561970(0x188)),_0x773570=yMetric[_0x561970(0x18a)]()[_0x561970(0x248)](/ /g,'-')[_0x561970(0x248)](/%/g,'pct'),_0xd14cd1=window[_0x561970(0x164)]['metrics'][_0x252eb5],_0x41aef6=window[_0x561970(0x164)][_0x561970(0x16d)][_0x773570];xLabel['text'](_0xd14cd1||xMetric),yLabel[_0x561970(0x165)](_0x41aef6||yMetric);}else xLabel[_0x561970(0x165)](xMetric),yLabel[_0x561970(0x165)](yMetric);svg[_0x561970(0x154)](_0x561970(0x1c5))['remove'](),svg[_0x561970(0x154)](_0x561970(0x173))[_0x561970(0x1ae)](),svg['selectAll']('.xy-line')[_0x561970(0x1ae)](),svg['selectAll']('.xy-line-bg')[_0x561970(0x1ae)](),svg['selectAll'](_0x561970(0x1b1))[_0x561970(0x1ae)](),svg[_0x561970(0x154)](_0x561970(0x1fa))[_0x561970(0x1ae)](),svg['selectAll'](_0x561970(0x15a))[_0x561970(0x1ae)](),svg['selectAll']('linearGradient#line-gradient')[_0x561970(0x1ae)](),svg[_0x561970(0x154)](_0x561970(0x238))['remove'](),svg[_0x561970(0x154)](_0x561970(0x244))[_0x561970(0x1ae)](),svg[_0x561970(0x154)](_0x561970(0x217))['remove']();if(xMetric===_0x561970(0x1b4)&&yMetric===_0x561970(0x17c)||xMetric===_0x561970(0x17c)&&yMetric===_0x561970(0x1b4)){var _0x3b0a70=null,_0x1fd28c=d3[_0x561970(0x223)](filteredData,function(_0x3abda2){var _0x11b755=_0x561970;return _0x3abda2[header[_0x11b755(0x1a1)](xMetric)];}),_0x21b2f9=d3[_0x561970(0x1a3)](filteredData,function(_0x1a96a4){var _0x2f8b4c=_0x561970;return _0x1a96a4[header[_0x2f8b4c(0x1a1)](xMetric)];}),_0x4ac7ac=d3[_0x561970(0x223)](filteredData,function(_0x51eab1){var _0x828de3=_0x561970;return _0x51eab1[header[_0x828de3(0x1a1)](yMetric)];}),_0x2e5836=d3[_0x561970(0x1a3)](filteredData,function(_0x33d789){var _0x19fae4=_0x561970;return _0x33d789[header[_0x19fae4(0x1a1)](yMetric)];}),_0x4a7b06=Math[_0x561970(0x223)](_0x21b2f9,_0x2e5836),_0x3c0a87=Math[_0x561970(0x1a3)](_0x1fd28c,_0x4ac7ac);svg[_0x561970(0x168)]('line')[_0x561970(0x159)](_0x561970(0x1b0),'xy-line')[_0x561970(0x159)]('x1',xScale(_0x3c0a87))[_0x561970(0x159)]('y1',yScale(_0x3c0a87))[_0x561970(0x159)]('x2',xScale(_0x4a7b06))['attr']('y2',yScale(_0x4a7b06))['style'](_0x561970(0x19b),_0x561970(0x1e9))[_0x561970(0x1cd)](_0x561970(0x170),'2')[_0x561970(0x1cd)](_0x561970(0x1a5),_0x561970(0x17e)),svg[_0x561970(0x168)](_0x561970(0x1fd))['attr'](_0x561970(0x1b0),_0x561970(0x156))[_0x561970(0x159)]('x1',xScale(_0x3c0a87))[_0x561970(0x159)]('y1',yScale(_0x3c0a87))[_0x561970(0x159)]('x2',xScale(_0x4a7b06))[_0x561970(0x159)]('y2',yScale(_0x4a7b06))[_0x561970(0x1cd)](_0x561970(0x19b),_0x561970(0x162))[_0x561970(0x1cd)]('stroke-width','15')[_0x561970(0x1cd)]('cursor',_0x561970(0x15f))['on'](_0x561970(0x237),function(){var _0x2d06d6=_0x561970;_0x3b0a70&&clearTimeout(_0x3b0a70);var _0x4ff8a4=d3['event']['pageX'],_0x456f82=d3['event'][_0x2d06d6(0x1f6)];_0x3b0a70=setTimeout(function(){var _0x38472e=_0x2d06d6;tooltip[_0x38472e(0x1aa)]()[_0x38472e(0x186)](0xc8)[_0x38472e(0x1cd)](_0x38472e(0x1ad),0.9);var _0x2ef404=_0x38472e(0x1c4)+getTranslation(_0x38472e(0x17f),'G\x20=\x20xG\x20Line')+_0x38472e(0x1d5);xMetric===_0x38472e(0x1b4)&&yMetric===_0x38472e(0x17c)?_0x2ef404+=_0x38472e(0x180)+getTranslation(_0x38472e(0x1e7),_0x38472e(0x1b7))+'</span><br/>'+_0x38472e(0x180)+getTranslation(_0x38472e(0x234),_0x38472e(0x169))+_0x38472e(0x17d):_0x2ef404+=_0x38472e(0x180)+getTranslation(_0x38472e(0x221),_0x38472e(0x172))+_0x38472e(0x21c)+'<span>'+getTranslation(_0x38472e(0x1a9),_0x38472e(0x1c6))+_0x38472e(0x17d),tooltip['html'](_0x2ef404)[_0x38472e(0x1cd)](_0x38472e(0x1c3),_0x4ff8a4+0xa+'px')[_0x38472e(0x1cd)]('top',_0x456f82-0x1c+'px');},0x258);})['on'](_0x561970(0x161),function(){var _0x7a2f58=_0x561970;_0x3b0a70&&(clearTimeout(_0x3b0a70),_0x3b0a70=null),tooltip[_0x7a2f58(0x1aa)]()[_0x7a2f58(0x186)](0x1f4)[_0x7a2f58(0x1cd)](_0x7a2f58(0x1ad),0x0);});}if(medianLinesVisible){var _0xe68c58=d3[_0x561970(0x24d)](filteredData,function(_0x5a886a){var _0x26df85=_0x561970;return _0x5a886a[header[_0x26df85(0x1a1)](xMetric)];}),_0x500ce5=d3['median'](filteredData,function(_0x5ba127){var _0x3aae7d=_0x561970;return _0x5ba127[header[_0x3aae7d(0x1a1)](yMetric)];});svg[_0x561970(0x168)](_0x561970(0x1fd))[_0x561970(0x159)](_0x561970(0x1b0),_0x561970(0x203))[_0x561970(0x159)]('x1',xScale(_0xe68c58))[_0x561970(0x159)]('y1',0x0)[_0x561970(0x159)]('x2',xScale(_0xe68c58))[_0x561970(0x159)]('y2',height)[_0x561970(0x1cd)](_0x561970(0x19b),'rgba(0,\x200,\x200,\x200.3)')[_0x561970(0x1cd)]('stroke-dasharray','4'),svg[_0x561970(0x168)](_0x561970(0x1fd))[_0x561970(0x159)]('class',_0x561970(0x203))[_0x561970(0x159)]('x1',0x0)[_0x561970(0x159)]('y1',yScale(_0x500ce5))['attr']('x2',width)[_0x561970(0x159)]('y2',yScale(_0x500ce5))[_0x561970(0x1cd)]('stroke','rgba(0,\x200,\x200,\x200.3)')[_0x561970(0x1cd)]('stroke-dasharray','4');}circles=svg['selectAll'](_0x561970(0x1c5))[_0x561970(0x1f4)](filteredData)[_0x561970(0x21f)]()[_0x561970(0x168)](_0x561970(0x1c5))['attr']('cx',function(_0x5d2b4e){var _0x540982=_0x561970;return xScale(_0x5d2b4e[header[_0x540982(0x1a1)](xMetric)]);})[_0x561970(0x159)]('cy',function(_0xcda55a){var _0x30c17e=_0x561970;return yScale(_0xcda55a[header[_0x30c17e(0x1a1)](yMetric)]);})[_0x561970(0x159)]('r',0x8)[_0x561970(0x1cd)](_0x561970(0x18b),function(_0x298d5d){var _0x25e3de=_0x561970;if(clickedCircles[_0x25e3de(0x21b)](_0x298d5d[0x1]))return getLeagueColor(_0x298d5d[0x2]);return _0x25e3de(0x235);})[_0x561970(0x1cd)]('stroke',function(_0x2fd75b){var _0x1b6e0d=_0x561970;return clickedCircles['includes'](_0x2fd75b[0x1])?_0x1b6e0d(0x1a0):_0x1b6e0d(0x222);})[_0x561970(0x1cd)](_0x561970(0x170),function(_0x2691bb){var _0x3efb1d=_0x561970;return clickedCircles[_0x3efb1d(0x21b)](_0x2691bb[0x1])?0x2:0x0;})[_0x561970(0x1cd)]('cursor',_0x561970(0x181))['on'](_0x561970(0x237),function(_0x2464fd){var _0x8ae893=_0x561970;d3[_0x8ae893(0x240)](this)[_0x8ae893(0x1aa)]()[_0x8ae893(0x186)](0xc8)[_0x8ae893(0x159)]('r',0xa)['style']('fill',getLeagueColor(_0x2464fd[0x2])),tooltip['transition']()[_0x8ae893(0x186)](0xc8)[_0x8ae893(0x1cd)](_0x8ae893(0x1ad),0.9);const _0x16b82f=_0x8ae893(0x1f9)+xMetric['toLowerCase']()[_0x8ae893(0x248)](/ /g,'-')[_0x8ae893(0x248)](/%/g,'pct'),_0x4e6915=_0x8ae893(0x1f9)+yMetric[_0x8ae893(0x18a)]()[_0x8ae893(0x248)](/ /g,'-')['replace'](/%/g,_0x8ae893(0x188)),_0x450557=getTranslation(_0x16b82f,xMetric),_0x437350=getTranslation(_0x4e6915,yMetric);tooltip[_0x8ae893(0x187)](_0x8ae893(0x1c4)+_0x2464fd[0x1]+'</strong><br/>'+_0x450557+':\x20'+_0x2464fd[header[_0x8ae893(0x1a1)](xMetric)][_0x8ae893(0x1b6)](0x2)+_0x8ae893(0x1e5)+_0x437350+':\x20'+_0x2464fd[header[_0x8ae893(0x1a1)](yMetric)][_0x8ae893(0x1b6)](0x2));const _0x5cf0e9=tooltip[_0x8ae893(0x239)]();if(_0x5cf0e9){const _0x49fb8d=_0x5cf0e9[_0x8ae893(0x23c)](),_0x2d591d=window['innerWidth'],_0x3368ca=window[_0x8ae893(0x246)];let _0x2a48c4=d3[_0x8ae893(0x15c)][_0x8ae893(0x1f7)]+0xa,_0x25ecc5=d3[_0x8ae893(0x15c)][_0x8ae893(0x1f6)]-0x1c;_0x2a48c4+_0x49fb8d[_0x8ae893(0x1d7)]>_0x2d591d-0xa&&(_0x2a48c4=d3[_0x8ae893(0x15c)][_0x8ae893(0x1f7)]-_0x49fb8d[_0x8ae893(0x1d7)]-0xa),_0x25ecc5+_0x49fb8d['height']>_0x3368ca-0xa&&(_0x25ecc5=d3[_0x8ae893(0x15c)][_0x8ae893(0x1f6)]-_0x49fb8d['height']-0xa),_0x2a48c4=Math['max'](0xa,_0x2a48c4),_0x25ecc5=Math[_0x8ae893(0x1a3)](0xa,_0x25ecc5),tooltip['style'](_0x8ae893(0x1c3),_0x2a48c4+'px')['style'](_0x8ae893(0x1ca),_0x25ecc5+'px');}else tooltip[_0x8ae893(0x1cd)]('left',d3[_0x8ae893(0x15c)][_0x8ae893(0x1f7)]+0xa+'px')['style']('top',d3[_0x8ae893(0x15c)][_0x8ae893(0x1f6)]-0x1c+'px');window[_0x8ae893(0x183)]<=0x300&&setTimeout(function(){var _0x1be2d6=_0x8ae893;tooltip[_0x1be2d6(0x1aa)]()[_0x1be2d6(0x186)](0xc8)[_0x1be2d6(0x1cd)]('opacity',0x0);},0x3e8);})['on'](_0x561970(0x161),function(_0x237c2d){var _0x584e03=_0x561970;window[_0x584e03(0x183)]>0x300&&tooltip['transition']()['duration'](0x1f4)[_0x584e03(0x1cd)](_0x584e03(0x1ad),0x0);var _0x198ae3=clickedCircles[_0x584e03(0x21b)](_0x237c2d[0x1]);d3['select'](this)[_0x584e03(0x1aa)]()['duration'](0xc8)['attr']('r',0x8)[_0x584e03(0x1cd)](_0x584e03(0x18b),function(){var _0x2762ac=_0x584e03;return _0x198ae3?getLeagueColor(_0x237c2d[0x2]):_0x2762ac(0x235);});})['on']('click',function(_0x191435){var _0x197484=_0x561970,_0x39b40b=d3['select'](this)['classed'](_0x197484(0x160));_0x39b40b&&resetSearch();var _0x4d7d10=clickedCircles[_0x197484(0x1a1)](_0x191435[0x1]);_0x4d7d10===-0x1?(clickedCircles['push'](_0x191435[0x1]),d3[_0x197484(0x240)](this)[_0x197484(0x1cd)]('fill',getLeagueColor(_0x191435[0x2]))[_0x197484(0x1cd)](_0x197484(0x19b),_0x197484(0x1a0))[_0x197484(0x1cd)](_0x197484(0x170),0x2),addTeamLabel(_0x191435)):(clickedCircles[_0x197484(0x18e)](_0x4d7d10,0x1),d3[_0x197484(0x240)](this)['style'](_0x197484(0x18b),_0x197484(0x235))['style'](_0x197484(0x19b),_0x197484(0x222)),svg[_0x197484(0x154)](_0x197484(0x1d9)+_0x191435[0x1]['replace'](/\s+/g,'-')[_0x197484(0x18a)]())[_0x197484(0x1ae)]());updateSelectAllButtonText();var _0x3f1dc3=document[_0x197484(0x21a)](_0x197484(0x1fb))[_0x197484(0x1ba)];updateLeagueLegend(_0x3f1dc3);}),clickedCircles['forEach'](function(_0x3d7594){var _0x216c5d=_0x561970,_0x47022a=filteredData[_0x216c5d(0x19f)](function(_0x12e6f9){return _0x12e6f9[0x1]===_0x3d7594;});_0x47022a&&addTeamLabel(_0x47022a);}),updateSelectAllButtonText(),updateLeagueLegend(_0x46a9b5);}function updateSelectAllButtonText(){var _0x48407b=_0x4f898b,_0x169c0b=document[_0x48407b(0x21a)]('select-icon'),_0x1d3eee=document[_0x48407b(0x21a)](_0x48407b(0x23e)),_0x3259ae=filteredData[_0x48407b(0x1d8)](function(_0x4c8701){var _0x5c4f78=_0x48407b;return clickedCircles[_0x5c4f78(0x21b)](_0x4c8701[0x1]);});_0x3259ae?(_0x169c0b[_0x48407b(0x206)]='ion-ios-circle-outline',_0x1d3eee&&(window[_0x48407b(0x164)]&&window[_0x48407b(0x164)][_0x48407b(0x20b)]?_0x1d3eee['textContent']=window[_0x48407b(0x164)][_0x48407b(0x20b)][_0x48407b(0x179)]||_0x48407b(0x1fe):_0x1d3eee['textContent']=_0x48407b(0x1fe))):(_0x169c0b['className']=_0x48407b(0x24f),_0x1d3eee&&(window[_0x48407b(0x164)]&&window[_0x48407b(0x164)][_0x48407b(0x20b)]?_0x1d3eee[_0x48407b(0x184)]=window[_0x48407b(0x164)][_0x48407b(0x20b)][_0x48407b(0x154)]||_0x48407b(0x233):_0x1d3eee['textContent']='Select\x20all\x20teams'));}selectX['on']('change',updateChart),selectY['on'](_0x4f898b(0x1a6),updateChart);function removeSpecialCharsAndDiacritics(_0x22f8d5){var _0x74ea77=_0x4f898b;if(!_0x22f8d5)return'';return _0x22f8d5[_0x74ea77(0x23b)](_0x74ea77(0x157))[_0x74ea77(0x248)](/[\u0300-\u036f]/g,'')[_0x74ea77(0x248)](/Ø/g,'O')[_0x74ea77(0x248)](/ø/g,'o');}var searchBar=document[_0x4f898b(0x21a)](_0x4f898b(0x1f2));searchBar[_0x4f898b(0x1ef)](_0x4f898b(0x1e8),function(){var _0x4731c2=_0x4f898b,_0x214c34=searchBar[_0x4731c2(0x1ba)][_0x4731c2(0x18a)]();if(_0x214c34===''){resetSearch();return;}var _0xd93852=removeSpecialCharsAndDiacritics(_0x214c34);svg[_0x4731c2(0x154)](_0x4731c2(0x1c5))[_0x4731c2(0x218)](_0x4731c2(0x160),![])[_0x4731c2(0x1cd)](_0x4731c2(0x18b),function(_0x2d5fe2){var _0x370b36=_0x4731c2;return clickedCircles[_0x370b36(0x21b)](_0x2d5fe2[0x1])?getLeagueColor(_0x2d5fe2[0x2]):'rgba(70,\x20130,\x20180,\x200.7)';})[_0x4731c2(0x1cd)](_0x4731c2(0x19b),function(_0x3a2ef8){var _0x6b17de=_0x4731c2;return clickedCircles[_0x6b17de(0x21b)](_0x3a2ef8[0x1])?_0x6b17de(0x1a0):_0x6b17de(0x222);})['style'](_0x4731c2(0x170),function(_0x5ea453){var _0xaa11b0=_0x4731c2;return clickedCircles[_0xaa11b0(0x21b)](_0x5ea453[0x1])?0x2:0x0;})[_0x4731c2(0x1cd)]('filter','none')[_0x4731c2(0x204)](function(){var _0x55a14a=_0x4731c2;d3[_0x55a14a(0x240)](this)['style']('r',null);}),svg[_0x4731c2(0x154)](_0x4731c2(0x173))[_0x4731c2(0x218)](_0x4731c2(0x160),![])['classed']('search-dimmed',![]);var _0x91148a=[];svg[_0x4731c2(0x154)](_0x4731c2(0x1c5))[_0x4731c2(0x21d)](function(_0x1980f9){var _0x2560ce=_0x4731c2,_0x2dace3=_0x1980f9[0x1][_0x2560ce(0x18a)](),_0x2d02f5=removeSpecialCharsAndDiacritics(_0x2dace3),_0x1d20fd=_0x2dace3[_0x2560ce(0x21b)](_0x214c34)||_0x2d02f5[_0x2560ce(0x21b)](_0xd93852);return _0x1d20fd&&_0x91148a['push'](_0x1980f9[0x1]),_0x1d20fd;})[_0x4731c2(0x218)]('search-match',!![])['each'](function(){var _0x5e3b46=_0x4731c2;this['parentNode'][_0x5e3b46(0x228)](this);}),_0x91148a['length']>0x0?(svg[_0x4731c2(0x154)](_0x4731c2(0x173))[_0x4731c2(0x218)](_0x4731c2(0x236),!![]),svg['selectAll'](_0x4731c2(0x173))[_0x4731c2(0x21d)](function(){var _0x5edc92=_0x4731c2,_0x11da45=d3[_0x5edc92(0x240)](this)[_0x5edc92(0x165)]();return _0x91148a[_0x5edc92(0x21b)](_0x11da45);})[_0x4731c2(0x218)](_0x4731c2(0x160),!![])[_0x4731c2(0x218)](_0x4731c2(0x236),![])[_0x4731c2(0x204)](function(){var _0x701000=_0x4731c2;this[_0x701000(0x24b)][_0x701000(0x228)](this);}),_0x91148a[_0x4731c2(0x22d)](function(_0x1f3772){var _0x555f97=_0x4731c2,_0x2f5f0a=_0x555f97(0x1c8)+_0x1f3772[_0x555f97(0x248)](/\s+/g,'-')[_0x555f97(0x18a)]();if(svg[_0x555f97(0x240)]('.'+_0x2f5f0a)[_0x555f97(0x155)]()===0x0){var _0x234c3e=filteredData[_0x555f97(0x19f)](function(_0x59a9b3){return _0x59a9b3[0x1]===_0x1f3772;});_0x234c3e&&(addTeamLabel(_0x234c3e),svg[_0x555f97(0x240)]('.'+_0x2f5f0a)['classed'](_0x555f97(0x160),!![]));}})):(svg[_0x4731c2(0x154)]('.team-label')[_0x4731c2(0x204)](function(){var _0x25705c=_0x4731c2,_0x5d24bc=d3[_0x25705c(0x240)](this),_0x4e7eea=_0x5d24bc[_0x25705c(0x165)]();!clickedCircles[_0x25705c(0x21b)](_0x4e7eea)&&_0x5d24bc[_0x25705c(0x1ae)]();}),svg[_0x4731c2(0x154)]('circle')[_0x4731c2(0x1cd)]('fill',function(_0x3d71e5){var _0x175d89=_0x4731c2;return clickedCircles['includes'](_0x3d71e5[0x1])?getLeagueColor(_0x3d71e5[0x2]):_0x175d89(0x235);})[_0x4731c2(0x1cd)]('stroke',function(_0x4e86ca){var _0x470c0d=_0x4731c2;return clickedCircles[_0x470c0d(0x21b)](_0x4e86ca[0x1])?_0x470c0d(0x1a0):'none';})[_0x4731c2(0x1cd)](_0x4731c2(0x170),function(_0x2acf19){var _0x24cf99=_0x4731c2;return clickedCircles[_0x24cf99(0x21b)](_0x2acf19[0x1])?0x2:0x0;}));});function resetSearch(){var _0xb71662=_0x4f898b;searchBar[_0xb71662(0x1ba)]='',svg['selectAll']('circle')[_0xb71662(0x218)](_0xb71662(0x160),![])['style'](_0xb71662(0x18b),function(_0x54982c){var _0x52dacc=_0xb71662;return clickedCircles[_0x52dacc(0x21b)](_0x54982c[0x1])?getLeagueColor(_0x54982c[0x2]):'rgba(70,\x20130,\x20180,\x200.7)';})[_0xb71662(0x1cd)]('stroke',function(_0x18324a){var _0x40e501=_0xb71662;return clickedCircles['includes'](_0x18324a[0x1])?_0x40e501(0x1a0):_0x40e501(0x222);})[_0xb71662(0x1cd)](_0xb71662(0x170),function(_0x35e07b){var _0x498f2e=_0xb71662;return clickedCircles[_0x498f2e(0x21b)](_0x35e07b[0x1])?0x2:0x0;})[_0xb71662(0x1cd)](_0xb71662(0x21d),_0xb71662(0x222))[_0xb71662(0x204)](function(){var _0x24a485=_0xb71662;d3['select'](this)[_0x24a485(0x1cd)]('r',null),d3['select'](this)[_0x24a485(0x231)]();}),svg['selectAll'](_0xb71662(0x173))[_0xb71662(0x218)]('search-match',![])['classed'](_0xb71662(0x236),![])[_0xb71662(0x204)](function(){var _0xa3ad20=_0xb71662;d3[_0xa3ad20(0x240)](this)[_0xa3ad20(0x231)]();}),svg[_0xb71662(0x154)]('.team-label')[_0xb71662(0x204)](function(){var _0x5377ca=_0xb71662,_0x41192f=d3[_0x5377ca(0x240)](this),_0x4567f7=_0x41192f[_0x5377ca(0x165)]();!clickedCircles[_0x5377ca(0x21b)](_0x4567f7)&&_0x41192f[_0x5377ca(0x1ae)]();});}var toggleButton=document['getElementById'](_0x4f898b(0x1ce));toggleButton[_0x4f898b(0x1ef)](_0x4f898b(0x22e),function(){var _0x4fe55a=_0x4f898b;medianLinesVisible=!medianLinesVisible,updateChart();const _0x5e9b42=document['getElementById'](_0x4fe55a(0x1db));window[_0x4fe55a(0x164)]&&window[_0x4fe55a(0x164)]['tooltip']?_0x5e9b42[_0x4fe55a(0x184)]=medianLinesVisible?window[_0x4fe55a(0x164)][_0x4fe55a(0x20b)][_0x4fe55a(0x1da)]||_0x4fe55a(0x1bf):window[_0x4fe55a(0x164)][_0x4fe55a(0x20b)][_0x4fe55a(0x1f5)]||_0x4fe55a(0x1d4):_0x5e9b42[_0x4fe55a(0x184)]=medianLinesVisible?_0x4fe55a(0x1bf):_0x4fe55a(0x1d4);});function selectAllCircles(){var _0x420a0b=_0x4f898b,_0x2af12f=filteredData['every'](function(_0xe3aab6){var _0x378e9f=_0x41e8;return clickedCircles[_0x378e9f(0x21b)](_0xe3aab6[0x1]);});_0x2af12f?(clickedCircles=[],svg[_0x420a0b(0x154)]('circle')[_0x420a0b(0x1cd)](_0x420a0b(0x18b),_0x420a0b(0x235))[_0x420a0b(0x1cd)]('stroke',_0x420a0b(0x222)),svg[_0x420a0b(0x154)](_0x420a0b(0x173))[_0x420a0b(0x1ae)]()):(svg[_0x420a0b(0x154)]('circle')[_0x420a0b(0x204)](function(_0x13781e){var _0x58b8a7=_0x420a0b;!clickedCircles[_0x58b8a7(0x21b)](_0x13781e[0x1])&&(clickedCircles[_0x58b8a7(0x205)](_0x13781e[0x1]),d3['select'](this)['style'](_0x58b8a7(0x18b),getLeagueColor(_0x13781e[0x2]))[_0x58b8a7(0x1cd)](_0x58b8a7(0x19b),_0x58b8a7(0x1a0))[_0x58b8a7(0x1cd)]('stroke-width',0x2));}),filteredData[_0x420a0b(0x22d)](function(_0x3907c5){addTeamLabel(_0x3907c5);}));updateSelectAllButtonText();var _0x5d0352=document[_0x420a0b(0x21a)](_0x420a0b(0x1fb))[_0x420a0b(0x1ba)];updateLeagueLegend(_0x5d0352);}updateChart(),initializeCustomSelectors();function updateLeagueLegend(_0x4c4776){var _0x204552=_0x4f898b,_0x3f227d=document['getElementById']('league-legend');if(_0x4c4776!==_0x204552(0x213)&&_0x4c4776!==_0x204552(0x229)){_0x3f227d[_0x204552(0x1cd)]['display']='none';return;}if(clickedCircles[_0x204552(0x189)]===0x0){_0x3f227d[_0x204552(0x1cd)][_0x204552(0x15b)]=_0x204552(0x222);return;}var _0xee6ad=![];for(var _0x52530e=0x0;_0x52530e<filteredData[_0x204552(0x189)];_0x52530e++){if(clickedCircles[_0x204552(0x21b)](filteredData[_0x52530e][0x1])){_0xee6ad=!![];break;}}if(!_0xee6ad){_0x3f227d[_0x204552(0x1cd)]['display']=_0x204552(0x222);return;}_0x3f227d[_0x204552(0x1cd)][_0x204552(0x15b)]=_0x204552(0x214),_0x3f227d[_0x204552(0x21e)]='';var _0x142542=document[_0x204552(0x1ff)](_0x204552(0x20a));_0x142542[_0x204552(0x1cd)]['fontWeight']=_0x204552(0x19a),_0x142542[_0x204552(0x1cd)][_0x204552(0x196)]=_0x204552(0x16b),_0x3f227d['appendChild'](_0x142542);var _0x245654=[];if(_0x4c4776===_0x204552(0x213))_0x245654=Object[_0x204552(0x1bd)](leagueColors);else _0x4c4776===_0x204552(0x229)&&(_0x245654=[_0x204552(0x20f),_0x204552(0x1a7),'Bundesliga',_0x204552(0x1be),_0x204552(0x22c)]);_0x245654[_0x204552(0x22d)](function(_0x4e6f89){var _0x7ade33=_0x204552,_0x31c397=document[_0x7ade33(0x1ff)](_0x7ade33(0x20a));_0x31c397[_0x7ade33(0x206)]=_0x7ade33(0x1cb);var _0xecc2e2=document[_0x7ade33(0x1ff)](_0x7ade33(0x20a));_0xecc2e2[_0x7ade33(0x206)]='legend-color',_0xecc2e2['style'][_0x7ade33(0x1c7)]=leagueColors[_0x4e6f89];var _0x2b2d41=document[_0x7ade33(0x1ff)]('span');_0x2b2d41[_0x7ade33(0x184)]=_0x4e6f89,_0x31c397['appendChild'](_0xecc2e2),_0x31c397[_0x7ade33(0x228)](_0x2b2d41),_0x3f227d[_0x7ade33(0x228)](_0x31c397);});}function addTeamLabel(_0xbdb2a0,_0xa8fd40){var _0x11f59b=_0x4f898b,_0xcf9a7a=xScale(_0xbdb2a0[header[_0x11f59b(0x1a1)](xMetric)]),_0x3a6c75=yScale(_0xbdb2a0[header['indexOf'](yMetric)]),_0x1aa16b=_0x11f59b(0x1c8)+_0xbdb2a0[0x1][_0x11f59b(0x18a)]()[_0x11f59b(0x248)](/\s+/g,'-');if(svg[_0x11f59b(0x240)]('.'+_0x1aa16b)['size']()>0x0)return;var _0x2a7a2a=svg['append']('text')[_0x11f59b(0x159)](_0x11f59b(0x1b0),_0x11f59b(0x19d))['text'](_0xbdb2a0[0x1])[_0x11f59b(0x1cd)](_0x11f59b(0x16c),_0x11f59b(0x219))[_0x11f59b(0x1cd)](_0x11f59b(0x20e),_0x11f59b(0x19c))[_0x11f59b(0x1cd)]('opacity',0x0),_0x435d7f=_0x2a7a2a[_0x11f59b(0x239)]()[_0x11f59b(0x197)]();_0x2a7a2a[_0x11f59b(0x1ae)]();var _0x224908=[{'dx':0x8,'dy':0x0,'anchor':_0x11f59b(0x242)},{'dx':-0x8,'dy':0x0,'anchor':_0x11f59b(0x1e0)},{'dx':0x0,'dy':-0x8,'anchor':_0x11f59b(0x1c0)},{'dx':0x0,'dy':0x8,'anchor':_0x11f59b(0x1c0)}],_0x4bb8c7=[];svg['selectAll']('text.team-label')[_0x11f59b(0x204)](function(){var _0x576f0d=_0x11f59b,_0x310222=this[_0x576f0d(0x1eb)]();_0x4bb8c7[_0x576f0d(0x205)]({'x1':_0x310222['x']-0x2,'y1':_0x310222['y']-0x2,'x2':_0x310222['x']+_0x310222[_0x576f0d(0x1d7)]+0x2,'y2':_0x310222['y']+_0x310222[_0x576f0d(0x1b5)]+0x2});});var _0x2da419=null,_0x27753c=0xc,_0x19932b=width,_0x38e972=height;if(!_0xa8fd40){for(var _0x3e7006=0x0;_0x3e7006<_0x224908[_0x11f59b(0x189)];_0x3e7006++){var _0x53f900=_0x224908[_0x3e7006],_0x560014=_0xcf9a7a+_0x53f900['dx'],_0x4bbaf8=_0x3a6c75+_0x53f900['dy'],_0x5c001d={'x1':_0x53f900[_0x11f59b(0x16e)]===_0x11f59b(0x1e0)?_0x560014-_0x435d7f:_0x53f900[_0x11f59b(0x16e)]===_0x11f59b(0x1c0)?_0x560014-_0x435d7f/0x2:_0x560014,'y1':_0x53f900['dy']<0x0?_0x4bbaf8-_0x27753c:_0x4bbaf8,'x2':_0x53f900['anchor']==='start'?_0x560014+_0x435d7f:_0x53f900['anchor']===_0x11f59b(0x1c0)?_0x560014+_0x435d7f/0x2:_0x560014,'y2':_0x53f900['dy']<0x0?_0x4bbaf8:_0x4bbaf8+_0x27753c};if(_0x5c001d['x1']<0x0||_0x5c001d['x2']>_0x19932b||_0x5c001d['y1']<0x0||_0x5c001d['y2']>_0x38e972)continue;var _0x3ae7d7=![];for(var _0x4d5c70=0x0;_0x4d5c70<_0x4bb8c7[_0x11f59b(0x189)];_0x4d5c70++){var _0xfeb85b=_0x4bb8c7[_0x4d5c70];if(!(_0x5c001d['x2']<_0xfeb85b['x1']||_0x5c001d['x1']>_0xfeb85b['x2']||_0x5c001d['y2']<_0xfeb85b['y1']||_0x5c001d['y1']>_0xfeb85b['y2'])){_0x3ae7d7=!![];break;}}if(!_0x3ae7d7){_0x2da419=_0x53f900;break;}}if(!_0x2da419){var _0x6f53f=0x32,_0x523df7=0x0;_0x4bb8c7[_0x11f59b(0x22d)](function(_0x4b1bb0){var _0x517345=_0x11f59b,_0x128a35=(_0x4b1bb0['x1']+_0x4b1bb0['x2'])/0x2,_0x104576=(_0x4b1bb0['y1']+_0x4b1bb0['y2'])/0x2,_0x300aa0=Math[_0x517345(0x201)](Math[_0x517345(0x1b2)](_0x128a35-_0xcf9a7a,0x2)+Math[_0x517345(0x1b2)](_0x104576-_0x3a6c75,0x2));_0x300aa0<_0x6f53f&&_0x523df7++;});if(_0x523df7>0x3)return;}}if(!_0x2da419){_0x2da419=_0x224908[0x0];var _0x560014=_0xcf9a7a+_0x2da419['dx'],_0x4bbaf8=_0x3a6c75+_0x2da419['dy'],_0x5c001d={'x1':_0x2da419[_0x11f59b(0x16e)]==='end'?_0x560014-_0x435d7f:_0x2da419[_0x11f59b(0x16e)]===_0x11f59b(0x1c0)?_0x560014-_0x435d7f/0x2:_0x560014,'y1':_0x2da419['dy']<0x0?_0x4bbaf8-_0x27753c:_0x4bbaf8,'x2':_0x2da419[_0x11f59b(0x16e)]==='start'?_0x560014+_0x435d7f:_0x2da419[_0x11f59b(0x16e)]===_0x11f59b(0x1c0)?_0x560014+_0x435d7f/0x2:_0x560014,'y2':_0x2da419['dy']<0x0?_0x4bbaf8:_0x4bbaf8+_0x27753c};if(_0x5c001d['x1']<0x0)_0x2da419=_0x224908[0x0];else _0x5c001d['x2']>_0x19932b&&(_0x2da419=_0x224908[0x1]);if(_0x5c001d['y1']<0x0)_0x2da419=_0x224908[0x3];else _0x5c001d['y2']>_0x38e972&&(_0x2da419=_0x224908[0x2]);}var _0x28c1cf=svg[_0x11f59b(0x168)](_0x11f59b(0x165))[_0x11f59b(0x159)](_0x11f59b(0x1b0),_0x11f59b(0x191)+_0x1aa16b)[_0x11f59b(0x159)]('x',_0xcf9a7a+_0x2da419['dx'])[_0x11f59b(0x159)]('y',_0x3a6c75+_0x2da419['dy'])[_0x11f59b(0x159)](_0x11f59b(0x1c9),_0x2da419[_0x11f59b(0x16e)])[_0x11f59b(0x159)](_0x11f59b(0x208),_0x2da419['dy']<0x0?_0x11f59b(0x1d3):_0x11f59b(0x210))[_0x11f59b(0x165)](_0xbdb2a0[0x1])[_0x11f59b(0x1cd)](_0x11f59b(0x16c),_0x11f59b(0x219))[_0x11f59b(0x1cd)](_0x11f59b(0x20e),_0x11f59b(0x19c))[_0x11f59b(0x1cd)]('font-weight',_0x11f59b(0x207))['style']('fill',_0x11f59b(0x190));_0xa8fd40&&_0x28c1cf[_0x11f59b(0x218)](_0x11f59b(0x160),!![]);var _0x1adba4=_0x28c1cf[_0x11f59b(0x239)]()[_0x11f59b(0x1eb)]();_0x4bb8c7[_0x11f59b(0x205)]({'x1':_0x1adba4['x']-0x2,'y1':_0x1adba4['y']-0x2,'x2':_0x1adba4['x']+_0x1adba4[_0x11f59b(0x1d7)]+0x2,'y2':_0x1adba4['y']+_0x1adba4[_0x11f59b(0x1b5)]+0x2});}document['addEventListener']('DOMContentLoaded',function(){var _0x480a5e=_0x4f898b;const _0x5f1099=document['getElementById'](_0x480a5e(0x1db));_0x5f1099[_0x480a5e(0x184)]=medianLinesVisible?_0x480a5e(0x1bf):_0x480a5e(0x1d4);});
    </script>
  <script>



        // Global translation helper function
        function getTranslation(key, defaultText) {
            // Split the key into parts (e.g., "tooltip.xg-line-title" -> ["tooltip", "xg-line-title"])
            const keys = key.split('.');
            
            // Try to find the translation in the current language
            try {
                let currentTranslations = window.currentTranslations || {};
                for (const k of keys) {
                    if (currentTranslations && currentTranslations[k]) {
                        currentTranslations = currentTranslations[k];
                    } else {
                        return defaultText;
                    }
                }
                return currentTranslations;
            } catch (e) {
                return defaultText;
            }
        }
        
    
  function setLanguage(language) {
    localStorage.setItem('preferredLanguage', language);
    const url = new URL(window.location.href);
    if (language === 'en') {
      url.searchParams.delete('lang');
    } else {
      url.searchParams.set('lang', language);
    }
    window.history.pushState({}, '', url);
    applyLanguage(language);
  }
  
  function getPreferredLanguage() {
    // PRIORITY 1: Check URL parameter first
    const urlParams = new URLSearchParams(window.location.search);
    const langParam = urlParams.get('lang');
    if (langParam) {
      return langParam;
    }
    // PRIORITY 2: Check localStorage
    const storedLang = localStorage.getItem('preferredLanguage');
    if (storedLang) {
      return storedLang;
    }
    // PRIORITY 3: Use browser language
    return getBrowserLanguage() || 'en';
  }

  function getBrowserLanguage() {
    return navigator.language.slice(0, 2);
  }

  function applyLanguage(language) {
    console.log(language);

    if (language === 'en') {
      return;
    }

    
    fetch(`locales/${language}.json`)
      .then(response => {
        // Don't throw an error, just return null if response is not OK
        return response.ok ? response.json() : null;
      })
      .then(translations => {
        // Only proceed if translations exist
        if (translations) {
            window.currentTranslations = translations;
          document.querySelectorAll('[data-i18n]').forEach(element => {
            const keys = element.getAttribute('data-i18n').split('.');
            let value = translations;
            for (const key of keys) {
              if (value === undefined || value === null) break;
              value = value[key];
            }
            if (value) {
              if (element.tagName === 'META') {
              element.setAttribute('content', value);
          } else if (element.tagName === 'INPUT') {
              element.setAttribute('placeholder', value);
          } else if (value.includes('<')) {
              element.innerHTML = value;
          } else {
              element.textContent = value;
          }          }
          });
          // REMOVE FOR PAGES WITH NO METADATA
          document.querySelector('meta[name="language"]').setAttribute('content', language);
        }
      })
      .catch(() => {
        // Completely empty catch block to silently ignore any errors
      });
  }
  
  const preferredLanguage = getPreferredLanguage();
  applyLanguage(preferredLanguage);
  
  // BUTTON LANGUAGE SWITCHER REMOVE FOR PAGES WITH NO LANGUAGE SWITCHER
  document.addEventListener('DOMContentLoaded', function() {
    const languageButton = document.getElementById('languageButton');
    const languageDropdown = document.getElementById('languageDropdown');
    

    if (languageButton) {
      languageButton.addEventListener('click', function(e) {
        e.stopPropagation();
        languageDropdown.classList.toggle('show');
      });
    }
  
    document.querySelectorAll('.language-option').forEach(option => {
      option.addEventListener('click', function(e) {
        e.preventDefault();
        const lang = this.getAttribute('href').split('=')[1];
        setLanguage(lang);
        languageDropdown.classList.remove('show');
      });
    });
  
    document.addEventListener('click', function(event) {
      if (!event.target.closest('.language-switcher-container')) {
        if (languageDropdown) {
          languageDropdown.classList.remove('show');
        }
      }
    });
  });


function toggleDarkMode() {
            const body = document.querySelector("body");
            body.classList.toggle("dark-mode");
            
            // Store the user's preference in local storage
            const isDarkMode = body.classList.contains("dark-mode");
            localStorage.setItem("darkMode", isDarkMode);
            
            // Update chart to apply dark mode styles to SVG elements
        }
        
        // Check if user has a stored preference for dark mode
        document.addEventListener('DOMContentLoaded', function() {
            const storedDarkMode = localStorage.getItem("darkMode");
            
            if (storedDarkMode === "true") {
                const body = document.querySelector("body");
                body.classList.add("dark-mode");
            }
            
 
        });
        
        function takeScreenshot() {
            const chartContainer = document.querySelector('.chart-container');
            const isDarkMode = document.body.classList.contains('dark-mode');
            
            html2canvas(chartContainer, {
                scale: 2, // Higher quality
                backgroundColor: isDarkMode ? '#2c2c2c' : '#FFFFFF',
                allowTaint: true,
                useCORS: true,
                logging: false
            }).then(function(renderedCanvas) {
                const finalCanvas = document.createElement('canvas');
                finalCanvas.width = renderedCanvas.width;
                finalCanvas.height = renderedCanvas.height;
                const finalCtx = finalCanvas.getContext('2d');
                finalCtx.drawImage(renderedCanvas, 0, 0);
                
                // Load the watermark
                const watermarkImg = new Image();
                watermarkImg.crossOrigin = "Anonymous";
                
                watermarkImg.onload = function() {
                    const watermarkWidth = finalCanvas.width * 0.3;
                    const watermarkHeight = (watermarkWidth / watermarkImg.width) * watermarkImg.height;
                    
                    const x = (finalCanvas.width - watermarkWidth) / 2;
                    const y = (finalCanvas.height - watermarkHeight) / 2;
                    
                    finalCtx.save();
                    finalCtx.globalAlpha = 0.04;
                    finalCtx.drawImage(watermarkImg, x, y, watermarkWidth, watermarkHeight);
                    finalCtx.restore();
                    
                    const dataURL = finalCanvas.toDataURL('image/png', 1.0);
                    const link = document.createElement('a');
                    link.download = 'DataMB Screenshot.png';
                    link.href = dataURL;
                    link.click();
                };
                watermarkImg.src = 'https://datamb.football/logo.png';
            }).catch(function(error) {
            });
        }
        
    </script>
         <center>
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7677714701428206"
                 crossorigin="anonymous"></script>
            <!-- radarplotsearch -->
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-7677714701428206"
                 data-ad-slot="6673239737"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script></center>
</body>
</html>
