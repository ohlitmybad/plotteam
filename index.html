<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <meta name="language" content="en">
    <link rel="canonical" href="https://datamb.football/plotteam/" />
<link rel="alternate" hreflang="x-default" href="https://datamb.football/plotteam"/>
<link rel="alternate" hreflang="en" href="https://datamb.football/plotteam/?lang=en" />
    <link rel="shortcut icon" type="image/x-icon" href="https://datamb.football/favicon.ico">
    <meta name="description" data-i18n="meta.description" content="Plot Top 7 League team statistics. Visualize team performance and analyze multiple metrics such as Goals, Goals conceded, xG, Shots on target, Pressing, Defensive duels, Pass completion and more for teams in Premier League, La Liga, Bundesliga, Serie A, Ligue 1, Eredivisie, Primeira Liga.">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@DataMB_">
    <meta name="twitter:title" content="DataMB | Plot Teams">
    <meta name="twitter:description" content="Generate scatter plots for Top 7 League teams">
    <meta name="twitter:image" content="https://datamb.football/vignettes/teamplots.png">
    <meta property="og:image" content="https://datamb.football/vignettes/teamplots.png">
    <title data-i18n="meta.title">DataMB | Plot Teams</title>
    <script>
        (function() {
            var width = window.innerWidth;
            var viewportMeta = document.querySelector('meta[name="viewport"]');
            if (viewportMeta) {
      if (width < 645) {
                
            var initialScale = width / 645;
      viewportMeta.setAttribute('content', 'width=device-width, initial-scale=' + initialScale + ', user-scalable=no');
      } else {
                  var fixedScale = 1;
          viewportMeta.setAttribute('content', 'width=device-width, initial-scale=' + fixedScale + ', user-scalable=no');
      
        }
          } 
      })();
      </script>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --background-color: #f5f7fa;
            --container-bg: #ffffff;
            --text-color: #333333;
            --border-color: #e0e0e0;
            --hover-color: #f0f0f0;
            --button-color: #3498db;
            --button-text: #ffffff;
            --header-bg: #ffffff;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .dark-mode {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --background-color: #0e0f0f;
            --container-bg: #1a1a1a;
            --text-color: #e0e0e0;
            --border-color: #333333;
            --hover-color: #252525;
            --button-color: #2980b9;
            --button-text: #ffffff;
            --header-bg: #0e0f0f;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s;
        }

        .header {
            background-color: var(--header-bg);
            display: flex;
            padding: 20px;
            align-items: center;
            justify-content: space-between;
            box-shadow: var(--shadow);
            position: relative;
            font-family: system-ui;
            top: 0;
            z-index: 100;
        }


        .container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
            box-sizing: border-box;
        }

        /* Replace plot-container with a simpler structure */
        .chart-wrapper {
            background-color: var(--container-bg);
            border-radius: 10px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 30px;
            position: relative;
            width: 100%;
        }

        .legend {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            padding: 10px;
            border-top: 1px solid var(--border-color);
            width: 100%;
        }

        .legend-item {
            display: flex;
            align-items: center;
            font-size: 12px;
        }

        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 5px;
            border: 1px solid rgba(0, 0, 0, 0.2);
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 20px;
            justify-content: center;
            align-items: center;
        }

        select, input {
            padding: 8px 12px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            background-color: var(--container-bg);
            color: var(--text-color);
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            transition: border-color 0.2s;
            height: 36px;
            box-sizing: border-box;
        }

        select:focus, input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        /* Ensure consistent height for controls in the same row */
        select, input, .btn:not(.btn-icon), .custom-select-trigger, .metric-select-trigger {
            height: 36px;
            box-sizing: border-box;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            background-color: var(--button-color);
            color: var(--button-text);
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
            height: 36px;
            box-sizing: border-box;
        }

        .btn:hover {
            background-color: #2980b9;
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-color);
        }

        .btn-outline:hover {
            background-color: var(--hover-color);
        }

        .btn-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            padding: 0;
            border-radius: 6px;
        }

        #search-bar, #select-league {
            width: 178px;
        }

        #select-x, #select-y {
            width: 190px;
        }

        /* Add tooltip for icon buttons */
        .btn-icon .icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
        }

        .btn-icon i {
            font-size: 18px;
        }
        .chart-container {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            margin-top: 30px; /* Consistent spacing from controls */
        }

        #scatter-plot {
            width: 100%;
            height: auto; /* Height will be set dynamically */
            display: block;
            margin: 0 auto;
            max-width: 1082px;
        }
        
  

        .tooltip {
            position: absolute;
            background-color: var(--container-bg);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 10px;
            font-size: 12px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
            box-shadow: var(--shadow);
            z-index: 1000;
        }

        /* Custom button tooltips */
        .btn-tooltip {
            position: relative;
            display: inline-block;
        }

        .btn-tooltip .btn-tooltip-text {
            visibility: hidden;
            width: 120px;
            background-color: var(--container-bg);
            color: var(--text-color);
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1001;
            bottom: 125%;
            left: 50%;
            margin-left: -60px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 12px;
            font-weight: normal;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            pointer-events: none;
        }

        /* Hide button tooltips on mobile */
        @media (max-width: 768px) {
            .btn-tooltip .btn-tooltip-text {
                display: none;
            }
        }

        .btn-tooltip .btn-tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--border-color) transparent transparent transparent;
        }

        .btn-tooltip:hover .btn-tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        .player-name {
            font-size: 12px;
            font-weight: 500;
        }

        circle {
            cursor: pointer;
            transition: r 0.2s, fill 0.2s;
        }


        /* Add new styles for better search highlighting */
        circle.search-match {
            fill: #ff3366 !important; /* Bright pink fill */
            stroke: #ffffff;
            stroke-width: 2px;
            filter: drop-shadow(0 0 5px rgba(255, 51, 102, 0.7));
            animation: circlePulse 1.5s infinite ease-in-out;
        }

        .dark-mode circle.search-match {
            stroke: #000000;
        }

        @keyframes circlePulse {
            0% { r: 6; }
            50% { r: 9; }
            100% { r: 6; }
        }

        .team-label.search-match {
            font-weight: 700 !important;
            fill: #ff3366 !important;
            filter: drop-shadow(0 0 2px rgba(255, 255, 255, 1));
            opacity: 1 !important;
            animation: labelPulse 1.5s infinite ease-in-out;
        }

        @keyframes labelPulse {
            0% { font-size: 12px; }
            50% { font-size: 14px; }
            100% { font-size: 12px; }
        }

        .dark-mode .team-label.search-match {
            filter: drop-shadow(0 0 2px rgba(0, 0, 0, 1));
        }

        .team-label.search-dimmed {
            opacity: 0 !important;
        }

        .team-label {
            pointer-events: none;
            text-shadow: 0px 0px 2px white, 0px 0px 2px white, 0px 0px 2px white, 0px 0px 2px white;
        }

        .dark-mode .team-label {
            fill: #f5f5f5 !important;
            text-shadow: 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a;
        }

        .dark-mode-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--container-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--shadow);
            z-index: 100;
            transition: background-color 0.3s;
        }

        .dark-mode-toggle.mobile-only {
            position: fixed;
            bottom: 20px;
            right: 20px;
        }

        .dark-mode-toggle.pc-only {
            position: relative;
            bottom: auto;
            right: auto;
        }

        .pc-only {
            display: flex;
        }

        .mobile-only {
            display: none;
        }

        .toggle-icon::before {
            font-family: "Ionicons";
            content: "\f467";
            font-size: 30px;
            color: var(--text-color);
        }

        .dark-mode .toggle-icon::before {
            content: "\f3b0";
            font-size: 20px;
        }

        @media (max-width: 768px) {
            .pc-only {
                display: none;
            }
            
            .mobile-only {
                display: flex;
            }
  
            
  .chart-wrapper {
      padding: 15px;
  }
  
  
  /* Remove fixed height for scatter plot - now handled by updateChartDimensions */
  #scatter-plot {
      min-height: 500px; /* Minimum height for mobile */
  }
  
  select, input {
      width: 100%;
  }
  
  
  /* Make text elements more readable on mobile */
  .x-label, .y-label {
      font-size: 12px;
  }
  
  /* Adjust tooltip position for mobile */
  .tooltip {
      max-width: 80%;
  }
}

        /* Styles for the diagonal reference line */
        .dark-mode .xy-line {
            stroke: #3cb371; /* Slightly different green for dark mode */
        }


  
  .search-input-modal {
      display: none;
      position: fixed; 
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7); 
      z-index: 999; 
  }
  
  .search-input-container {
      position: absolute;
      top: 30%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #fff;
      padding: 20px;
      border-radius: 4px;
      z-index: 1000; 
  }
  
  #searchInput {
              width: 370px;
              padding: 12px;
              border: 3px solid #ccc;
              border-radius: 4px;
              font-size: 18.3px;
              outline: none;
              height: 50px;
              color: #000000;
              background-color: #fff;
              ;          }
  
          #autocompleteBox {
              width: 370px;
              max-height: 150px;
              overflow-y: auto;
              background-color: #fff;
          }
  
  
          #autocompleteBox ul {
              list-style: none;
              padding: 0;
              margin: 0;
          }
  
          #autocompleteBox li {
              margin: 0;
              padding: 5px;
          }
  
          #autocompleteBox {
              line-height: 2; 
              text-align: center !important;
  
          }
  
          #autocompleteBox a {
              text-decoration: none;
              font-family: Arial, sans-serif;
              text-align: center !important;
              color: #333 !important;
              cursor: pointer; 
          }
  
          #autocompleteBox li:hover {
              background-color: #f0f0f0;
          }
          #searchButton3 {
            padding: 8.5px;  /* Reduced from 10px */
  background-color: #0074d9;
  color: #fff;
  border: none;
  width: 34px;  /* Reduced from 40px */
  height: 34px;  /* Reduced from 40px */
  border-radius: 50%;
  cursor: pointer;
  font-size: 17px;  /* Reduced from 20px */
  }


  body.dark-mode .header .button10 {
      color: #aeaeae;
}
body.dark-mode .header .button10:hover {
  color: #2563eb;
background-color: #ffffff;
}

    body.dark-mode header a {
      color: #aeaeae;
}

body.dark-mode .header .logo img {
  opacity: 0.88;
}


body.dark-mode .language-button {
      background-color: #0F0F0E;
      color: #aeaeae;
}


  

.header .logo {
  display: flex;
  align-items: center;
  margin-right: auto; /* Push logo to the left */
}

.header .logo img {
  height: 34px;
  width: auto;
  opacity: 0.84;
}
.header .logo-text {
  margin-left: 10px;
  font-size: 23px;
  font-weight: 600;
  transform: translateY(-1.1px); /* Move logo text slightly higher */
}

.header .navigation {
  display: flex;
  align-items: center;
  gap: 25px; /* Reduced gap between buttons */
  position: absolute;
  left: 50%;
  transform: translateX(-50%) translateY(-2px); /* Center the navigation and move it higher */
}



.header .button10 {
  padding: 0.5rem 1rem;
  text-decoration: none;
  color: #333;
  line-height: 1.6;
  border-radius: 4px;
  transition: background-color 0.2s;
  font-size: 1.1rem;  /* Added larger font size */
}


.header .button10:hover {
  background-color: #f0f0f0;
  color: #2563eb;

}



/* Group search and language buttons */
.header-right {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-left: auto; /* Push buttons to the right */
  transform: translateY(-1.25px); /* Move search and language buttons higher */
}

header a {
      color: black;
      text-decoration: none;
    }

    .language-switcher-container {
  position: relative;
  display: none;
}

.language-button {
  background: none;
  border: none;
  cursor: pointer;
  padding: 10px;
  color: #444444;
  display: flex;
  align-items: center;
  font-size: 17px;
}

.language-button iconify-icon {
  font-size: 24px;
  opacity: 0.7;
}

.language-dropdown {
  display: none;
  position: absolute;
  top: 100%;
  right: 0;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  padding: 10px;
  width: 200px;
  z-index: 1000;
}

.language-option {
  display: flex;
  align-items: center;
  padding: 8px 12px;
  cursor: pointer;
  border-radius: 4px;
  color: #444444;
  text-decoration: none;
}



.language-option iconify-icon {
  margin-right: 10px;
  font-size: 20px;
}

.language-dropdown.show {
  display: block;
}

/* Styles for flag icons in select dropdown */
#select-league option {
    display: flex;
    align-items: center;
    padding: 8px 12px;
}

#select-league iconify-icon {
    display: inline-flex;
    vertical-align: middle;
}

/* Styles for custom league selector dropdown */
.custom-select-container {
    position: relative;
    width: 172px;
}

.metric-select-container {
    position: relative;
    width: 192px;
}

.custom-select-option, .metric-select-option {
    display: flex;
    align-items: center;
    padding: 8px 16px;
    cursor: pointer;
    color: var(--text-color);
    background-color: var(--container-bg);
}


.custom-select-option iconify-icon, .metric-select-option iconify-icon {
    margin-right: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.custom-select-trigger, .metric-select-trigger {
    display: flex;
    align-items: center;
    padding: 0 12px;
    border: 1px solid var(--border-color);
    border-radius: 6px;
    background-color: var(--container-bg);
    color: var(--text-color);
    font-family: 'Inter', sans-serif;
    font-size: 14px;
    cursor: pointer;
    user-select: none;
    position: relative;
    line-height: 1;
}

.custom-select-trigger span, .metric-select-trigger span {
    display: inline-block;
    transform: translateY(1px);
    white-space: nowrap;
    overflow: hidden;
    max-width: calc(100% - 20px); /* Account for the icon width and margin */
    line-height: normal; /* Ensure consistent line height */    
}


/* Make the league selector span 30px smaller */
#league-select-trigger span {
    max-width: calc(100% - 45px); /* 20px + 30px reduction */
}

.custom-select-trigger::after, .metric-select-trigger::after {
    content: '';
    width: 6px;
    height: 6px;
    margin-left: auto;
    border-right: 1.5px solid var(--text-color);
    border-bottom: 1.5px solid var(--text-color);
    transform: rotate(45deg) translateY(-2px);
    transition: transform 0.3s;
    opacity: 0.7;
    margin-right: 2px;
}

.custom-select-trigger.open::after, .metric-select-trigger.open::after {
    transform: rotate(-135deg) translateY(1px);
}

.custom-select-options, .metric-select-options {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background-color: var(--container-bg);
    border: 1px solid var(--border-color);
    border-radius: 6px;
    margin-top: 4px;
    max-height: 300px;
    overflow-y: auto;
    z-index: 100;
    font-size: 13px;
    display: none;
    box-shadow: var(--shadow);
}


.custom-select-option:hover, .metric-select-option:hover {
    background-color: var(--hover-color);
}



.custom-select-option.selected {
    background-color: var(--primary-color);
    color: white;
}

.metric-select-option.selected {
    background-color: var(--primary-color);
    color: white;
}


.dark-mode .custom-select-option:hover {
    background-color: var(--hover-color);
}

.dark-mode .custom-select-option.selected {
    background-color: var(--primary-color);
    color: white;
}

@media (max-width: 768px) {
    .custom-select-option {
        padding: 6px 12px;
    }
}

body.dark-mode .language-button:hover {
      background-color: #0F0F0E;
      color: #aeaeae;
}

body.dark-mode .language-dropdown {
  background: #e8e6e6;
}

body.dark-mode .language-option {
  color: #000000;
}

/* Dark mode styles for custom dropdown */
.dark-mode .custom-select-trigger,
.dark-mode .custom-select-options,
.dark-mode .metric-select-trigger,
.dark-mode .metric-select-options {
    border-color: var(--border-color);
    background-color: var(--container-bg);
    color: var(--text-color);
}

.dark-mode .custom-select-option:hover,
.dark-mode .metric-select-option:hover {
    background-color: var(--hover-color);
}

.dark-mode .custom-select-option.selected,
.dark-mode .metric-select-option.selected {
    background-color: rgba(52, 152, 219, 0.2);
}

/* Adjust flag icon alignment in the trigger */
#league-select-trigger iconify-icon {
    margin-right: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transform: translateY(-1px);
}
@media screen and (max-width: 550px) { .header .navigation { display: none; } }

        /* Enhanced Dark Mode Styles */
        .dark-mode .chart-wrapper {
            background-color: var(--container-bg);
            border: 1px solid #333;
        }

        .dark-mode .btn {
            background-color: var(--button-color);
        }

        .dark-mode .btn-outline {
            background-color: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-color);
        }

        .dark-mode .btn-outline:hover {
            background-color: var(--hover-color);
            border-color: #444;
        }


        .dark-mode input, 
        .dark-mode select {
            background-color: #1a1a1a;
            color: var(--text-color);
            border-color: #333;
        }

        .dark-mode input::placeholder {
            color: #777;
        }

        .dark-mode input:focus, 
        .dark-mode select:focus {
            border-color: var(--primary-color);
            outline: none;
        }

        .dark-mode .tooltip {
            background-color: #1a1a1a;
            border-color: #333;
            color: var(--text-color);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .legend {
            border-top-color: #333;
        }

        .dark-mode .legend-item {
            color: #ccc;
        }

        .dark-mode .btn-tooltip .btn-tooltip-text {
            background-color: #1a1a1a;
            border-color: #333;
            color: #e0e0e0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .btn-tooltip .btn-tooltip-text::after {
            border-color: #333 transparent transparent transparent;
        }

        .dark-mode .team-label {
            fill: #e0e0e0 !important;
            text-shadow: 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f;
        }

        .dark-mode .x-axis path,
        .dark-mode .y-axis path,
        .dark-mode .x-axis line,
        .dark-mode .y-axis line {
            stroke: #444;
        }

        .dark-mode .x-axis text,
        .dark-mode .y-axis text {
            fill: #aaa;
        }

        .dark-mode .x-label,
        .dark-mode .y-label {
            fill: #ccc;
        }

        .dark-mode .median-line {
            stroke: rgba(255, 255, 255, 0.2) !important;
        }

        .dark-mode .xy-line {
            stroke: #2ecc71;
            opacity: 0.8;
        }

        .dark-mode .dark-mode-toggle {
            background-color: #1a1a1a;
            border: 1px solid #333;
        }

        .dark-mode .toggle-icon::before {
            color: #e0e0e0;
        }

 



        .dark-mode #searchButton3 {
            background-color: #0074d9;
            color: #fff;
        }


        .dark-mode .header .button10 {
            color: #aaa;
        }

        .dark-mode .header .button10:hover {
            color: #2563eb;
            background-color: #1a1a1a;
        }

        .dark-mode header a {
            color: #aaa;
        }

        .dark-mode .header .logo img {
            opacity: 0.9;
            filter: brightness(0.9);
        }

        .dark-mode .language-button {
            background-color: #0e0f0f;
            color: #aaa;
        }

        .dark-mode .language-button:hover {
            background-color: #1a1a1a;
        }

        .dark-mode .language-dropdown {
            background: #1a1a1a;
            border: 1px solid #333;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .language-option {
            color: #e0e0e0;
        }

        .dark-mode .language-option:hover {
            background-color: #252525;
        }

        .dark-mode #search-bar::placeholder {
            color: #777;
        }

        .dark-mode circle {
            stroke-width: 1px;
        }

        .dark-mode circle.search-match {
            fill: #ff3366 !important;
            stroke: #0e0f0f;
            stroke-width: 2px;
            filter: drop-shadow(0 0 5px rgba(255, 51, 102, 0.7));
        }

  
        
        /* Additional dark mode styles for chart elements */
        .dark-mode .chart-container {
            background-color: var(--container-bg);
        }
        
  
        
    
        
        
        /* Fix for custom select dropdown in dark mode */
        .dark-mode .custom-select-trigger::after, 
        .dark-mode .metric-select-trigger::after {
            border-right: 1.5px solid var(--text-color);
            border-bottom: 1.5px solid var(--text-color);
        }
        
        /* Improve contrast for selected items in dark mode */
        .dark-mode .custom-select-option.selected, 
        .dark-mode .metric-select-option.selected {
            background-color: rgba(52, 152, 219, 0.3);
        }
        
        /* Improve visibility of SVG elements in dark mode */
        .dark-mode svg text {
            fill: #ccc;
        }
        
        .dark-mode .legend-color {
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        /* Improve button states in dark mode */
        .dark-mode .btn:hover {
            background-color: #3498db;
        }
        
        .dark-mode .btn-outline:active {
            background-color: #333;
        }
        
        /* Improve focus states for accessibility */
        .dark-mode input:focus,
        .dark-mode select:focus,
        .dark-mode .btn:focus {
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.5);
        }
        
        /* Fix for buttons staying focused with blue outline */
        button:focus, 
        .btn:focus, 
        select:focus, 
        input:focus {
            outline: none;
        }
        
        /* Custom focus styles for better accessibility */
        button:focus-visible, 
        .btn:focus-visible, 
        select:focus-visible, 
        input:focus-visible {
            outline: none;
            box-shadow: 0 0 0 2px var(--primary-color);
        }
        
        /* Remove focus styles when using mouse */
        button:focus:not(:focus-visible), 
        .btn:focus:not(:focus-visible), 
        select:focus:not(:focus-visible), 
        input:focus:not(:focus-visible) {
            box-shadow: none;
        }



.logo img {
  width: 50px;
  height: 50px;
}

/* Promo links styling */
.promo-links-container {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
    margin: 15px auto 25px;
    max-width: 800px;
    flex-wrap: wrap;
    padding: 0 20px;
}

.promo-link {
    display: flex;
    align-items: center;
    padding: 10px 15px;
    background-color: var(--container-bg);
    color: var(--text-color);
    text-decoration: none;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    transition: all 0.3s ease;
    box-shadow: var(--shadow);
    font-weight: 500;
    flex: 1;
    min-width: 220px;
    max-width: 350px;
    justify-content: center;
}

.promo-link iconify-icon {
    margin-right: 8px;
}

.promo-link:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.radar-link {
    border-left: 4px solid #3498db;
}

.pro-link {
    border-left: 4px solid #f39c12;
}

.dark-mode .radar-link {
    border-left: 4px solid #2980b9;
}

.dark-mode .pro-link {
    border-left: 4px solid #d35400;
}

@media (max-width: 768px) {
  

    
    select, input {
        width: 100%;
    }
    
    /* Make text elements more readable on mobile */
    .x-label, .y-label {
        font-size: 12px;
    }
    
    /* Adjust tooltip position for mobile */
    .tooltip {
        max-width: 80%;
    }
    
    /* Adjust promo links for mobile */
    .promo-links-container {
        flex-direction: column;
        align-items: center;
        gap: 10px;
        padding: 0 15px;
    }
}


.custom-select-option {
    -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            
}
        /* Disable text selection for SVG text elements */
        svg text, .legend,
        .x-label,
        .y-label,
        .team-label,
        .player-name,
        .x-axis text,
        .y-axis text {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            pointer-events: none;
        }


    </style>

  <header class="header">
    <div class="logo">
      <a href="https://datamb.football">
        <img src="https://datamb.football/logo.png" alt="Football team statistics comparison. Radar comparison tool. Visualise and compare team data from the top 7 leagues : Premier League, La Liga, Bundesliga, Serie A, Ligue 1, Eredivisie, Primeira Liga" /></a>
        <div class="logo-text"><a href="https://datamb.football">&nbsp;Teams</a></div>
    </div>
    <nav class="navigation">
      <a href="https://datamb.football/teams" class="button10" data-i18n="header.home">Home</a>
      <a href="https://datamb.football/join" class="button10" data-i18n="header.pro">Pro</a>
      <a href="https://datamb.football/guide" class="button10" data-i18n="header.guide">Guide</a>
    </nav>
    <div class="header-right">
    <div class="search-container">
      <button id="searchButton3"><iconify-icon icon="ion:search-outline"></iconify-icon></button>
  </div>
    <div class="language-switcher-container">
      <button class="language-button" id="languageButton">
        <iconify-icon icon="heroicons:globe-alt"></iconify-icon>
      </button>
      <div class="language-dropdown" id="languageDropdown">
        <a href="?lang=en" class="language-option"><iconify-icon icon="flag:gb-4x3"></iconify-icon>English</a>
      </div>
    </div></div>
  </header>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7677714701428206"
     crossorigin="anonymous"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PSBMXX80EF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-PSBMXX80EF');
</script>
</head>
<div class="search-input-modal" id="searchInputModal">
    <div class="search-input-container">
        <input type="text" id="searchInput" data-i18n="search.placeholder" placeholder="Enter a team or player name...">
        <div id="autocompleteBox"></div>
    </div>
</div>
<script>
    const xhr1 = new XMLHttpRequest();
  xhr1.open('GET', 'https://datamb.football/database/searchbar.csv', false); // false for synchronous request
  xhr1.send(null);
  
  let dataCSV = xhr1.responseText;
    
function _0x5707(_0xd20fa7,_0x4d36b5){const _0x4dcd69=_0x4dcd();return _0x5707=function(_0x57077a,_0xde96b9){_0x57077a=_0x57077a-0x140;let _0x383e81=_0x4dcd69[_0x57077a];return _0x383e81;},_0x5707(_0xd20fa7,_0x4d36b5);}const _0xedf2b2=_0x5707;(function(_0x16e1b0,_0x125833){const _0x222c5a=_0x5707,_0x3f540c=_0x16e1b0();while(!![]){try{const _0x3105f2=parseInt(_0x222c5a(0x161))/0x1+parseInt(_0x222c5a(0x144))/0x2+parseInt(_0x222c5a(0x148))/0x3+-parseInt(_0x222c5a(0x155))/0x4+parseInt(_0x222c5a(0x141))/0x5*(-parseInt(_0x222c5a(0x145))/0x6)+-parseInt(_0x222c5a(0x157))/0x7+parseInt(_0x222c5a(0x14b))/0x8*(parseInt(_0x222c5a(0x159))/0x9);if(_0x3105f2===_0x125833)break;else _0x3f540c['push'](_0x3f540c['shift']());}catch(_0x450250){_0x3f540c['push'](_0x3f540c['shift']());}}}(_0x4dcd,0x1bc51));const dataLines=dataCSV[_0xedf2b2(0x160)]('\x0a'),searchButton3=document[_0xedf2b2(0x142)]('searchButton3'),searchInputModal=document[_0xedf2b2(0x142)](_0xedf2b2(0x14a)),searchInput=document[_0xedf2b2(0x142)](_0xedf2b2(0x143)),autocompleteBox=document[_0xedf2b2(0x142)](_0xedf2b2(0x162)),data11=dataLines[_0xedf2b2(0x146)](_0x19546c=>{const _0x89300c=_0xedf2b2,[_0x5af128,_0x515bec]=_0x19546c[_0x89300c(0x160)](',');return{'name':_0x5af128,'link':_0x515bec};});function removeDiacritics(_0x3ed1af){const _0x202611=_0xedf2b2,_0x4b45cf={'ø':'o','Ø':'O','ı':'i'};return _0x3ed1af=_0x3ed1af[_0x202611(0x147)](/[øØıI]/g,_0x19f74a=>_0x4b45cf[_0x19f74a]),_0x3ed1af[_0x202611(0x15d)]('NFD')[_0x202611(0x147)](/[\u0300-\u036f]/g,'');}function search2(_0x1db14d){const _0x26c944=_0xedf2b2;autocompleteBox[_0x26c944(0x15e)]='';const _0x321867=removeDiacritics(_0x1db14d)[_0x26c944(0x147)](/[^\w\s]/g,'')[_0x26c944(0x149)](),_0x3ad89e=data11[_0x26c944(0x15c)](_0xb995bf=>{const _0x3866b0=_0x26c944,_0x2b7de7=removeDiacritics(_0xb995bf[_0x3866b0(0x14e)])['replace'](/[^\w\s]/g,'')[_0x3866b0(0x149)]();return _0x2b7de7['includes'](_0x321867);});if(_0x3ad89e[_0x26c944(0x163)]===0x0){autocompleteBox[_0x26c944(0x152)][_0x26c944(0x14c)]='none';return;}_0x3ad89e[_0x26c944(0x151)](_0x4b9def=>{const _0x31eeb1=_0x26c944,_0x505ab8=document[_0x31eeb1(0x14d)]('div'),_0x3a2d70=document[_0x31eeb1(0x14d)]('a');_0x3a2d70['href']=_0x4b9def[_0x31eeb1(0x154)],_0x3a2d70[_0x31eeb1(0x150)]=_0x4b9def[_0x31eeb1(0x14e)],_0x505ab8[_0x31eeb1(0x15b)](_0x3a2d70),autocompleteBox[_0x31eeb1(0x15b)](_0x505ab8);}),autocompleteBox['style'][_0x26c944(0x14c)]=_0x26c944(0x153);}searchButton3[_0xedf2b2(0x156)](_0xedf2b2(0x14f),()=>{const _0x350b96=_0xedf2b2;searchInputModal['style'][_0x350b96(0x14c)]=_0x350b96(0x153);}),searchInput['addEventListener'](_0xedf2b2(0x158),()=>{const _0x122364=_0xedf2b2,_0x1aac33=searchInput['value'];_0x1aac33[_0x122364(0x140)]()===''?autocompleteBox[_0x122364(0x152)][_0x122364(0x14c)]='none':search2(_0x1aac33);}),document['addEventListener']('click',_0x17873a=>{const _0x2c2a21=_0xedf2b2;_0x17873a[_0x2c2a21(0x15a)]===searchInputModal&&(searchInputModal[_0x2c2a21(0x152)][_0x2c2a21(0x14c)]=_0x2c2a21(0x15f));});function _0x4dcd(){const _0x3abacf=['forEach','style','block','link','165476bdcaHI','addEventListener','430668iEzpyY','input','90cmGEmO','target','appendChild','filter','normalize','innerHTML','none','split','102625kyWWmb','autocompleteBox','length','trim','5KymJaR','getElementById','searchInput','423476PJmBDe','1170534HGXHHf','map','replace','60222cRWbFM','toLowerCase','searchInputModal','61832bbygIm','display','createElement','name','click','textContent'];_0x4dcd=function(){return _0x3abacf;};return _0x4dcd();}
  
  
  
  </script>


<body>
    <div class="container">
        <div class="chart-wrapper">
            <div class="controls">
                <select id="select-x" style="display: none;"></select>
                <select id="select-y" style="display: none;"></select>
                <select id="select-league" style="display: none;" onchange="updateChart()">
                    <option value="all">Top 7 Leagues</option>
                    <option value="Top 5 Leagues">Top 5 Leagues</option>
                    <option value="Premier League">Premier League</option>
                    <option value="La Liga">La Liga</option>
                    <option value="Bundesliga">Bundesliga</option>
                    <option value="Serie A">Serie A</option> 
                    <option value="Ligue 1">Ligue 1</option>
                    <option value="Eredivisie">Eredivisie</option>
                    <option value="Primeira Liga">Liga Portugal</option>
                </select>
                
                <!-- Custom X metric selector -->
                <div class="metric-select-container">
                    <div class="metric-select-trigger" id="x-metric-trigger">
                        <span data-i18n="metrics.goals-per-90">Goals per 90</span>
                    </div>
                    <div class="metric-select-options" id="x-metric-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Custom Y metric selector -->
                <div class="metric-select-container">
                    <div class="metric-select-trigger" id="y-metric-trigger">
                        <span data-i18n="metrics.xg-per-90">xG per 90</span>
                    </div>
                    <div class="metric-select-options" id="y-metric-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Custom league selector with flag icons -->
                <div class="custom-select-container">
                    <div class="custom-select-trigger" id="league-select-trigger">
                        <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                        <span data-i18n="leagues.top7">Top 7 Leagues</span>
                    </div>
                    <div class="custom-select-options" id="league-select-options">
                        <div class="custom-select-option selected" data-value="all">
                            <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                            <span data-i18n="leagues.top7">Top 7 Leagues</span>
                        </div>
                        <div class="custom-select-option" data-value="Top 5 Leagues">
                            <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                            <span data-i18n="leagues.top5">Top 5 Leagues</span>
                        </div>
                        <div class="custom-select-option" data-value="Premier League">
                            <iconify-icon icon="emojione:flag-for-united-kingdom" width="18" height="18"></iconify-icon>
                            <span>Premier League</span>
                        </div>
                        <div class="custom-select-option" data-value="La Liga">
                            <iconify-icon icon="emojione:flag-for-spain" width="18" height="18"></iconify-icon>
                            <span>La Liga</span>
                        </div>
                        <div class="custom-select-option" data-value="Bundesliga">
                            <iconify-icon icon="emojione:flag-for-germany" width="18" height="18"></iconify-icon>
                            <span>Bundesliga</span>
                        </div>
                        <div class="custom-select-option" data-value="Serie A">
                            <iconify-icon icon="emojione:flag-for-italy" width="18" height="18"></iconify-icon>
                            <span>Serie A</span>
                        </div>
                        <div class="custom-select-option" data-value="Ligue 1">
                            <iconify-icon icon="emojione:flag-for-france" width="18" height="18"></iconify-icon>
                            <span>Ligue 1</span>
                        </div>
                        <div class="custom-select-option" data-value="Eredivisie">
                            <iconify-icon icon="emojione:flag-for-netherlands" width="18" height="18"></iconify-icon>
                            <span>Eredivisie</span>
                        </div>
                        <div class="custom-select-option" data-value="Primeira Liga">
                            <iconify-icon icon="emojione:flag-for-portugal" width="18" height="18"></iconify-icon>
                            <span>Liga Portugal</span>
                        </div>
                    </div>
                </div>
                
                <input type="text" id="search-bar" data-i18n="search.placeholder2" placeholder="Search team...">
                <div class="btn-tooltip">
                    <button id="toggle-median-lines" class="btn btn-outline btn-icon">
                        <div class="icon">
                            <i class="ion-stats-bars"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" id="median-lines-tooltip" data-i18n="tooltip.median-lines">Show median lines</span>
                </div>
                <div class="btn-tooltip">
                    <button class="btn btn-outline btn-icon" id="select-all-button" onclick="selectAllCircles()">
                        <div class="icon">
                            <i class="ion-ios-circle-filled" id="select-icon"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" id="select-all-tooltip" data-i18n="tooltip.select-all">Select all teams</span>
                </div>
                <div class="btn-tooltip">
                    <button class="btn btn-outline btn-icon" onclick="takeScreenshot()">
                        <div class="icon">
                            <i class="ion-camera"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" data-i18n="tooltip.screenshot">Download chart as image</span>
                </div>
            </div>
       
            <div class="chart-container">
              <svg id="scatter-plot"></svg>
            </div>

            <div class="legend" id="league-legend">
              <!-- Legend items will be added here dynamically -->
            </div>
        </div>

        <div class="promo-links-container">
            <a href="https://datamb.football/teamradars" class="promo-link radar-link">
                <iconify-icon icon="mdi:radar" width="20" height="20"></iconify-icon>
                <span data-i18n="promo.radar-link">Compare Teams with Radars</span>
            </a>
            <a href="https://datamb.football/join" class="promo-link pro-link">
                <iconify-icon icon="mdi:account-star" width="20" height="20"></iconify-icon>
                <span data-i18n="promo.pro-link">Get Pro for Player Plots</span>
            </a>
            <div class="dark-mode-toggle pc-only" onclick="toggleDarkMode()">
                <div class="toggle-icon"></div>
            </div>
        </div>
    </div>

    <div class="dark-mode-toggle mobile-only" onclick="toggleDarkMode()">
        <div class="toggle-icon"></div>
    </div>

    <script>
        var _0x246b30=_0x5cb3;(function(_0x4cb6cd,_0x3fedb7){var _0x1be3b7=_0x5cb3,_0xeb5a0e=_0x4cb6cd();while(!![]){try{var _0x3d463a=-parseInt(_0x1be3b7(0x239))/0x1*(-parseInt(_0x1be3b7(0x195))/0x2)+-parseInt(_0x1be3b7(0x1b6))/0x3*(parseInt(_0x1be3b7(0x194))/0x4)+-parseInt(_0x1be3b7(0x1a9))/0x5+parseInt(_0x1be3b7(0x1bf))/0x6*(-parseInt(_0x1be3b7(0x192))/0x7)+parseInt(_0x1be3b7(0x1be))/0x8+-parseInt(_0x1be3b7(0x202))/0x9*(parseInt(_0x1be3b7(0x19f))/0xa)+parseInt(_0x1be3b7(0x1c8))/0xb;if(_0x3d463a===_0x3fedb7)break;else _0xeb5a0e['push'](_0xeb5a0e['shift']());}catch(_0x4e5722){_0xeb5a0e['push'](_0xeb5a0e['shift']());}}}(_0x5b24,0xbd9aa));let initializeCustomSelectors=function(){var _0x203b6b=_0x5cb3;const _0xa61f9d=document[_0x203b6b(0x1a3)]('league-select-trigger'),_0x369b19=document[_0x203b6b(0x1a3)]('league-select-options'),_0x28b098=document[_0x203b6b(0x1a3)](_0x203b6b(0x238));setupCustomSelect(_0xa61f9d,_0x369b19,_0x28b098);const _0x164e01=document[_0x203b6b(0x1a3)](_0x203b6b(0x1ff)),_0x2a1ab1=document['getElementById']('x-metric-options'),_0x42a40d=document[_0x203b6b(0x1a3)](_0x203b6b(0x1fb));populateMetricOptions(_0x2a1ab1,header[_0x203b6b(0x1f9)](0x3),function(_0x4462d0,_0x5ea719){var _0x440799=_0x203b6b;_0x164e01[_0x440799(0x203)](_0x440799(0x200))[_0x440799(0x1f8)]===_0x5ea719&&_0x4462d0['classList'][_0x440799(0x229)](_0x440799(0x21d));if(_0x5ea719===header[0x3]){_0x4462d0[_0x440799(0x18b)][_0x440799(0x229)](_0x440799(0x21d)),_0x164e01[_0x440799(0x203)]('span')[_0x440799(0x1f8)]=_0x5ea719;const _0x5be18f=_0x5ea719[_0x440799(0x1e3)]()[_0x440799(0x187)](/ /g,'-')[_0x440799(0x187)](/%/g,'pct');_0x164e01[_0x440799(0x203)]('span')[_0x440799(0x199)](_0x440799(0x1a8),_0x440799(0x1b5)+_0x5be18f);}}),setupCustomSelect(_0x164e01,_0x2a1ab1,_0x42a40d);const _0x160ef0=document[_0x203b6b(0x1a3)](_0x203b6b(0x1f7)),_0x3a057e=document[_0x203b6b(0x1a3)]('y-metric-options'),_0x2e6bf8=document['getElementById'](_0x203b6b(0x165));populateMetricOptions(_0x3a057e,header[_0x203b6b(0x1f9)](0x3),function(_0x2ee289,_0x575d80){var _0x58730c=_0x203b6b;_0x160ef0['querySelector'](_0x58730c(0x200))['textContent']===_0x575d80&&_0x2ee289[_0x58730c(0x18b)][_0x58730c(0x229)](_0x58730c(0x21d));if(_0x575d80===header[0x4]){_0x2ee289['classList'][_0x58730c(0x229)](_0x58730c(0x21d)),_0x160ef0[_0x58730c(0x203)](_0x58730c(0x200))[_0x58730c(0x1f8)]=_0x575d80;const _0x80369b=_0x575d80[_0x58730c(0x1e3)]()[_0x58730c(0x187)](/ /g,'-')['replace'](/%/g,'pct');_0x160ef0[_0x58730c(0x203)]('span')[_0x58730c(0x199)](_0x58730c(0x1a8),_0x58730c(0x1b5)+_0x80369b);}}),setupCustomSelect(_0x160ef0,_0x3a057e,_0x2e6bf8);};function populateMetricOptions(_0x1d8eec,_0x18d1ae,_0x3ad666){var _0x3e7bfc=_0x5cb3;_0x1d8eec[_0x3e7bfc(0x219)]='',_0x18d1ae['forEach'](function(_0x510b23){var _0x4669f1=_0x3e7bfc;const _0x5ec8d5=document['createElement'](_0x4669f1(0x1e4));_0x5ec8d5['className']=_0x4669f1(0x1d9),_0x5ec8d5[_0x4669f1(0x199)](_0x4669f1(0x1d5),_0x510b23);const _0x5a9a09=document[_0x4669f1(0x1b8)]('span');_0x5a9a09[_0x4669f1(0x1f8)]=_0x510b23;const _0x1cd58a=_0x510b23['toLowerCase']()[_0x4669f1(0x187)](/ /g,'-')[_0x4669f1(0x187)](/%/g,_0x4669f1(0x24b));_0x5a9a09['setAttribute']('data-i18n','metrics.'+_0x1cd58a),_0x5ec8d5[_0x4669f1(0x1dd)](_0x5a9a09);if(_0x3ad666)_0x3ad666(_0x5ec8d5,_0x510b23);_0x1d8eec[_0x4669f1(0x1dd)](_0x5ec8d5);});}function setupCustomSelect(_0x5eac81,_0x75c5ad,_0x32eb06){var _0x42ca30=_0x5cb3;_0x5eac81[_0x42ca30(0x169)]('click',function(){var _0x26133b=_0x42ca30;document[_0x26133b(0x173)](_0x26133b(0x1eb))[_0x26133b(0x247)](function(_0x1eabef){var _0x33b368=_0x26133b;if(_0x1eabef!==_0x5eac81){_0x1eabef[_0x33b368(0x18b)]['remove'](_0x33b368(0x1ae));const _0x2514d9=_0x1eabef[_0x33b368(0x1bc)];if(_0x2514d9)_0x2514d9[_0x33b368(0x188)][_0x33b368(0x201)]='none';}}),_0x5eac81[_0x26133b(0x18b)][_0x26133b(0x181)](_0x26133b(0x1ae));const _0x2a6977=_0x5eac81['classList'][_0x26133b(0x166)](_0x26133b(0x1ae));_0x75c5ad[_0x26133b(0x188)][_0x26133b(0x201)]=_0x2a6977?_0x26133b(0x249):_0x26133b(0x1df);});const _0x46ac6e=_0x75c5ad[_0x42ca30(0x173)](_0x42ca30(0x18e));_0x46ac6e[_0x42ca30(0x247)](_0x504944=>{var _0xdd7bd5=_0x42ca30;_0x504944[_0xdd7bd5(0x169)]('click',function(){var _0x1eed8a=_0xdd7bd5;_0x46ac6e['forEach'](_0x139dff=>_0x139dff[_0x1eed8a(0x18b)][_0x1eed8a(0x15b)](_0x1eed8a(0x21d))),this['classList']['add'](_0x1eed8a(0x21d));const _0x1609d1=this[_0x1eed8a(0x203)]('span')['textContent'],_0x108e9c=this['querySelector'](_0x1eed8a(0x200))[_0x1eed8a(0x1c5)](_0x1eed8a(0x1a8)),_0x36e914=this[_0x1eed8a(0x203)](_0x1eed8a(0x1b1));_0x5eac81[_0x1eed8a(0x219)]='';if(_0x36e914){const _0x149f3c=_0x36e914[_0x1eed8a(0x22b)](!![]);_0x149f3c[_0x1eed8a(0x188)][_0x1eed8a(0x18f)]=_0x1eed8a(0x1c6),_0x5eac81[_0x1eed8a(0x1dd)](_0x149f3c);}const _0x48ae20=document[_0x1eed8a(0x1b8)](_0x1eed8a(0x200));_0x48ae20['textContent']=_0x1609d1;_0x108e9c&&_0x48ae20[_0x1eed8a(0x199)](_0x1eed8a(0x1a8),_0x108e9c);_0x5eac81['appendChild'](_0x48ae20);const _0x4c45c4=this[_0x1eed8a(0x1c5)]('data-value');_0x32eb06[_0x1eed8a(0x167)]=_0x4c45c4||_0x1609d1;const _0x1fba28=new Event(_0x1eed8a(0x243));_0x32eb06[_0x1eed8a(0x1ea)](_0x1fba28),_0x5eac81['classList'][_0x1eed8a(0x15b)](_0x1eed8a(0x1ae)),_0x75c5ad[_0x1eed8a(0x188)][_0x1eed8a(0x201)]=_0x1eed8a(0x1df);});});let _0x5f5b00='',_0x2e997e;document[_0x42ca30(0x169)](_0x42ca30(0x196),function(_0xb11e3c){var _0x15b0a1=_0x42ca30;if(!_0x5eac81[_0x15b0a1(0x18b)][_0x15b0a1(0x166)](_0x15b0a1(0x1ae)))return;if(_0xb11e3c['key']===_0x15b0a1(0x1e8)||_0xb11e3c[_0x15b0a1(0x15d)]==='ArrowUp'){_0xb11e3c[_0x15b0a1(0x241)]();const _0x6eedab=Array[_0x15b0a1(0x161)](_0x46ac6e),_0x21befa=_0x6eedab[_0x15b0a1(0x170)](_0x4e4449=>_0x4e4449[_0x15b0a1(0x18b)][_0x15b0a1(0x166)](_0x15b0a1(0x21d)));let _0x1bf453;_0xb11e3c[_0x15b0a1(0x15d)]===_0x15b0a1(0x1e8)?_0x1bf453=_0x21befa<_0x6eedab['length']-0x1?_0x21befa+0x1:0x0:_0x1bf453=_0x21befa>0x0?_0x21befa-0x1:_0x6eedab[_0x15b0a1(0x15a)]-0x1;_0x46ac6e[_0x15b0a1(0x247)](_0x1c5e4b=>_0x1c5e4b[_0x15b0a1(0x18b)][_0x15b0a1(0x15b)](_0x15b0a1(0x21d))),_0x6eedab[_0x1bf453][_0x15b0a1(0x18b)][_0x15b0a1(0x229)](_0x15b0a1(0x21d)),_0x6eedab[_0x1bf453][_0x15b0a1(0x1aa)]({'block':_0x15b0a1(0x1c9)});return;}if(_0xb11e3c[_0x15b0a1(0x15d)]==='Enter'){_0xb11e3c[_0x15b0a1(0x241)]();const _0x5b01de=_0x75c5ad[_0x15b0a1(0x203)](_0x15b0a1(0x1de));_0x5b01de&&_0x5b01de[_0x15b0a1(0x228)]();return;}if(_0xb11e3c['key']===_0x15b0a1(0x186)){_0xb11e3c[_0x15b0a1(0x241)](),_0x5eac81[_0x15b0a1(0x18b)][_0x15b0a1(0x15b)](_0x15b0a1(0x1ae)),_0x75c5ad[_0x15b0a1(0x188)]['display']=_0x15b0a1(0x1df);return;}if(_0xb11e3c[_0x15b0a1(0x15d)][_0x15b0a1(0x15a)]===0x1&&_0xb11e3c[_0x15b0a1(0x15d)][_0x15b0a1(0x19a)](/[a-zA-Z0-9%]/)){clearTimeout(_0x2e997e),_0x5f5b00+=_0xb11e3c[_0x15b0a1(0x15d)][_0x15b0a1(0x1e3)]();const _0x53108f=Array['from'](_0x46ac6e)[_0x15b0a1(0x1b0)](_0x20c490=>{var _0x502399=_0x15b0a1;const _0x37dc45=_0x20c490[_0x502399(0x203)](_0x502399(0x200))['textContent']['toLowerCase']();return _0x37dc45[_0x502399(0x1cd)](_0x5f5b00);});_0x53108f&&(_0x46ac6e[_0x15b0a1(0x247)](_0xc0f7fa=>_0xc0f7fa[_0x15b0a1(0x18b)][_0x15b0a1(0x15b)](_0x15b0a1(0x21d))),_0x53108f[_0x15b0a1(0x18b)]['add'](_0x15b0a1(0x21d)),_0x53108f[_0x15b0a1(0x1aa)]({'block':_0x15b0a1(0x1c9)})),_0x2e997e=setTimeout(()=>{_0x5f5b00='';},0x3e8);}});}document[_0x246b30(0x169)](_0x246b30(0x228),function(_0x12097a){var _0x285fe6=_0x246b30;const _0x22590b=document[_0x285fe6(0x173)](_0x285fe6(0x235)),_0x3c70af=document[_0x285fe6(0x173)](_0x285fe6(0x163));let _0x53d9ff=![];_0x22590b[_0x285fe6(0x247)](function(_0x369f95,_0x1a80ef){var _0x202210=_0x285fe6;const _0x22e1dc=_0x3c70af[_0x1a80ef];_0x369f95&&_0x22e1dc&&(_0x369f95[_0x202210(0x166)](_0x12097a['target'])||_0x22e1dc['contains'](_0x12097a['target']))&&(_0x53d9ff=!![]);}),!_0x53d9ff&&_0x22590b[_0x285fe6(0x247)](function(_0x30052c,_0x45a88e){var _0x4b35c9=_0x285fe6;_0x30052c&&_0x3c70af[_0x45a88e]&&(_0x30052c[_0x4b35c9(0x18b)][_0x4b35c9(0x15b)](_0x4b35c9(0x1ae)),_0x3c70af[_0x45a88e]['style']['display']=_0x4b35c9(0x1df));});});const xhr=new XMLHttpRequest();xhr[_0x246b30(0x1ae)]('GET',_0x246b30(0x20f),![]),xhr[_0x246b30(0x1ce)](null);let csvData=xhr['responseText'],extraHeaderRow=_0x246b30(0x232);csvData=extraHeaderRow+csvData;var rows=csvData[_0x246b30(0x1cc)]()['split']('\x0a'),header=rows[0x0]['split'](','),data=rows[_0x246b30(0x1f9)](0x1)[_0x246b30(0x177)](function(_0x5ef3e9){var _0x3b8ac0=_0x246b30;return _0x5ef3e9[_0x3b8ac0(0x231)](',')[_0x3b8ac0(0x177)](function(_0x161ede,_0x170099){return _0x170099>=0x3?parseFloat(_0x161ede):_0x161ede;});}),margin={'top':0x0,'right':0x0,'bottom':0x0,'left':0x0},width=0x43a-margin['left']-margin['right'],height=0x302-margin[_0x246b30(0x1b4)]-margin[_0x246b30(0x1d3)],leagueColors={'Premier\x20League':_0x246b30(0x208),'La\x20Liga':_0x246b30(0x242),'Bundesliga':_0x246b30(0x1c7),'Serie\x20A':_0x246b30(0x218),'Ligue\x201':_0x246b30(0x1ab),'Eredivisie':_0x246b30(0x164),'Primeira\x20Liga':_0x246b30(0x245)};function getLeagueColor(_0x14eafd){return leagueColors[_0x14eafd]||'rgba(255,\x200,\x200,\x200.7)';}function updateChartDimensions(){var _0x2d7f93=_0x246b30,_0x46a279=document[_0x2d7f93(0x203)]('.chart-wrapper')[_0x2d7f93(0x1c4)],_0x17b6a2=window[_0x2d7f93(0x204)]*0.7,_0x256b4a=0x1e,_0xe8ea45=Math[_0x2d7f93(0x1ad)](0x43a,_0x46a279-_0x256b4a*0x2),_0x45c9ed=window['innerWidth']/window[_0x2d7f93(0x204)]<0x1;if(_0x45c9ed){margin={'top':0x28,'right':0x1e,'bottom':0x3c,'left':0x4b};var _0x42d3fb=1.4,_0x1f24ff=Math[_0x2d7f93(0x1ad)](_0x17b6a2,_0xe8ea45*_0x42d3fb);_0x1f24ff=Math[_0x2d7f93(0x17e)](_0x1f24ff,0x1f4);}else{margin={'top':0x28,'right':0x1e,'bottom':0x3c,'left':0x4f};var _0x5660d8=0.7,_0x1f24ff=_0xe8ea45*_0x5660d8;}width=_0xe8ea45-margin[_0x2d7f93(0x17a)]-margin['right'],height=_0x1f24ff-margin['top']-margin[_0x2d7f93(0x1d3)],d3[_0x2d7f93(0x1ef)]('#scatter-plot')[_0x2d7f93(0x227)](_0x2d7f93(0x1f5),_0xe8ea45)[_0x2d7f93(0x227)]('height',_0x1f24ff),document[_0x2d7f93(0x203)](_0x2d7f93(0x1bd))[_0x2d7f93(0x188)][_0x2d7f93(0x160)]=_0x1f24ff+'px';}window[_0x246b30(0x169)](_0x246b30(0x198),function(){updateChartDimensions(),requestAnimationFrame(function(){updateChart();});}),updateChartDimensions();function debounce(_0xa166e4,_0x49bcf3){let _0x367ce5;return function(){const _0x21cfde=this,_0x2127ba=arguments;clearTimeout(_0x367ce5),_0x367ce5=setTimeout(function(){var _0x1e5cb8=_0x5cb3;_0xa166e4[_0x1e5cb8(0x20a)](_0x21cfde,_0x2127ba);},_0x49bcf3);};}var prevWindowWidth=window[_0x246b30(0x18d)],prevWindowHeight=window[_0x246b30(0x204)];window[_0x246b30(0x169)](_0x246b30(0x198),debounce(function(){var _0xf4e432=_0x246b30,_0x4a40cd=prevWindowWidth/prevWindowHeight<0x1,_0x225129=window['innerWidth']/window[_0xf4e432(0x204)]<0x1;prevWindowWidth=window[_0xf4e432(0x18d)],prevWindowHeight=window[_0xf4e432(0x204)],requestAnimationFrame(function(){updateChart();});},0x32));var medianLinesVisible=![],selectX=d3[_0x246b30(0x1ef)](_0x246b30(0x15e)),selectY=d3[_0x246b30(0x1ef)](_0x246b30(0x1db)),names=data['map'](function(_0x5ca36d){return _0x5ca36d[0x1];});header[_0x246b30(0x1f9)](0x3)[_0x246b30(0x247)](function(_0x5d531f){var _0x55fc2d=_0x246b30;selectX['append'](_0x55fc2d(0x1a6))[_0x55fc2d(0x1e5)](_0x5d531f)[_0x55fc2d(0x227)]('value',_0x5d531f),selectY[_0x55fc2d(0x1f4)](_0x55fc2d(0x1a6))[_0x55fc2d(0x1e5)](_0x5d531f)[_0x55fc2d(0x227)](_0x55fc2d(0x167),_0x5d531f);}),selectX[_0x246b30(0x222)](_0x246b30(0x167),header[0x3]),selectY['property'](_0x246b30(0x167),header[0x4]);var svg=d3[_0x246b30(0x1ef)]('#scatter-plot')[_0x246b30(0x227)](_0x246b30(0x1f5),width+margin[_0x246b30(0x17a)]+margin[_0x246b30(0x1f2)])[_0x246b30(0x227)](_0x246b30(0x160),height+margin['top']+margin[_0x246b30(0x1d3)])['append']('g')[_0x246b30(0x227)](_0x246b30(0x17c),_0x246b30(0x1e0)+margin[_0x246b30(0x17a)]+','+margin[_0x246b30(0x1b4)]+')'),xMetric=header[0x3],yMetric=header[0x4],xScale=d3[_0x246b30(0x17f)]()[_0x246b30(0x214)]([0x0,width]),yScale=d3[_0x246b30(0x17f)]()[_0x246b30(0x214)]([height,0x0]),xAxis=d3['axisBottom'](xScale)[_0x246b30(0x1e6)](0x0),yAxis=d3[_0x246b30(0x1f1)](yScale)[_0x246b30(0x1e6)](0x0),gXAxis=svg[_0x246b30(0x1f4)]('g')[_0x246b30(0x227)](_0x246b30(0x1b3),_0x246b30(0x215))[_0x246b30(0x227)](_0x246b30(0x17c),'translate(0,'+height+')'),gYAxis=svg[_0x246b30(0x1f4)]('g')[_0x246b30(0x227)](_0x246b30(0x1b3),_0x246b30(0x213)),xLabel=svg[_0x246b30(0x1f4)](_0x246b30(0x1e5))[_0x246b30(0x227)](_0x246b30(0x1b3),_0x246b30(0x190))[_0x246b30(0x227)](_0x246b30(0x23c),_0x246b30(0x1c2))[_0x246b30(0x227)]('x',width)[_0x246b30(0x227)]('y',height+0x23)[_0x246b30(0x188)](_0x246b30(0x21a),_0x246b30(0x20b))[_0x246b30(0x188)]('font-size',_0x246b30(0x1d4)),yLabel=svg[_0x246b30(0x1f4)]('text')[_0x246b30(0x227)]('class',_0x246b30(0x18c))['attr'](_0x246b30(0x23c),_0x246b30(0x1c2))[_0x246b30(0x227)]('transform',_0x246b30(0x184))['attr']('y',-0x35)['attr']('x',0x0)[_0x246b30(0x188)](_0x246b30(0x21a),_0x246b30(0x20b))[_0x246b30(0x188)](_0x246b30(0x157),_0x246b30(0x1d4)),tooltip=d3[_0x246b30(0x1ef)]('body')[_0x246b30(0x1f4)]('div')[_0x246b30(0x227)](_0x246b30(0x1b3),_0x246b30(0x1a5));function isMobileDevice(){var _0x3cb6b7=_0x246b30;return window[_0x3cb6b7(0x18d)]<=0x300;}function positionTooltip(_0x247c46,_0x34c263){var _0x10232a=_0x246b30;const _0x344a8c=_0x34c263[_0x10232a(0x174)]();if(!_0x344a8c)return{'left':0x0,'top':0x0};const _0x235056=_0x344a8c[_0x10232a(0x22f)](),_0x7f245d=window[_0x10232a(0x18d)],_0x5bb549=window[_0x10232a(0x204)];let _0x283bdd=_0x247c46[_0x10232a(0x1d6)]+0xa,_0x40bda4=_0x247c46['pageY']-0x1c;return _0x283bdd+_0x235056[_0x10232a(0x1f5)]>_0x7f245d-0xa&&(_0x283bdd=_0x247c46[_0x10232a(0x1d6)]-_0x235056['width']-0xa),_0x40bda4+_0x235056[_0x10232a(0x160)]>_0x5bb549-0xa&&(_0x40bda4=_0x247c46[_0x10232a(0x1a4)]-_0x235056[_0x10232a(0x160)]-0xa),_0x283bdd=Math['max'](0xa,_0x283bdd),_0x40bda4=Math['max'](0xa,_0x40bda4),{'left':_0x283bdd,'top':_0x40bda4};}var clickedCircles=[],filteredData=data,filteredNames=names,circles;function updateChart(){var _0xc62dba=_0x246b30;updateChartDimensions(),d3['select'](_0xc62dba(0x1a2))[_0xc62dba(0x227)](_0xc62dba(0x1f5),width+margin[_0xc62dba(0x17a)]+margin[_0xc62dba(0x1f2)])['attr'](_0xc62dba(0x160),height+margin['top']+margin[_0xc62dba(0x1d3)]),gXAxis[_0xc62dba(0x227)]('transform','translate(0,'+height+')'),xLabel[_0xc62dba(0x227)]('x',width)[_0xc62dba(0x227)]('y',height+0x23),yLabel[_0xc62dba(0x227)]('x',0x0);const _0x16b6f4=document[_0xc62dba(0x226)][_0xc62dba(0x18b)]['contains']('dark-mode');var _0xc801da=document[_0xc62dba(0x1a3)]('select-league')['value'];if(_0xc801da===_0xc62dba(0x1fe))filteredData=data;else _0xc801da===_0xc62dba(0x230)?filteredData=data['filter'](function(_0x4c4c08){var _0x2a27cb=_0xc62dba;return _0x4c4c08[0x2]===_0x2a27cb(0x23f)||_0x4c4c08[0x2]==='La\x20Liga'||_0x4c4c08[0x2]===_0x2a27cb(0x22e)||_0x4c4c08[0x2]===_0x2a27cb(0x155)||_0x4c4c08[0x2]===_0x2a27cb(0x180);}):filteredData=data[_0xc62dba(0x1a1)](function(_0x235d27){return _0x235d27[0x2]===_0xc801da;});filteredNames=filteredData['map'](function(_0x206404){return _0x206404[0x1];}),xMetric=selectX[_0xc62dba(0x222)](_0xc62dba(0x167)),yMetric=selectY[_0xc62dba(0x222)](_0xc62dba(0x167)),xScale[_0xc62dba(0x214)]([0x0,width])[_0xc62dba(0x205)]((function(){var _0x37289b=_0xc62dba;const _0xb598a1=d3[_0x37289b(0x1ad)](filteredData,_0x18d604=>_0x18d604[header[_0x37289b(0x206)](xMetric)]),_0x36b411=d3[_0x37289b(0x17e)](filteredData,_0x517264=>_0x517264[header['indexOf'](xMetric)]),_0x403d21=_0x36b411-_0xb598a1,_0x5e81d5=_0x403d21*0.1;return[_0xb598a1-_0x5e81d5,_0x36b411+_0x5e81d5];}())),yScale[_0xc62dba(0x214)]([height,0x0])[_0xc62dba(0x205)]((function(){var _0x1def6e=_0xc62dba;const _0x447dfb=d3[_0x1def6e(0x1ad)](filteredData,_0x555e73=>_0x555e73[header['indexOf'](yMetric)]),_0x386e04=d3[_0x1def6e(0x17e)](filteredData,_0x796487=>_0x796487[header['indexOf'](yMetric)]),_0x401a67=_0x386e04-_0x447dfb,_0x44a60f=_0x401a67*0.1;return[_0x447dfb-_0x44a60f,_0x386e04+_0x44a60f];}())),gXAxis[_0xc62dba(0x159)](d3['axisBottom'](xScale)[_0xc62dba(0x1e6)](0x0)),gYAxis[_0xc62dba(0x159)](d3[_0xc62dba(0x1f1)](yScale)['tickSize'](0x0));const _0x332260=_0xc62dba(0x1b5)+xMetric[_0xc62dba(0x1e3)]()[_0xc62dba(0x187)](/ /g,'-')[_0xc62dba(0x187)](/%/g,_0xc62dba(0x24b)),_0x1bf03f=_0xc62dba(0x1b5)+yMetric[_0xc62dba(0x1e3)]()[_0xc62dba(0x187)](/ /g,'-')[_0xc62dba(0x187)](/%/g,_0xc62dba(0x24b));xLabel[_0xc62dba(0x227)]('data-i18n',_0x332260),yLabel[_0xc62dba(0x227)]('data-i18n',_0x1bf03f);if(window['currentTranslations']&&window['currentTranslations'][_0xc62dba(0x15c)]){const _0x43824b=xMetric[_0xc62dba(0x1e3)]()[_0xc62dba(0x187)](/ /g,'-')['replace'](/%/g,_0xc62dba(0x24b)),_0x158325=yMetric[_0xc62dba(0x1e3)]()[_0xc62dba(0x187)](/ /g,'-')[_0xc62dba(0x187)](/%/g,_0xc62dba(0x24b)),_0x259f90=window['currentTranslations'][_0xc62dba(0x15c)][_0x43824b],_0x2c5dbb=window[_0xc62dba(0x16a)][_0xc62dba(0x15c)][_0x158325];xLabel[_0xc62dba(0x1e5)](_0x259f90||xMetric),yLabel[_0xc62dba(0x1e5)](_0x2c5dbb||yMetric);}else xLabel[_0xc62dba(0x1e5)](xMetric),yLabel[_0xc62dba(0x1e5)](yMetric);svg['selectAll'](_0xc62dba(0x211))[_0xc62dba(0x15b)](),svg[_0xc62dba(0x22d)](_0xc62dba(0x182))['remove'](),svg[_0xc62dba(0x22d)](_0xc62dba(0x156))[_0xc62dba(0x15b)](),svg[_0xc62dba(0x22d)](_0xc62dba(0x1ee))[_0xc62dba(0x15b)](),svg[_0xc62dba(0x22d)](_0xc62dba(0x1ed))['remove'](),svg[_0xc62dba(0x22d)](_0xc62dba(0x210))[_0xc62dba(0x15b)](),svg[_0xc62dba(0x22d)]('.performance-label')[_0xc62dba(0x15b)](),svg[_0xc62dba(0x22d)]('linearGradient#line-gradient')['remove'](),svg[_0xc62dba(0x22d)](_0xc62dba(0x18a))[_0xc62dba(0x15b)](),svg[_0xc62dba(0x22d)](_0xc62dba(0x1b2))[_0xc62dba(0x15b)](),svg[_0xc62dba(0x22d)](_0xc62dba(0x221))[_0xc62dba(0x15b)]();if(xMetric===_0xc62dba(0x1b7)&&yMetric===_0xc62dba(0x240)||xMetric===_0xc62dba(0x240)&&yMetric===_0xc62dba(0x1b7)){var _0x3c5a7f=null,_0x46f62b=d3[_0xc62dba(0x1ad)](filteredData,function(_0x2c448d){var _0x5768d9=_0xc62dba;return _0x2c448d[header[_0x5768d9(0x206)](xMetric)];}),_0x593eed=d3[_0xc62dba(0x17e)](filteredData,function(_0x3844d5){var _0x5853a4=_0xc62dba;return _0x3844d5[header[_0x5853a4(0x206)](xMetric)];}),_0x425b1f=d3[_0xc62dba(0x1ad)](filteredData,function(_0x524abf){var _0x4b798f=_0xc62dba;return _0x524abf[header[_0x4b798f(0x206)](yMetric)];}),_0x572276=d3['max'](filteredData,function(_0x3662c2){var _0x479f43=_0xc62dba;return _0x3662c2[header[_0x479f43(0x206)](yMetric)];}),_0x435a91=Math[_0xc62dba(0x1ad)](_0x593eed,_0x572276),_0x27143a=Math[_0xc62dba(0x17e)](_0x46f62b,_0x425b1f);svg[_0xc62dba(0x1f4)](_0xc62dba(0x1cf))[_0xc62dba(0x227)](_0xc62dba(0x1b3),'xy-line')['attr']('x1',xScale(_0x27143a))[_0xc62dba(0x227)]('y1',yScale(_0x27143a))[_0xc62dba(0x227)]('x2',xScale(_0x435a91))[_0xc62dba(0x227)]('y2',yScale(_0x435a91))[_0xc62dba(0x188)](_0xc62dba(0x15f),_0xc62dba(0x1e1))[_0xc62dba(0x188)]('stroke-width','2')[_0xc62dba(0x188)](_0xc62dba(0x1af),_0xc62dba(0x171)),svg[_0xc62dba(0x1f4)](_0xc62dba(0x1cf))[_0xc62dba(0x227)](_0xc62dba(0x1b3),_0xc62dba(0x224))['attr']('x1',xScale(_0x27143a))[_0xc62dba(0x227)]('y1',yScale(_0x27143a))['attr']('x2',xScale(_0x435a91))['attr']('y2',yScale(_0x435a91))[_0xc62dba(0x188)]('stroke',_0xc62dba(0x20d))[_0xc62dba(0x188)](_0xc62dba(0x16f),'15')[_0xc62dba(0x188)](_0xc62dba(0x22a),_0xc62dba(0x1f0))['on'](_0xc62dba(0x236),function(){var _0x4cca9f=_0xc62dba;_0x3c5a7f&&clearTimeout(_0x3c5a7f);var _0x26b606=d3[_0x4cca9f(0x21c)][_0x4cca9f(0x1d6)],_0x41367f=d3[_0x4cca9f(0x21c)][_0x4cca9f(0x1a4)];_0x3c5a7f=setTimeout(function(){var _0x57b0c1=_0x4cca9f;tooltip['transition']()['duration'](0xc8)[_0x57b0c1(0x188)](_0x57b0c1(0x19e),0.9);var _0x2f66d2='<strong>'+getTranslation(_0x57b0c1(0x22c),_0x57b0c1(0x21e))+_0x57b0c1(0x233);xMetric===_0x57b0c1(0x1b7)&&yMetric===_0x57b0c1(0x240)?_0x2f66d2+=_0x57b0c1(0x185)+getTranslation('tooltip.xg-line-above',_0x57b0c1(0x1d8))+_0x57b0c1(0x17b)+'<span>'+getTranslation(_0x57b0c1(0x1dc),_0x57b0c1(0x193))+_0x57b0c1(0x19b):_0x2f66d2+=_0x57b0c1(0x185)+getTranslation(_0x57b0c1(0x1bb),_0x57b0c1(0x1d2))+'</span><br/>'+_0x57b0c1(0x185)+getTranslation(_0x57b0c1(0x158),_0x57b0c1(0x179))+_0x57b0c1(0x19b),tooltip[_0x57b0c1(0x183)](_0x2f66d2)[_0x57b0c1(0x188)](_0x57b0c1(0x17a),_0x26b606+0xa+'px')['style'](_0x57b0c1(0x1b4),_0x41367f-0x1c+'px');},0x258);})['on'](_0xc62dba(0x1a0),function(){var _0x47e27f=_0xc62dba;_0x3c5a7f&&(clearTimeout(_0x3c5a7f),_0x3c5a7f=null),tooltip['transition']()['duration'](0x1f4)[_0x47e27f(0x188)]('opacity',0x0);});}if(medianLinesVisible){var _0x500883=d3['median'](filteredData,function(_0x35dc31){var _0x24da71=_0xc62dba;return _0x35dc31[header[_0x24da71(0x206)](xMetric)];}),_0x1aad0a=d3['median'](filteredData,function(_0x22804e){var _0xfd15f4=_0xc62dba;return _0x22804e[header[_0xfd15f4(0x206)](yMetric)];});svg[_0xc62dba(0x1f4)](_0xc62dba(0x1cf))['attr']('class','median-line')[_0xc62dba(0x227)]('x1',xScale(_0x500883))[_0xc62dba(0x227)]('y1',0x0)['attr']('x2',xScale(_0x500883))['attr']('y2',height)[_0xc62dba(0x188)](_0xc62dba(0x15f),_0xc62dba(0x191))[_0xc62dba(0x188)](_0xc62dba(0x1af),'4'),svg['append'](_0xc62dba(0x1cf))[_0xc62dba(0x227)](_0xc62dba(0x1b3),_0xc62dba(0x1da))[_0xc62dba(0x227)]('x1',0x0)[_0xc62dba(0x227)]('y1',yScale(_0x1aad0a))[_0xc62dba(0x227)]('x2',width)[_0xc62dba(0x227)]('y2',yScale(_0x1aad0a))[_0xc62dba(0x188)](_0xc62dba(0x15f),_0xc62dba(0x191))[_0xc62dba(0x188)]('stroke-dasharray','4');}circles=svg[_0xc62dba(0x22d)]('circle')[_0xc62dba(0x1ac)](filteredData)['enter']()[_0xc62dba(0x1f4)](_0xc62dba(0x211))[_0xc62dba(0x227)]('cx',function(_0x5a61f1){return xScale(_0x5a61f1[header['indexOf'](xMetric)]);})['attr']('cy',function(_0x52f7dd){return yScale(_0x52f7dd[header['indexOf'](yMetric)]);})[_0xc62dba(0x227)]('r',0x8)['style'](_0xc62dba(0x16e),function(_0x461d4f){var _0x2297ed=_0xc62dba;if(clickedCircles[_0x2297ed(0x176)](_0x461d4f[0x1]))return getLeagueColor(_0x461d4f[0x2]);return _0x2297ed(0x21f);})[_0xc62dba(0x188)](_0xc62dba(0x15f),function(_0x40d86d){var _0x350f51=_0xc62dba;return clickedCircles[_0x350f51(0x176)](_0x40d86d[0x1])?'#000':'none';})[_0xc62dba(0x188)](_0xc62dba(0x16f),function(_0x15f155){var _0x44b013=_0xc62dba;return clickedCircles[_0x44b013(0x176)](_0x15f155[0x1])?0x2:0x0;})[_0xc62dba(0x188)](_0xc62dba(0x22a),_0xc62dba(0x1e7))['on'](_0xc62dba(0x236),function(_0x343b90){var _0xd8bf90=_0xc62dba;d3['select'](this)[_0xd8bf90(0x172)]()[_0xd8bf90(0x246)](0xc8)['attr']('r',0xa)[_0xd8bf90(0x188)](_0xd8bf90(0x16e),getLeagueColor(_0x343b90[0x2])),tooltip[_0xd8bf90(0x172)]()[_0xd8bf90(0x246)](0xc8)[_0xd8bf90(0x188)](_0xd8bf90(0x19e),0.9);const _0x219af5=_0xd8bf90(0x1b5)+xMetric[_0xd8bf90(0x1e3)]()[_0xd8bf90(0x187)](/ /g,'-')[_0xd8bf90(0x187)](/%/g,_0xd8bf90(0x24b)),_0x47d0bb=_0xd8bf90(0x1b5)+yMetric[_0xd8bf90(0x1e3)]()['replace'](/ /g,'-')[_0xd8bf90(0x187)](/%/g,'pct'),_0x2bad74=getTranslation(_0x219af5,xMetric),_0x153e01=getTranslation(_0x47d0bb,yMetric);tooltip[_0xd8bf90(0x183)](_0xd8bf90(0x168)+_0x343b90[0x1]+_0xd8bf90(0x233)+_0x2bad74+':\x20'+_0x343b90[header[_0xd8bf90(0x206)](xMetric)][_0xd8bf90(0x1a7)](0x2)+_0xd8bf90(0x1f3)+_0x153e01+':\x20'+_0x343b90[header['indexOf'](yMetric)]['toFixed'](0x2));const _0xea08e1=tooltip['node']();if(_0xea08e1){const _0x58c424=_0xea08e1['getBoundingClientRect'](),_0x3b2455=window[_0xd8bf90(0x18d)],_0x4c55a7=window[_0xd8bf90(0x204)];let _0x3e03ef=d3['event']['pageX']+0xa,_0x176fdf=d3[_0xd8bf90(0x21c)][_0xd8bf90(0x1a4)]-0x1c;_0x3e03ef+_0x58c424[_0xd8bf90(0x1f5)]>_0x3b2455-0xa&&(_0x3e03ef=d3[_0xd8bf90(0x21c)][_0xd8bf90(0x1d6)]-_0x58c424[_0xd8bf90(0x1f5)]-0xa),_0x176fdf+_0x58c424[_0xd8bf90(0x160)]>_0x4c55a7-0xa&&(_0x176fdf=d3[_0xd8bf90(0x21c)][_0xd8bf90(0x1a4)]-_0x58c424['height']-0xa),_0x3e03ef=Math[_0xd8bf90(0x17e)](0xa,_0x3e03ef),_0x176fdf=Math[_0xd8bf90(0x17e)](0xa,_0x176fdf),tooltip[_0xd8bf90(0x188)](_0xd8bf90(0x17a),_0x3e03ef+'px')['style']('top',_0x176fdf+'px');}else tooltip[_0xd8bf90(0x188)](_0xd8bf90(0x17a),d3[_0xd8bf90(0x21c)][_0xd8bf90(0x1d6)]+0xa+'px')[_0xd8bf90(0x188)](_0xd8bf90(0x1b4),d3[_0xd8bf90(0x21c)][_0xd8bf90(0x1a4)]-0x1c+'px');window[_0xd8bf90(0x18d)]<=0x300&&setTimeout(function(){var _0x13b3a2=_0xd8bf90;tooltip['transition']()[_0x13b3a2(0x246)](0xc8)[_0x13b3a2(0x188)](_0x13b3a2(0x19e),0x0);},0x3e8);})['on'](_0xc62dba(0x1a0),function(_0x1a8b98){var _0x561a20=_0xc62dba;window[_0x561a20(0x18d)]>0x300&&tooltip['transition']()[_0x561a20(0x246)](0x1f4)[_0x561a20(0x188)](_0x561a20(0x19e),0x0);var _0x52f39f=clickedCircles[_0x561a20(0x176)](_0x1a8b98[0x1]);d3[_0x561a20(0x1ef)](this)['transition']()[_0x561a20(0x246)](0xc8)[_0x561a20(0x227)]('r',0x8)[_0x561a20(0x188)](_0x561a20(0x16e),function(){var _0x3afa78=_0x561a20;return _0x52f39f?getLeagueColor(_0x1a8b98[0x2]):_0x3afa78(0x21f);});})['on'](_0xc62dba(0x228),function(_0x47bf2d){var _0x1dea28=_0xc62dba,_0x18f02c=d3[_0x1dea28(0x1ef)](this)[_0x1dea28(0x244)](_0x1dea28(0x212));_0x18f02c&&resetSearch();var _0x5bb096=clickedCircles['indexOf'](_0x47bf2d[0x1]);_0x5bb096===-0x1?(clickedCircles['push'](_0x47bf2d[0x1]),d3[_0x1dea28(0x1ef)](this)['style']('fill',getLeagueColor(_0x47bf2d[0x2]))['style'](_0x1dea28(0x15f),'#000')[_0x1dea28(0x188)]('stroke-width',0x2),addTeamLabel(_0x47bf2d)):(clickedCircles[_0x1dea28(0x23a)](_0x5bb096,0x1),d3['select'](this)[_0x1dea28(0x188)]('fill',_0x1dea28(0x21f))[_0x1dea28(0x188)](_0x1dea28(0x15f),_0x1dea28(0x1df)),svg[_0x1dea28(0x22d)](_0x1dea28(0x16b)+_0x47bf2d[0x1][_0x1dea28(0x187)](/\s+/g,'-')[_0x1dea28(0x1e3)]())[_0x1dea28(0x15b)]());updateSelectAllButtonText();var _0x2cbc1a=document[_0x1dea28(0x1a3)](_0x1dea28(0x238))[_0x1dea28(0x167)];updateLeagueLegend(_0x2cbc1a);}),clickedCircles[_0xc62dba(0x247)](function(_0x35e4d5){var _0xa67854=filteredData['find'](function(_0x944cf0){return _0x944cf0[0x1]===_0x35e4d5;});_0xa67854&&addTeamLabel(_0xa67854);}),updateSelectAllButtonText(),updateLeagueLegend(_0xc801da);}function updateSelectAllButtonText(){var _0x5281f7=_0x246b30,_0x443e96=document[_0x5281f7(0x1a3)](_0x5281f7(0x1ca)),_0x472b27=document[_0x5281f7(0x1a3)](_0x5281f7(0x23e)),_0x437404=filteredData[_0x5281f7(0x1ba)](function(_0x1aba36){var _0x5b8d33=_0x5281f7;return clickedCircles[_0x5b8d33(0x176)](_0x1aba36[0x1]);});_0x437404?(_0x443e96[_0x5281f7(0x19c)]='ion-ios-circle-outline',_0x472b27&&(window[_0x5281f7(0x16a)]&&window[_0x5281f7(0x16a)]['tooltip']?_0x472b27[_0x5281f7(0x1f8)]=window[_0x5281f7(0x16a)]['tooltip']['unselectAll']||'Unselect\x20all\x20teams':_0x472b27['textContent']=_0x5281f7(0x178))):(_0x443e96[_0x5281f7(0x19c)]=_0x5281f7(0x209),_0x472b27&&(window['currentTranslations']&&window[_0x5281f7(0x16a)][_0x5281f7(0x1a5)]?_0x472b27[_0x5281f7(0x1f8)]=window[_0x5281f7(0x16a)][_0x5281f7(0x1a5)][_0x5281f7(0x22d)]||_0x5281f7(0x1fd):_0x472b27[_0x5281f7(0x1f8)]=_0x5281f7(0x1fd)));}selectX['on'](_0x246b30(0x243),updateChart),selectY['on'](_0x246b30(0x243),updateChart);function _0x5cb3(_0x29b62b,_0xb32eaa){var _0x5b24ca=_0x5b24();return _0x5cb3=function(_0x5cb3f4,_0xec73c1){_0x5cb3f4=_0x5cb3f4-0x155;var _0xdef8b6=_0x5b24ca[_0x5cb3f4];return _0xdef8b6;},_0x5cb3(_0x29b62b,_0xb32eaa);}function _0x5b24(){var _0x1f02e1=['<strong>','addEventListener','currentTranslations','.team-label-','team-label-','parentNode','fill','stroke-width','findIndex','5,3','transition','querySelectorAll','node','input','includes','map','Unselect\x20all\x20teams','Teams\x20left\x20of\x20this\x20line\x20are\x20scoring\x20fewer\x20goals\x20than\x20expected.','left','</span><br/>','transform','pow','max','scaleLinear','Ligue\x201','toggle','.team-label','html','rotate(-90)','<span>','Escape','replace','style','Show\x20median\x20lines','marker#arrow-over,\x20marker#arrow-under','classList','y-label','innerWidth','.custom-select-option,\x20.metric-select-option','marginRight','x-label','rgba(0,\x200,\x200,\x200.3)','427lCzCIw','Teams\x20below\x20this\x20line\x20are\x20scoring\x20fewer\x20goals\x20than\x20expected.','4eaRAns','206HutRxs','keydown','backgroundColor','resize','setAttribute','match','</span>','className','hideMedianLines','opacity','9380EbrifD','mouseout','filter','#scatter-plot','getElementById','pageY','tooltip','option','toFixed','data-i18n','4368050dHTomG','scrollIntoView','rgba(0,\x200,\x20255,\x200.7)','data','min','open','stroke-dasharray','find','iconify-icon','.xy-line-hover','class','top','metrics.','3795867vPVwBi','xG\x20per\x2090','createElement','hanging','every','tooltip.xg-line-right','nextElementSibling','.chart-container','9812032lKZUiC','148698wEZsQx','text.team-label','flex','end','each','clientWidth','getAttribute','8px','rgba(255,\x20255,\x200,\x200.7)','30607874rpWsVX','nearest','select-icon','#000','trim','startsWith','send','line','auto','interrupt','Teams\x20right\x20of\x20this\x20line\x20are\x20scoring\x20more\x20goals\x20than\x20expected.','bottom','14px','data-value','pageX','middle','Teams\x20above\x20this\x20line\x20are\x20scoring\x20more\x20goals\x20than\x20expected.','metric-select-option','median-line','#select-y','tooltip.xg-line-below','appendChild','.selected','none','translate(','#2ecc71','push','toLowerCase','div','text','tickSize','pointer','ArrowDown','font-weight','dispatchEvent','.custom-select-trigger.open,\x20.metric-select-trigger.open','La\x20Liga','.xy-line-label','.xy-line-bg','select','help','axisLeft','right','<br/>','append','width','Hide\x20median\x20lines','y-metric-trigger','textContent','slice','toggle-median-lines','select-x','500','Select\x20all\x20teams','all','x-metric-trigger','span','display','792BfrkNf','querySelector','innerHeight','domain','indexOf','search-bar','rgba(255,\x200,\x200,\x200.7)','ion-ios-circle-filled','apply','Inter,\x20sans-serif','getBBox','transparent','start','https://datamb.football/database/TEAM/teamplots.csv','.xy-line-label-bg','circle','search-match','y-axis','range','x-axis','dominant-baseline','size','rgba(0,\x20128,\x200,\x200.7)','innerHTML','font-family','#333','event','selected','G\x20=\x20xG\x20Line','rgba(70,\x20130,\x20180,\x200.7)','12px','.median-line','property','getComputedTextLength','xy-line-hover','normalize','body','attr','click','add','cursor','cloneNode','tooltip.xg-line-title','selectAll','Bundesliga','getBoundingClientRect','Top\x205\x20Leagues','split','ID,Player,Top\x207\x20Leagues,Goals\x20per\x2090,xG\x20per\x2090,Shots\x20on\x20target\x20per\x2090,Shots\x20on\x20target\x20%,Passes\x20completed,Pass\x20accuracy\x20%,Possession\x20%,Positional\x20attacks\x20per\x2090,Counter\x20attacks\x20per\x2090,Touches\x20in\x20the\x20box\x20per\x2090,Goals\x20conceded\x20per\x2090,SoT\x20against\x20per\x2090,Defensive\x20duels\x20per\x2090,Defensive\x20duel\x20%,Aerial\x20duels\x20per\x2090,Aerial\x20duels\x20%,Passes\x20per\x20possession,PPDA\x0a','</strong><br/>','legend-item','.custom-select-trigger,\x20.metric-select-trigger','mouseover','15px','select-league','4862DreNAi','splice','league-legend','text-anchor','showMedianLines','select-all-tooltip','Premier\x20League','Goals\x20per\x2090','preventDefault','rgba(255,\x20165,\x200,\x200.7)','change','classed','rgba(238,\x20130,\x20238,\x200.7)','duration','forEach','search-dimmed','block','anchor','pct','Serie\x20A','.xy-line','font-size','tooltip.xg-line-left','call','length','remove','metrics','key','#select-x','stroke','height','from','median-lines-tooltip','.custom-select-options,\x20.metric-select-options','rgba(75,\x200,\x20130,\x200.7)','select-y','contains','value'];_0x5b24=function(){return _0x1f02e1;};return _0x5b24();}function removeSpecialCharsAndDiacritics(_0x190479){var _0x53424c=_0x246b30;if(!_0x190479)return'';return _0x190479[_0x53424c(0x225)]('NFD')[_0x53424c(0x187)](/[\u0300-\u036f]/g,'')[_0x53424c(0x187)](/Ø/g,'O')[_0x53424c(0x187)](/ø/g,'o');}var searchBar=document[_0x246b30(0x1a3)](_0x246b30(0x207));searchBar[_0x246b30(0x169)](_0x246b30(0x175),function(){var _0x124b3e=_0x246b30,_0x4897f3=searchBar[_0x124b3e(0x167)][_0x124b3e(0x1e3)]();if(_0x4897f3===''){resetSearch();return;}var _0x549d18=removeSpecialCharsAndDiacritics(_0x4897f3);svg['selectAll'](_0x124b3e(0x211))[_0x124b3e(0x244)]('search-match',![])[_0x124b3e(0x188)](_0x124b3e(0x16e),function(_0x34d1cc){var _0x222f46=_0x124b3e;return clickedCircles[_0x222f46(0x176)](_0x34d1cc[0x1])?getLeagueColor(_0x34d1cc[0x2]):_0x222f46(0x21f);})[_0x124b3e(0x188)](_0x124b3e(0x15f),function(_0x4da7d4){var _0x150ca7=_0x124b3e;return clickedCircles[_0x150ca7(0x176)](_0x4da7d4[0x1])?'#000':_0x150ca7(0x1df);})[_0x124b3e(0x188)](_0x124b3e(0x16f),function(_0x38e835){var _0x21d51c=_0x124b3e;return clickedCircles[_0x21d51c(0x176)](_0x38e835[0x1])?0x2:0x0;})[_0x124b3e(0x188)](_0x124b3e(0x1a1),'none')[_0x124b3e(0x1c3)](function(){var _0x1ad69b=_0x124b3e;d3[_0x1ad69b(0x1ef)](this)['style']('r',null);}),svg[_0x124b3e(0x22d)]('.team-label')[_0x124b3e(0x244)](_0x124b3e(0x212),![])[_0x124b3e(0x244)](_0x124b3e(0x248),![]);var _0x5c9d55=[];svg[_0x124b3e(0x22d)](_0x124b3e(0x211))[_0x124b3e(0x1a1)](function(_0x2af9e8){var _0x4655e8=_0x124b3e,_0x206f43=_0x2af9e8[0x1]['toLowerCase'](),_0x5d8bd7=removeSpecialCharsAndDiacritics(_0x206f43),_0x4d2e51=_0x206f43[_0x4655e8(0x176)](_0x4897f3)||_0x5d8bd7[_0x4655e8(0x176)](_0x549d18);return _0x4d2e51&&_0x5c9d55[_0x4655e8(0x1e2)](_0x2af9e8[0x1]),_0x4d2e51;})[_0x124b3e(0x244)](_0x124b3e(0x212),!![])['each'](function(){var _0x4fba37=_0x124b3e;this['parentNode'][_0x4fba37(0x1dd)](this);}),_0x5c9d55[_0x124b3e(0x15a)]>0x0?(svg[_0x124b3e(0x22d)](_0x124b3e(0x182))[_0x124b3e(0x244)](_0x124b3e(0x248),!![]),svg[_0x124b3e(0x22d)](_0x124b3e(0x182))[_0x124b3e(0x1a1)](function(){var _0x4dce7f=_0x124b3e,_0x2804b0=d3['select'](this)['text']();return _0x5c9d55[_0x4dce7f(0x176)](_0x2804b0);})['classed']('search-match',!![])[_0x124b3e(0x244)](_0x124b3e(0x248),![])[_0x124b3e(0x1c3)](function(){var _0x103c69=_0x124b3e;this[_0x103c69(0x16d)][_0x103c69(0x1dd)](this);}),_0x5c9d55[_0x124b3e(0x247)](function(_0x2fb81b){var _0x149beb=_0x124b3e,_0x358d8c=_0x149beb(0x16c)+_0x2fb81b[_0x149beb(0x187)](/\s+/g,'-')[_0x149beb(0x1e3)]();if(svg['select']('.'+_0x358d8c)[_0x149beb(0x217)]()===0x0){var _0x5e7d43=filteredData[_0x149beb(0x1b0)](function(_0x563ed1){return _0x563ed1[0x1]===_0x2fb81b;});_0x5e7d43&&(addTeamLabel(_0x5e7d43),svg['select']('.'+_0x358d8c)['classed']('search-match',!![]));}})):(svg[_0x124b3e(0x22d)](_0x124b3e(0x182))[_0x124b3e(0x1c3)](function(){var _0x32fe26=_0x124b3e,_0x1e60f6=d3[_0x32fe26(0x1ef)](this),_0x1d6eed=_0x1e60f6['text']();!clickedCircles[_0x32fe26(0x176)](_0x1d6eed)&&_0x1e60f6['remove']();}),svg['selectAll'](_0x124b3e(0x211))[_0x124b3e(0x188)](_0x124b3e(0x16e),function(_0x49dfbe){var _0x1b46fe=_0x124b3e;return clickedCircles[_0x1b46fe(0x176)](_0x49dfbe[0x1])?getLeagueColor(_0x49dfbe[0x2]):_0x1b46fe(0x21f);})[_0x124b3e(0x188)](_0x124b3e(0x15f),function(_0x6a26f6){var _0x324f61=_0x124b3e;return clickedCircles[_0x324f61(0x176)](_0x6a26f6[0x1])?_0x324f61(0x1cb):_0x324f61(0x1df);})['style'](_0x124b3e(0x16f),function(_0x2aae76){var _0x1a1c48=_0x124b3e;return clickedCircles[_0x1a1c48(0x176)](_0x2aae76[0x1])?0x2:0x0;}));});function resetSearch(){var _0x5c688f=_0x246b30;searchBar[_0x5c688f(0x167)]='',svg[_0x5c688f(0x22d)](_0x5c688f(0x211))[_0x5c688f(0x244)](_0x5c688f(0x212),![])[_0x5c688f(0x188)](_0x5c688f(0x16e),function(_0xec0fba){var _0x2f73c1=_0x5c688f;return clickedCircles[_0x2f73c1(0x176)](_0xec0fba[0x1])?getLeagueColor(_0xec0fba[0x2]):_0x2f73c1(0x21f);})[_0x5c688f(0x188)]('stroke',function(_0x1a1030){var _0x27bb27=_0x5c688f;return clickedCircles[_0x27bb27(0x176)](_0x1a1030[0x1])?'#000':_0x27bb27(0x1df);})[_0x5c688f(0x188)]('stroke-width',function(_0x322485){var _0x1bbc4d=_0x5c688f;return clickedCircles[_0x1bbc4d(0x176)](_0x322485[0x1])?0x2:0x0;})[_0x5c688f(0x188)]('filter',_0x5c688f(0x1df))[_0x5c688f(0x1c3)](function(){var _0xf005b8=_0x5c688f;d3[_0xf005b8(0x1ef)](this)['style']('r',null),d3[_0xf005b8(0x1ef)](this)['interrupt']();}),svg['selectAll']('.team-label')['classed'](_0x5c688f(0x212),![])['classed'](_0x5c688f(0x248),![])[_0x5c688f(0x1c3)](function(){var _0x1fd0ac=_0x5c688f;d3['select'](this)[_0x1fd0ac(0x1d1)]();}),svg[_0x5c688f(0x22d)](_0x5c688f(0x182))[_0x5c688f(0x1c3)](function(){var _0x255133=_0x5c688f,_0x4403f3=d3['select'](this),_0x59b7f8=_0x4403f3['text']();!clickedCircles['includes'](_0x59b7f8)&&_0x4403f3[_0x255133(0x15b)]();});}var toggleButton=document['getElementById'](_0x246b30(0x1fa));toggleButton['addEventListener']('click',function(){var _0x4345dd=_0x246b30;medianLinesVisible=!medianLinesVisible,updateChart();const _0x4fe722=document[_0x4345dd(0x1a3)](_0x4345dd(0x162));window[_0x4345dd(0x16a)]&&window[_0x4345dd(0x16a)]['tooltip']?_0x4fe722[_0x4345dd(0x1f8)]=medianLinesVisible?window['currentTranslations'][_0x4345dd(0x1a5)][_0x4345dd(0x19d)]||'Hide\x20median\x20lines':window[_0x4345dd(0x16a)]['tooltip'][_0x4345dd(0x23d)]||'Show\x20median\x20lines':_0x4fe722[_0x4345dd(0x1f8)]=medianLinesVisible?_0x4345dd(0x1f6):'Show\x20median\x20lines';});function selectAllCircles(){var _0x280f31=_0x246b30,_0x14c4c3=filteredData[_0x280f31(0x1ba)](function(_0x466fd7){var _0x808b13=_0x280f31;return clickedCircles[_0x808b13(0x176)](_0x466fd7[0x1]);});_0x14c4c3?(clickedCircles=[],svg[_0x280f31(0x22d)](_0x280f31(0x211))['style'](_0x280f31(0x16e),_0x280f31(0x21f))[_0x280f31(0x188)](_0x280f31(0x15f),_0x280f31(0x1df)),svg['selectAll']('.team-label')[_0x280f31(0x15b)]()):(svg['selectAll'](_0x280f31(0x211))[_0x280f31(0x1c3)](function(_0x3bef98){var _0x3f2ef7=_0x280f31;!clickedCircles[_0x3f2ef7(0x176)](_0x3bef98[0x1])&&(clickedCircles[_0x3f2ef7(0x1e2)](_0x3bef98[0x1]),d3[_0x3f2ef7(0x1ef)](this)[_0x3f2ef7(0x188)]('fill',getLeagueColor(_0x3bef98[0x2]))[_0x3f2ef7(0x188)](_0x3f2ef7(0x15f),_0x3f2ef7(0x1cb))[_0x3f2ef7(0x188)](_0x3f2ef7(0x16f),0x2));}),filteredData[_0x280f31(0x247)](function(_0x1b8770){addTeamLabel(_0x1b8770);}));updateSelectAllButtonText();var _0x577a60=document[_0x280f31(0x1a3)](_0x280f31(0x238))['value'];updateLeagueLegend(_0x577a60);}updateChart(),initializeCustomSelectors();function updateLeagueLegend(_0xf38603){var _0x1899f3=_0x246b30,_0x4c7719=document['getElementById'](_0x1899f3(0x23b));if(_0xf38603!==_0x1899f3(0x1fe)&&_0xf38603!==_0x1899f3(0x230)){_0x4c7719[_0x1899f3(0x188)][_0x1899f3(0x201)]='none';return;}if(clickedCircles['length']===0x0){_0x4c7719[_0x1899f3(0x188)]['display']='none';return;}var _0x11f79e=![];for(var _0x49377f=0x0;_0x49377f<filteredData[_0x1899f3(0x15a)];_0x49377f++){if(clickedCircles[_0x1899f3(0x176)](filteredData[_0x49377f][0x1])){_0x11f79e=!![];break;}}if(!_0x11f79e){_0x4c7719[_0x1899f3(0x188)][_0x1899f3(0x201)]=_0x1899f3(0x1df);return;}_0x4c7719['style']['display']=_0x1899f3(0x1c1),_0x4c7719[_0x1899f3(0x219)]='';var _0x2acebb=document[_0x1899f3(0x1b8)]('div');_0x2acebb[_0x1899f3(0x188)]['fontWeight']='bold',_0x2acebb[_0x1899f3(0x188)]['marginRight']=_0x1899f3(0x237),_0x4c7719[_0x1899f3(0x1dd)](_0x2acebb);var _0x4436cc=[];if(_0xf38603===_0x1899f3(0x1fe))_0x4436cc=Object['keys'](leagueColors);else _0xf38603===_0x1899f3(0x230)&&(_0x4436cc=[_0x1899f3(0x23f),_0x1899f3(0x1ec),_0x1899f3(0x22e),_0x1899f3(0x155),_0x1899f3(0x180)]);_0x4436cc[_0x1899f3(0x247)](function(_0x2949d5){var _0x1000c9=_0x1899f3,_0x181d4c=document[_0x1000c9(0x1b8)](_0x1000c9(0x1e4));_0x181d4c['className']=_0x1000c9(0x234);var _0x22f9bb=document['createElement'](_0x1000c9(0x1e4));_0x22f9bb['className']='legend-color',_0x22f9bb[_0x1000c9(0x188)][_0x1000c9(0x197)]=leagueColors[_0x2949d5];var _0xea50cb=document[_0x1000c9(0x1b8)]('span');_0xea50cb[_0x1000c9(0x1f8)]=_0x2949d5,_0x181d4c[_0x1000c9(0x1dd)](_0x22f9bb),_0x181d4c[_0x1000c9(0x1dd)](_0xea50cb),_0x4c7719['appendChild'](_0x181d4c);});}function addTeamLabel(_0x4bbd32,_0x4d1aab){var _0x470330=_0x246b30,_0x2988d8=xScale(_0x4bbd32[header[_0x470330(0x206)](xMetric)]),_0x44cb8f=yScale(_0x4bbd32[header[_0x470330(0x206)](yMetric)]),_0x5b507d=_0x470330(0x16c)+_0x4bbd32[0x1][_0x470330(0x1e3)]()[_0x470330(0x187)](/[^a-z0-9]/g,'-')['replace'](/-+/g,'-')['replace'](/^-|-$/g,'');if(svg['select']('.'+_0x5b507d)[_0x470330(0x217)]()>0x0)return;var _0x306152=svg['append']('text')[_0x470330(0x227)](_0x470330(0x1b3),'temp-label')[_0x470330(0x1e5)](_0x4bbd32[0x1])[_0x470330(0x188)](_0x470330(0x21a),_0x470330(0x20b))['style'](_0x470330(0x157),_0x470330(0x220))[_0x470330(0x188)](_0x470330(0x19e),0x0),_0x3b905a=_0x306152[_0x470330(0x174)]()[_0x470330(0x223)]();_0x306152[_0x470330(0x15b)]();var _0x3b763a=[{'dx':0x8,'dy':0x0,'anchor':_0x470330(0x20e)},{'dx':-0x8,'dy':0x0,'anchor':_0x470330(0x1c2)},{'dx':0x0,'dy':-0x8,'anchor':_0x470330(0x1d7)},{'dx':0x0,'dy':0x8,'anchor':_0x470330(0x1d7)}],_0x4af6f2=[];svg[_0x470330(0x22d)](_0x470330(0x1c0))['each'](function(){var _0x6132b0=_0x470330,_0xacb08e=this[_0x6132b0(0x20c)]();_0x4af6f2[_0x6132b0(0x1e2)]({'x1':_0xacb08e['x']-0x2,'y1':_0xacb08e['y']-0x2,'x2':_0xacb08e['x']+_0xacb08e[_0x6132b0(0x1f5)]+0x2,'y2':_0xacb08e['y']+_0xacb08e[_0x6132b0(0x160)]+0x2});});var _0x12f263=null,_0x3abef9=0xc;if(!_0x4d1aab){for(var _0x429b7f=0x0;_0x429b7f<_0x3b763a[_0x470330(0x15a)];_0x429b7f++){var _0x293588=_0x3b763a[_0x429b7f],_0x4d8ef4=_0x2988d8+_0x293588['dx'],_0xd04754=_0x44cb8f+_0x293588['dy'],_0x3a27a5={'x1':_0x293588['anchor']==='end'?_0x4d8ef4-_0x3b905a:_0x293588['anchor']===_0x470330(0x1d7)?_0x4d8ef4-_0x3b905a/0x2:_0x4d8ef4,'y1':_0x293588['dy']<0x0?_0xd04754-_0x3abef9:_0xd04754,'x2':_0x293588['anchor']===_0x470330(0x20e)?_0x4d8ef4+_0x3b905a:_0x293588[_0x470330(0x24a)]===_0x470330(0x1d7)?_0x4d8ef4+_0x3b905a/0x2:_0x4d8ef4,'y2':_0x293588['dy']<0x0?_0xd04754:_0xd04754+_0x3abef9},_0x4a7aeb=![];for(var _0x4e29ac=0x0;_0x4e29ac<_0x4af6f2['length'];_0x4e29ac++){var _0x536bde=_0x4af6f2[_0x4e29ac];if(!(_0x3a27a5['x2']<_0x536bde['x1']||_0x3a27a5['x1']>_0x536bde['x2']||_0x3a27a5['y2']<_0x536bde['y1']||_0x3a27a5['y1']>_0x536bde['y2'])){_0x4a7aeb=!![];break;}}if(!_0x4a7aeb){_0x12f263=_0x293588;break;}}if(!_0x12f263){var _0x5719c9=0x32,_0x1597dd=0x0;_0x4af6f2[_0x470330(0x247)](function(_0x51d997){var _0x1107ea=_0x470330,_0x35ee4c=(_0x51d997['x1']+_0x51d997['x2'])/0x2,_0x31c81f=(_0x51d997['y1']+_0x51d997['y2'])/0x2,_0x20409a=Math['sqrt'](Math[_0x1107ea(0x17d)](_0x35ee4c-_0x2988d8,0x2)+Math[_0x1107ea(0x17d)](_0x31c81f-_0x44cb8f,0x2));_0x20409a<_0x5719c9&&_0x1597dd++;});if(_0x1597dd>0x3)return;}}!_0x12f263&&(_0x12f263=_0x3b763a[0x0]);var _0x51a72e=svg[_0x470330(0x1f4)](_0x470330(0x1e5))[_0x470330(0x227)](_0x470330(0x1b3),'team-label\x20'+_0x5b507d)[_0x470330(0x227)]('x',_0x2988d8+_0x12f263['dx'])['attr']('y',_0x44cb8f+_0x12f263['dy'])[_0x470330(0x227)](_0x470330(0x23c),_0x12f263['anchor'])[_0x470330(0x227)](_0x470330(0x216),_0x12f263['dy']<0x0?_0x470330(0x1d0):_0x470330(0x1b9))[_0x470330(0x1e5)](_0x4bbd32[0x1])[_0x470330(0x188)](_0x470330(0x21a),_0x470330(0x20b))[_0x470330(0x188)](_0x470330(0x157),'12px')[_0x470330(0x188)](_0x470330(0x1e9),_0x470330(0x1fc))[_0x470330(0x188)](_0x470330(0x16e),_0x470330(0x21b));_0x4d1aab&&_0x51a72e[_0x470330(0x244)]('search-match',!![]);var _0x4fccb8=_0x51a72e[_0x470330(0x174)]()['getBBox']();_0x4af6f2[_0x470330(0x1e2)]({'x1':_0x4fccb8['x']-0x2,'y1':_0x4fccb8['y']-0x2,'x2':_0x4fccb8['x']+_0x4fccb8['width']+0x2,'y2':_0x4fccb8['y']+_0x4fccb8[_0x470330(0x160)]+0x2});}document[_0x246b30(0x169)]('DOMContentLoaded',function(){var _0x2c2a7e=_0x246b30;const _0x4f9a13=document[_0x2c2a7e(0x1a3)](_0x2c2a7e(0x162));_0x4f9a13[_0x2c2a7e(0x1f8)]=medianLinesVisible?_0x2c2a7e(0x1f6):_0x2c2a7e(0x189);});
    </script>
  <script>



        // Global translation helper function
        function getTranslation(key, defaultText) {
            // Split the key into parts (e.g., "tooltip.xg-line-title" -> ["tooltip", "xg-line-title"])
            const keys = key.split('.');
            
            // Try to find the translation in the current language
            try {
                let currentTranslations = window.currentTranslations || {};
                for (const k of keys) {
                    if (currentTranslations && currentTranslations[k]) {
                        currentTranslations = currentTranslations[k];
                    } else {
                        return defaultText;
                    }
                }
                return currentTranslations;
            } catch (e) {
                return defaultText;
            }
        }
        
    
  function setLanguage(language) {
    localStorage.setItem('preferredLanguage', language);
    const url = new URL(window.location.href);
    if (language === 'en') {
      url.searchParams.delete('lang');
    } else {
      url.searchParams.set('lang', language);
    }
    window.history.pushState({}, '', url);
    applyLanguage(language);
  }
  
  function getPreferredLanguage() {
    // PRIORITY 1: Check URL parameter first
    const urlParams = new URLSearchParams(window.location.search);
    const langParam = urlParams.get('lang');
    if (langParam) {
      return langParam;
    }
    // PRIORITY 2: Check localStorage
    const storedLang = localStorage.getItem('preferredLanguage');
    if (storedLang) {
      return storedLang;
    }
    // PRIORITY 3: Use browser language
    return getBrowserLanguage() || 'en';
  }

  function getBrowserLanguage() {
    return navigator.language.slice(0, 2);
  }

  function applyLanguage(language) {
    console.log(language);

    if (language === 'en') {
      return;
    }

    
    fetch(`locales/${language}.json`)
      .then(response => {
        // Don't throw an error, just return null if response is not OK
        return response.ok ? response.json() : null;
      })
      .then(translations => {
        // Only proceed if translations exist
        if (translations) {
            window.currentTranslations = translations;
          document.querySelectorAll('[data-i18n]').forEach(element => {
            const keys = element.getAttribute('data-i18n').split('.');
            let value = translations;
            for (const key of keys) {
              if (value === undefined || value === null) break;
              value = value[key];
            }
            if (value) {
              if (element.tagName === 'META') {
              element.setAttribute('content', value);
          } else if (element.tagName === 'INPUT') {
              element.setAttribute('placeholder', value);
          } else if (value.includes('<')) {
              element.innerHTML = value;
          } else {
              element.textContent = value;
          }          }
          });
          // REMOVE FOR PAGES WITH NO METADATA
          document.querySelector('meta[name="language"]').setAttribute('content', language);
        }
      })
      .catch(() => {
        // Completely empty catch block to silently ignore any errors
      });
  }
  
  const preferredLanguage = getPreferredLanguage();
  applyLanguage(preferredLanguage);
  
  // BUTTON LANGUAGE SWITCHER REMOVE FOR PAGES WITH NO LANGUAGE SWITCHER
  document.addEventListener('DOMContentLoaded', function() {
    const languageButton = document.getElementById('languageButton');
    const languageDropdown = document.getElementById('languageDropdown');
    

    if (languageButton) {
      languageButton.addEventListener('click', function(e) {
        e.stopPropagation();
        languageDropdown.classList.toggle('show');
      });
    }
  
    document.querySelectorAll('.language-option').forEach(option => {
      option.addEventListener('click', function(e) {
        e.preventDefault();
        const lang = this.getAttribute('href').split('=')[1];
        setLanguage(lang);
        languageDropdown.classList.remove('show');
      });
    });
  
    document.addEventListener('click', function(event) {
      if (!event.target.closest('.language-switcher-container')) {
        if (languageDropdown) {
          languageDropdown.classList.remove('show');
        }
      }
    });
  });


function toggleDarkMode() {
            const body = document.querySelector("body");
            body.classList.toggle("dark-mode");
            
            // Store the user's preference in local storage
            const isDarkMode = body.classList.contains("dark-mode");
            localStorage.setItem("darkMode", isDarkMode);
            
            // Update chart to apply dark mode styles to SVG elements
        }
        
        // Check if user has a stored preference for dark mode
        document.addEventListener('DOMContentLoaded', function() {
            const storedDarkMode = localStorage.getItem("darkMode");
            
            if (storedDarkMode === "true") {
                const body = document.querySelector("body");
                body.classList.add("dark-mode");
            }
            
 
        });
        
        function takeScreenshot() {
            const chartContainer = document.querySelector('.chart-container');
            const isDarkMode = document.body.classList.contains('dark-mode');
            
            html2canvas(chartContainer, {
                scale: 2, // Higher quality
                backgroundColor: isDarkMode ? '#2c2c2c' : '#FFFFFF',
                allowTaint: true,
                useCORS: true,
                logging: false
            }).then(function(renderedCanvas) {
                const finalCanvas = document.createElement('canvas');
                finalCanvas.width = renderedCanvas.width;
                finalCanvas.height = renderedCanvas.height;
                const finalCtx = finalCanvas.getContext('2d');
                finalCtx.drawImage(renderedCanvas, 0, 0);
                
                // Load the watermark
                const watermarkImg = new Image();
                watermarkImg.crossOrigin = "Anonymous";
                
                watermarkImg.onload = function() {
                    const watermarkWidth = finalCanvas.width * 0.3;
                    const watermarkHeight = (watermarkWidth / watermarkImg.width) * watermarkImg.height;
                    
                    const x = (finalCanvas.width - watermarkWidth) / 2;
                    const y = (finalCanvas.height - watermarkHeight) / 2;
                    
                    finalCtx.save();
                    finalCtx.globalAlpha = 0.04;
                    finalCtx.drawImage(watermarkImg, x, y, watermarkWidth, watermarkHeight);
                    finalCtx.restore();
                    
                    const dataURL = finalCanvas.toDataURL('image/png', 1.0);
                    const link = document.createElement('a');
                    link.download = 'DataMB Screenshot.png';
                    link.href = dataURL;
                    link.click();
                };
                watermarkImg.src = 'https://datamb.football/logo.png';
            }).catch(function(error) {
            });
        }
        
    </script>
         <center>
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7677714701428206"
                 crossorigin="anonymous"></script>
            <!-- radarplotsearch -->
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-7677714701428206"
                 data-ad-slot="6673239737"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script></center>
</body>
</html>
