<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <meta name="language" content="en">
    <link rel="canonical" href="https://datamb.football/plotteam/" />
<link rel="alternate" hreflang="x-default" href="https://datamb.football/plotteam"/>
<link rel="alternate" hreflang="en" href="https://datamb.football/plotteam/?lang=en" />
<link rel="alternate" hreflang="fr" href="https://datamb.football/plotteam/?lang=fr" />
    <link rel="shortcut icon" type="image/x-icon" href="https://datamb.football/favicon.ico">
    <meta name="description" data-i18n="meta.description" content="Plot Top 7 League team statistics. Visualize team performance and analyze multiple metrics such as Goals, Goals conceded, xG, Shots on target, Pressing, Defensive duels, Pass completion and more for teams in Premier League, La Liga, Bundesliga, Serie A, Ligue 1, Eredivisie, Primeira Liga.">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@DataMB_">
    <meta name="twitter:title" content="DataMB | Plot Teams">
    <meta name="twitter:description" content="Generate scatter plots for Top 7 League teams">
    <meta name="twitter:image" content="https://datamb.football/vignettes/teamplots.png">
    <meta property="og:image" content="https://datamb.football/vignettes/teamplots.png">
    <title data-i18n="meta.title">DataMB | Plot Teams</title>
    <script>
        (function() {
            var width = window.innerWidth;
            var viewportMeta = document.querySelector('meta[name="viewport"]');
            if (viewportMeta) {
      if (width < 645) {
                
            var initialScale = width / 645;
      viewportMeta.setAttribute('content', 'width=device-width, initial-scale=' + initialScale + ', user-scalable=no');
      } else {
                  var fixedScale = 1;
          viewportMeta.setAttribute('content', 'width=device-width, initial-scale=' + fixedScale + ', user-scalable=no');
      
        }
          } 
      })();
      </script>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --background-color: #f5f7fa;
            --container-bg: #ffffff;
            --text-color: #333333;
            --border-color: #e0e0e0;
            --hover-color: #f0f0f0;
            --button-color: #3498db;
            --button-text: #ffffff;
            --header-bg: #ffffff;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .dark-mode {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --background-color: #0e0f0f;
            --container-bg: #1a1a1a;
            --text-color: #e0e0e0;
            --border-color: #333333;
            --hover-color: #252525;
            --button-color: #2980b9;
            --button-text: #ffffff;
            --header-bg: #0e0f0f;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            transition: background-color 0.3s, color 0.3s;
        }

        .header {
            background-color: var(--header-bg);
            display: flex;
            padding: 20px;
            align-items: center;
            justify-content: space-between;
            box-shadow: var(--shadow);
            position: relative;
            font-family: system-ui;
            top: 0;
            z-index: 100;
        }


        .container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
            box-sizing: border-box;
        }

        /* Replace plot-container with a simpler structure */
        .chart-wrapper {
            background-color: var(--container-bg);
            border-radius: 10px;
            box-shadow: var(--shadow);
            padding: 30px;
            margin-bottom: 30px;
            position: relative;
            width: 100%;
        }

        .legend {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            padding: 10px;
            border-top: 1px solid var(--border-color);
            width: 100%;
        }

        .legend-item {
            display: flex;
            align-items: center;
            font-size: 12px;
        }

        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 5px;
            border: 1px solid rgba(0, 0, 0, 0.2);
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 20px;
            justify-content: center;
            align-items: center;
        }

        select, input {
            padding: 8px 12px;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            background-color: var(--container-bg);
            color: var(--text-color);
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            transition: border-color 0.2s;
            height: 36px;
            box-sizing: border-box;
        }

        select:focus, input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        /* Ensure consistent height for controls in the same row */
        select, input, .btn:not(.btn-icon), .custom-select-trigger, .metric-select-trigger {
            height: 36px;
            box-sizing: border-box;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            background-color: var(--button-color);
            color: var(--button-text);
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
            height: 36px;
            box-sizing: border-box;
        }

        .btn:hover {
            background-color: #2980b9;
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-color);
        }

        .btn-outline:hover {
            background-color: var(--hover-color);
        }

        .btn-icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            padding: 0;
            border-radius: 6px;
        }

        #search-bar, #select-league {
            width: 178px;
        }

        #select-x, #select-y {
            width: 190px;
        }

        /* Add tooltip for icon buttons */
        .btn-icon .icon {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
        }

        .btn-icon i {
            font-size: 18px;
        }
        .chart-container {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            margin-top: 30px; /* Consistent spacing from controls */
        }

        #scatter-plot {
            width: 100%;
            height: auto; /* Height will be set dynamically */
            display: block;
            margin: 0 auto;
            max-width: 1082px;
        }
        
  

        .tooltip {
            position: absolute;
            background-color: var(--container-bg);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 10px;
            font-size: 12px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
            box-shadow: var(--shadow);
            z-index: 1000;
        }

        /* Custom button tooltips */
        .btn-tooltip {
            position: relative;
            display: inline-block;
        }

        .btn-tooltip .btn-tooltip-text {
            visibility: hidden;
            width: 120px;
            background-color: var(--container-bg);
            color: var(--text-color);
            text-align: center;
            border-radius: 6px;
            padding: 5px;
            position: absolute;
            z-index: 1001;
            bottom: 125%;
            left: 50%;
            margin-left: -60px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 12px;
            font-weight: normal;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            pointer-events: none;
        }

        /* Hide button tooltips on mobile */
        @media (max-width: 768px) {
            .btn-tooltip .btn-tooltip-text {
                display: none;
            }
        }

        .btn-tooltip .btn-tooltip-text::after {
            content: "";
            position: absolute;
            top: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: var(--border-color) transparent transparent transparent;
        }

        .btn-tooltip:hover .btn-tooltip-text {
            visibility: visible;
            opacity: 1;
        }

        .player-name {
            font-size: 12px;
            font-weight: 500;
        }

        circle {
            cursor: pointer;
            transition: r 0.2s, fill 0.2s;
        }


        /* Add new styles for better search highlighting */
        circle.search-match {
            fill: #ff3366 !important; /* Bright pink fill */
            stroke: #ffffff;
            stroke-width: 2px;
            filter: drop-shadow(0 0 5px rgba(255, 51, 102, 0.7));
            animation: circlePulse 1.5s infinite ease-in-out;
        }

        .dark-mode circle.search-match {
            stroke: #000000;
        }

        @keyframes circlePulse {
            0% { r: 6; }
            50% { r: 9; }
            100% { r: 6; }
        }

        .team-label.search-match {
            font-weight: 700 !important;
            fill: #ff3366 !important;
            filter: drop-shadow(0 0 2px rgba(255, 255, 255, 1));
            opacity: 1 !important;
            animation: labelPulse 1.5s infinite ease-in-out;
        }

        @keyframes labelPulse {
            0% { font-size: 12px; }
            50% { font-size: 14px; }
            100% { font-size: 12px; }
        }

        .dark-mode .team-label.search-match {
            filter: drop-shadow(0 0 2px rgba(0, 0, 0, 1));
        }

        .team-label.search-dimmed {
            opacity: 0 !important;
        }

        .team-label {
            pointer-events: none;
            text-shadow: 0px 0px 2px white, 0px 0px 2px white, 0px 0px 2px white, 0px 0px 2px white;
        }

        .dark-mode .team-label {
            fill: #f5f5f5 !important;
            text-shadow: 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a, 0px 0px 2px #1a1a1a;
        }

        .dark-mode-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--container-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: var(--shadow);
            z-index: 100;
            transition: background-color 0.3s;
        }

        .dark-mode-toggle.mobile-only {
            position: fixed;
            bottom: 20px;
            right: 20px;
        }

        .dark-mode-toggle.pc-only {
            position: relative;
            bottom: auto;
            right: auto;
        }

        .pc-only {
            display: flex;
        }

        .mobile-only {
            display: none;
        }

        .toggle-icon::before {
            font-family: "Ionicons";
            content: "\f467";
            font-size: 30px;
            color: var(--text-color);
        }

        .dark-mode .toggle-icon::before {
            content: "\f3b0";
            font-size: 20px;
        }

        @media (max-width: 768px) {
            .pc-only {
                display: none;
            }
            
            .mobile-only {
                display: flex;
            }
  
            
  .chart-wrapper {
      padding: 15px;
  }
  
  
  /* Remove fixed height for scatter plot - now handled by updateChartDimensions */
  #scatter-plot {
      min-height: 500px; /* Minimum height for mobile */
  }
  
  select, input {
      width: 100%;
  }
  
  
  /* Make text elements more readable on mobile */
  .x-label, .y-label {
      font-size: 12px;
  }
  
  /* Adjust tooltip position for mobile */
  .tooltip {
      max-width: 80%;
  }
}

        /* Styles for the diagonal reference line */
        .dark-mode .xy-line {
            stroke: #3cb371; /* Slightly different green for dark mode */
        }


  
  .search-input-modal {
      display: none;
      position: fixed; 
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7); 
      z-index: 999; 
  }
  
  .search-input-container {
      position: absolute;
      top: 30%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #fff;
      padding: 20px;
      border-radius: 4px;
      z-index: 1000; 
  }
  
  #searchInput {
              width: 370px;
              padding: 12px;
              border: 3px solid #ccc;
              border-radius: 4px;
              font-size: 18.3px;
              outline: none;
              height: 50px;
              color: #000000;
              background-color: #fff;
              ;          }
  
          #autocompleteBox {
              width: 370px;
              max-height: 150px;
              overflow-y: auto;
              background-color: #fff;
          }
  
  
          #autocompleteBox ul {
              list-style: none;
              padding: 0;
              margin: 0;
          }
  
          #autocompleteBox li {
              margin: 0;
              padding: 5px;
          }
  
          #autocompleteBox {
              line-height: 2; 
              text-align: center !important;
  
          }
  
          #autocompleteBox a {
              text-decoration: none;
              font-family: Arial, sans-serif;
              text-align: center !important;
              color: #333 !important;
              cursor: pointer; 
          }
  
          #autocompleteBox li:hover {
              background-color: #f0f0f0;
          }
          #searchButton3 {
            padding: 8.5px;  /* Reduced from 10px */
  background-color: #0074d9;
  color: #fff;
  border: none;
  width: 34px;  /* Reduced from 40px */
  height: 34px;  /* Reduced from 40px */
  border-radius: 50%;
  cursor: pointer;
  font-size: 17px;  /* Reduced from 20px */
  }


  body.dark-mode .header .button10 {
      color: #aeaeae;
}
body.dark-mode .header .button10:hover {
  color: #2563eb;
background-color: #ffffff;
}

    body.dark-mode header a {
      color: #aeaeae;
}

body.dark-mode .header .logo img {
  opacity: 0.88;
}


body.dark-mode .language-button {
      background-color: #0F0F0E;
      color: #aeaeae;
}


  

.header .logo {
  display: flex;
  align-items: center;
  margin-right: auto; /* Push logo to the left */
}

.header .logo img {
  height: 34px;
  width: auto;
  opacity: 0.84;
}
.header .logo-text {
  margin-left: 10px;
  font-size: 23px;
  font-weight: 600;
  transform: translateY(-1.1px); /* Move logo text slightly higher */
}

.header .navigation {
  display: flex;
  align-items: center;
  gap: 25px; /* Reduced gap between buttons */
  position: absolute;
  left: 50%;
  transform: translateX(-50%) translateY(-2px); /* Center the navigation and move it higher */
}



.header .button10 {
  padding: 0.5rem 1rem;
  text-decoration: none;
  color: #333;
  line-height: 1.6;
  border-radius: 4px;
  transition: background-color 0.2s;
  font-size: 1.1rem;  /* Added larger font size */
}


.header .button10:hover {
  background-color: #f0f0f0;
  color: #2563eb;

}



/* Group search and language buttons */
.header-right {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-left: auto; /* Push buttons to the right */
  transform: translateY(-1.25px); /* Move search and language buttons higher */
}

header a {
      color: black;
      text-decoration: none;
    }

.language-switcher-container {
  position: relative;
  display: inline-block;
}

.language-button {
  background: none;
  border: none;
  cursor: pointer;
  padding: 10px;
  color: #444444;
  display: flex;
  align-items: center;
  font-size: 17px;
}

.language-button iconify-icon {
  font-size: 24px;
  opacity: 0.7;
}

.language-dropdown {
  display: none;
  position: absolute;
  top: 100%;
  right: 0;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  padding: 10px;
  width: 200px;
  z-index: 1000;
}

.language-option {
  display: flex;
  align-items: center;
  padding: 8px 12px;
  cursor: pointer;
  border-radius: 4px;
  color: #444444;
  text-decoration: none;
}



.language-option iconify-icon {
  margin-right: 10px;
  font-size: 20px;
}

.language-dropdown.show {
  display: block;
}

/* Styles for flag icons in select dropdown */
#select-league option {
    display: flex;
    align-items: center;
    padding: 8px 12px;
}

#select-league iconify-icon {
    display: inline-flex;
    vertical-align: middle;
}

/* Styles for custom league selector dropdown */
.custom-select-container {
    position: relative;
    width: 172px;
}

.metric-select-container {
    position: relative;
    width: 192px;
}

.custom-select-option, .metric-select-option {
    display: flex;
    align-items: center;
    padding: 8px 16px;
    cursor: pointer;
    color: var(--text-color);
    background-color: var(--container-bg);
}


.custom-select-option iconify-icon, .metric-select-option iconify-icon {
    margin-right: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.custom-select-trigger, .metric-select-trigger {
    display: flex;
    align-items: center;
    padding: 0 12px;
    border: 1px solid var(--border-color);
    border-radius: 6px;
    background-color: var(--container-bg);
    color: var(--text-color);
    font-family: 'Inter', sans-serif;
    font-size: 14px;
    cursor: pointer;
    user-select: none;
    position: relative;
    line-height: 1;
}

.custom-select-trigger span, .metric-select-trigger span {
    display: inline-block;
    transform: translateY(1px);
    white-space: nowrap;
    overflow: hidden;
    max-width: calc(100% - 20px); /* Account for the icon width and margin */
    line-height: normal; /* Ensure consistent line height */    
}


/* Make the league selector span 30px smaller */
#league-select-trigger span {
    max-width: calc(100% - 45px); /* 20px + 30px reduction */
}

.custom-select-trigger::after, .metric-select-trigger::after {
    content: '';
    width: 6px;
    height: 6px;
    margin-left: auto;
    border-right: 1.5px solid var(--text-color);
    border-bottom: 1.5px solid var(--text-color);
    transform: rotate(45deg) translateY(-2px);
    transition: transform 0.3s;
    opacity: 0.7;
    margin-right: 2px;
}

.custom-select-trigger.open::after, .metric-select-trigger.open::after {
    transform: rotate(-135deg) translateY(1px);
}

.custom-select-options, .metric-select-options {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background-color: var(--container-bg);
    border: 1px solid var(--border-color);
    border-radius: 6px;
    margin-top: 4px;
    max-height: 300px;
    overflow-y: auto;
    z-index: 100;
    font-size: 13px;
    display: none;
    box-shadow: var(--shadow);
}


.custom-select-option:hover, .metric-select-option:hover {
    background-color: var(--hover-color);
}



.custom-select-option.selected {
    background-color: var(--primary-color);
    color: white;
}

.metric-select-option.selected {
    background-color: var(--primary-color);
    color: white;
}


.dark-mode .custom-select-option:hover {
    background-color: var(--hover-color);
}

.dark-mode .custom-select-option.selected {
    background-color: var(--primary-color);
    color: white;
}

@media (max-width: 768px) {
    .custom-select-option {
        padding: 6px 12px;
    }
}

body.dark-mode .language-button:hover {
      background-color: #0F0F0E;
      color: #aeaeae;
}

body.dark-mode .language-dropdown {
  background: #e8e6e6;
}

body.dark-mode .language-option {
  color: #000000;
}

/* Dark mode styles for custom dropdown */
.dark-mode .custom-select-trigger,
.dark-mode .custom-select-options,
.dark-mode .metric-select-trigger,
.dark-mode .metric-select-options {
    border-color: var(--border-color);
    background-color: var(--container-bg);
    color: var(--text-color);
}

.dark-mode .custom-select-option:hover,
.dark-mode .metric-select-option:hover {
    background-color: var(--hover-color);
}

.dark-mode .custom-select-option.selected,
.dark-mode .metric-select-option.selected {
    background-color: rgba(52, 152, 219, 0.2);
}

/* Adjust flag icon alignment in the trigger */
#league-select-trigger iconify-icon {
    margin-right: 8px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transform: translateY(-1px);
}
@media screen and (max-width: 550px) { .header .navigation { display: none; } }

        /* Enhanced Dark Mode Styles */
        .dark-mode .chart-wrapper {
            background-color: var(--container-bg);
            border: 1px solid #333;
        }

        .dark-mode .btn {
            background-color: var(--button-color);
        }

        .dark-mode .btn-outline {
            background-color: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-color);
        }

        .dark-mode .btn-outline:hover {
            background-color: var(--hover-color);
            border-color: #444;
        }


        .dark-mode input, 
        .dark-mode select {
            background-color: #1a1a1a;
            color: var(--text-color);
            border-color: #333;
        }

        .dark-mode input::placeholder {
            color: #777;
        }

        .dark-mode input:focus, 
        .dark-mode select:focus {
            border-color: var(--primary-color);
            outline: none;
        }

        .dark-mode .tooltip {
            background-color: #1a1a1a;
            border-color: #333;
            color: var(--text-color);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .legend {
            border-top-color: #333;
        }

        .dark-mode .legend-item {
            color: #ccc;
        }

        .dark-mode .btn-tooltip .btn-tooltip-text {
            background-color: #1a1a1a;
            border-color: #333;
            color: #e0e0e0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .btn-tooltip .btn-tooltip-text::after {
            border-color: #333 transparent transparent transparent;
        }

        .dark-mode .team-label {
            fill: #e0e0e0 !important;
            text-shadow: 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f, 0px 0px 3px #0e0f0f;
        }

        .dark-mode .x-axis path,
        .dark-mode .y-axis path,
        .dark-mode .x-axis line,
        .dark-mode .y-axis line {
            stroke: #444;
        }

        .dark-mode .x-axis text,
        .dark-mode .y-axis text {
            fill: #aaa;
        }

        .dark-mode .x-label,
        .dark-mode .y-label {
            fill: #ccc;
        }

        .dark-mode .median-line {
            stroke: rgba(255, 255, 255, 0.2) !important;
        }

        .dark-mode .xy-line {
            stroke: #2ecc71;
            opacity: 0.8;
        }

        .dark-mode .dark-mode-toggle {
            background-color: #1a1a1a;
            border: 1px solid #333;
        }

        .dark-mode .toggle-icon::before {
            color: #e0e0e0;
        }

 



        .dark-mode #searchButton3 {
            background-color: #0074d9;
            color: #fff;
        }


        .dark-mode .header .button10 {
            color: #aaa;
        }

        .dark-mode .header .button10:hover {
            color: #2563eb;
            background-color: #1a1a1a;
        }

        .dark-mode header a {
            color: #aaa;
        }

        .dark-mode .header .logo img {
            opacity: 0.9;
            filter: brightness(0.9);
        }

        .dark-mode .language-button {
            background-color: #0e0f0f;
            color: #aaa;
        }

        .dark-mode .language-button:hover {
            background-color: #1a1a1a;
        }

        .dark-mode .language-dropdown {
            background: #1a1a1a;
            border: 1px solid #333;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .dark-mode .language-option {
            color: #e0e0e0;
        }

        .dark-mode .language-option:hover {
            background-color: #252525;
        }

        .dark-mode #search-bar::placeholder {
            color: #777;
        }

        .dark-mode circle {
            stroke-width: 1px;
        }

        .dark-mode circle.search-match {
            fill: #ff3366 !important;
            stroke: #0e0f0f;
            stroke-width: 2px;
            filter: drop-shadow(0 0 5px rgba(255, 51, 102, 0.7));
        }

  
        
        /* Additional dark mode styles for chart elements */
        .dark-mode .chart-container {
            background-color: var(--container-bg);
        }
        
  
        
    
        
        
        /* Fix for custom select dropdown in dark mode */
        .dark-mode .custom-select-trigger::after, 
        .dark-mode .metric-select-trigger::after {
            border-right: 1.5px solid var(--text-color);
            border-bottom: 1.5px solid var(--text-color);
        }
        
        /* Improve contrast for selected items in dark mode */
        .dark-mode .custom-select-option.selected, 
        .dark-mode .metric-select-option.selected {
            background-color: rgba(52, 152, 219, 0.3);
        }
        
        /* Improve visibility of SVG elements in dark mode */
        .dark-mode svg text {
            fill: #ccc;
        }
        
        .dark-mode .legend-color {
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        /* Improve button states in dark mode */
        .dark-mode .btn:hover {
            background-color: #3498db;
        }
        
        .dark-mode .btn-outline:active {
            background-color: #333;
        }
        
        /* Improve focus states for accessibility */
        .dark-mode input:focus,
        .dark-mode select:focus,
        .dark-mode .btn:focus {
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.5);
        }
        
        /* Fix for buttons staying focused with blue outline */
        button:focus, 
        .btn:focus, 
        select:focus, 
        input:focus {
            outline: none;
        }
        
        /* Custom focus styles for better accessibility */
        button:focus-visible, 
        .btn:focus-visible, 
        select:focus-visible, 
        input:focus-visible {
            outline: none;
            box-shadow: 0 0 0 2px var(--primary-color);
        }
        
        /* Remove focus styles when using mouse */
        button:focus:not(:focus-visible), 
        .btn:focus:not(:focus-visible), 
        select:focus:not(:focus-visible), 
        input:focus:not(:focus-visible) {
            box-shadow: none;
        }



.logo img {
  width: 50px;
  height: 50px;
}

/* Promo links styling */
.promo-links-container {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
    margin: 15px auto 25px;
    max-width: 800px;
    flex-wrap: wrap;
    padding: 0 20px;
}

.promo-link {
    display: flex;
    align-items: center;
    padding: 10px 15px;
    background-color: var(--container-bg);
    color: var(--text-color);
    text-decoration: none;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    transition: all 0.3s ease;
    box-shadow: var(--shadow);
    font-weight: 500;
    flex: 1;
    min-width: 220px;
    max-width: 350px;
    justify-content: center;
}

.promo-link iconify-icon {
    margin-right: 8px;
}

.promo-link:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.radar-link {
    border-left: 4px solid #3498db;
}

.pro-link {
    border-left: 4px solid #f39c12;
}

.dark-mode .radar-link {
    border-left: 4px solid #2980b9;
}

.dark-mode .pro-link {
    border-left: 4px solid #d35400;
}

@media (max-width: 768px) {
  

    
    select, input {
        width: 100%;
    }
    
    /* Make text elements more readable on mobile */
    .x-label, .y-label {
        font-size: 12px;
    }
    
    /* Adjust tooltip position for mobile */
    .tooltip {
        max-width: 80%;
    }
    
    /* Adjust promo links for mobile */
    .promo-links-container {
        flex-direction: column;
        align-items: center;
        gap: 10px;
        padding: 0 15px;
    }
}


.custom-select-option {
    -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            
}
        /* Disable text selection for SVG text elements */
        svg text, .legend,
        .x-label,
        .y-label,
        .team-label,
        .player-name,
        .x-axis text,
        .y-axis text {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            pointer-events: none;
        }


    </style>

  <header class="header">
    <div class="logo">
      <a href="https://datamb.football">
        <img src="https://datamb.football/logo.png" alt="Football team statistics comparison. Radar comparison tool. Visualise and compare team data from the top 7 leagues : Premier League, La Liga, Bundesliga, Serie A, Ligue 1, Eredivisie, Primeira Liga" /></a>
        <div class="logo-text"><a href="https://datamb.football">&nbsp;Teams</a></div>
    </div>
    <nav class="navigation">
      <a href="https://datamb.football" class="button10" data-i18n="header.home">Home</a>
      <a href="https://datamb.football/join" class="button10" data-i18n="header.pro">Pro</a>
      <a href="https://datamb.football/guide" class="button10" data-i18n="header.guide">Guide</a>
    </nav>
    <div class="header-right">
    <div class="search-container">
      <button id="searchButton3"><iconify-icon icon="ion:search-outline"></iconify-icon></button>
  </div>
    <div class="language-switcher-container">
      <button class="language-button" id="languageButton">
        <iconify-icon icon="heroicons:globe-alt"></iconify-icon>
      </button>
      <div class="language-dropdown" id="languageDropdown">
        <a href="?lang=en" class="language-option"><iconify-icon icon="flag:gb-4x3"></iconify-icon>English</a>
        <a href="?lang=fr" class="language-option"><iconify-icon icon="flag:fr-4x3"></iconify-icon>Français</a>  
    </div>
    </div></div>
  </header>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7677714701428206"
     crossorigin="anonymous"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PSBMXX80EF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-PSBMXX80EF');
</script>
</head>
<div class="search-input-modal" id="searchInputModal">
    <div class="search-input-container">
        <input type="text" id="searchInput" data-i18n="search.placeholder" placeholder="Enter a team or player name...">
        <div id="autocompleteBox"></div>
    </div>
</div>
<script>
    const xhr1 = new XMLHttpRequest();
  xhr1.open('GET', 'https://datamb.football/database/searchbar.csv', false); // false for synchronous request
  xhr1.send(null);
  
  let dataCSV = xhr1.responseText;
    
function _0x5707(_0xd20fa7,_0x4d36b5){const _0x4dcd69=_0x4dcd();return _0x5707=function(_0x57077a,_0xde96b9){_0x57077a=_0x57077a-0x140;let _0x383e81=_0x4dcd69[_0x57077a];return _0x383e81;},_0x5707(_0xd20fa7,_0x4d36b5);}const _0xedf2b2=_0x5707;(function(_0x16e1b0,_0x125833){const _0x222c5a=_0x5707,_0x3f540c=_0x16e1b0();while(!![]){try{const _0x3105f2=parseInt(_0x222c5a(0x161))/0x1+parseInt(_0x222c5a(0x144))/0x2+parseInt(_0x222c5a(0x148))/0x3+-parseInt(_0x222c5a(0x155))/0x4+parseInt(_0x222c5a(0x141))/0x5*(-parseInt(_0x222c5a(0x145))/0x6)+-parseInt(_0x222c5a(0x157))/0x7+parseInt(_0x222c5a(0x14b))/0x8*(parseInt(_0x222c5a(0x159))/0x9);if(_0x3105f2===_0x125833)break;else _0x3f540c['push'](_0x3f540c['shift']());}catch(_0x450250){_0x3f540c['push'](_0x3f540c['shift']());}}}(_0x4dcd,0x1bc51));const dataLines=dataCSV[_0xedf2b2(0x160)]('\x0a'),searchButton3=document[_0xedf2b2(0x142)]('searchButton3'),searchInputModal=document[_0xedf2b2(0x142)](_0xedf2b2(0x14a)),searchInput=document[_0xedf2b2(0x142)](_0xedf2b2(0x143)),autocompleteBox=document[_0xedf2b2(0x142)](_0xedf2b2(0x162)),data11=dataLines[_0xedf2b2(0x146)](_0x19546c=>{const _0x89300c=_0xedf2b2,[_0x5af128,_0x515bec]=_0x19546c[_0x89300c(0x160)](',');return{'name':_0x5af128,'link':_0x515bec};});function removeDiacritics(_0x3ed1af){const _0x202611=_0xedf2b2,_0x4b45cf={'ø':'o','Ø':'O','ı':'i'};return _0x3ed1af=_0x3ed1af[_0x202611(0x147)](/[øØıI]/g,_0x19f74a=>_0x4b45cf[_0x19f74a]),_0x3ed1af[_0x202611(0x15d)]('NFD')[_0x202611(0x147)](/[\u0300-\u036f]/g,'');}function search2(_0x1db14d){const _0x26c944=_0xedf2b2;autocompleteBox[_0x26c944(0x15e)]='';const _0x321867=removeDiacritics(_0x1db14d)[_0x26c944(0x147)](/[^\w\s]/g,'')[_0x26c944(0x149)](),_0x3ad89e=data11[_0x26c944(0x15c)](_0xb995bf=>{const _0x3866b0=_0x26c944,_0x2b7de7=removeDiacritics(_0xb995bf[_0x3866b0(0x14e)])['replace'](/[^\w\s]/g,'')[_0x3866b0(0x149)]();return _0x2b7de7['includes'](_0x321867);});if(_0x3ad89e[_0x26c944(0x163)]===0x0){autocompleteBox[_0x26c944(0x152)][_0x26c944(0x14c)]='none';return;}_0x3ad89e[_0x26c944(0x151)](_0x4b9def=>{const _0x31eeb1=_0x26c944,_0x505ab8=document[_0x31eeb1(0x14d)]('div'),_0x3a2d70=document[_0x31eeb1(0x14d)]('a');_0x3a2d70['href']=_0x4b9def[_0x31eeb1(0x154)],_0x3a2d70[_0x31eeb1(0x150)]=_0x4b9def[_0x31eeb1(0x14e)],_0x505ab8[_0x31eeb1(0x15b)](_0x3a2d70),autocompleteBox[_0x31eeb1(0x15b)](_0x505ab8);}),autocompleteBox['style'][_0x26c944(0x14c)]=_0x26c944(0x153);}searchButton3[_0xedf2b2(0x156)](_0xedf2b2(0x14f),()=>{const _0x350b96=_0xedf2b2;searchInputModal['style'][_0x350b96(0x14c)]=_0x350b96(0x153);}),searchInput['addEventListener'](_0xedf2b2(0x158),()=>{const _0x122364=_0xedf2b2,_0x1aac33=searchInput['value'];_0x1aac33[_0x122364(0x140)]()===''?autocompleteBox[_0x122364(0x152)][_0x122364(0x14c)]='none':search2(_0x1aac33);}),document['addEventListener']('click',_0x17873a=>{const _0x2c2a21=_0xedf2b2;_0x17873a[_0x2c2a21(0x15a)]===searchInputModal&&(searchInputModal[_0x2c2a21(0x152)][_0x2c2a21(0x14c)]=_0x2c2a21(0x15f));});function _0x4dcd(){const _0x3abacf=['forEach','style','block','link','165476bdcaHI','addEventListener','430668iEzpyY','input','90cmGEmO','target','appendChild','filter','normalize','innerHTML','none','split','102625kyWWmb','autocompleteBox','length','trim','5KymJaR','getElementById','searchInput','423476PJmBDe','1170534HGXHHf','map','replace','60222cRWbFM','toLowerCase','searchInputModal','61832bbygIm','display','createElement','name','click','textContent'];_0x4dcd=function(){return _0x3abacf;};return _0x4dcd();}
  
  
  
  </script>


<body>
    <div class="container">
        <div class="chart-wrapper">
            <div class="controls">
                <select id="select-x" style="display: none;"></select>
                <select id="select-y" style="display: none;"></select>
                <select id="select-league" style="display: none;" onchange="updateChart()">
                    <option value="all">Top 7 Leagues</option>
                    <option value="Top 5 Leagues">Top 5 Leagues</option>
                    <option value="Premier League">Premier League</option>
                    <option value="La Liga">La Liga</option>
                    <option value="Bundesliga">Bundesliga</option>
                    <option value="Serie A">Serie A</option> 
                    <option value="Ligue 1">Ligue 1</option>
                    <option value="Eredivisie">Eredivisie</option>
                    <option value="Primeira Liga">Liga Portugal</option>
                </select>
                
                <!-- Custom X metric selector -->
                <div class="metric-select-container">
                    <div class="metric-select-trigger" id="x-metric-trigger">
                        <span data-i18n="metrics.goals-per-90">Goals per 90</span>
                    </div>
                    <div class="metric-select-options" id="x-metric-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Custom Y metric selector -->
                <div class="metric-select-container">
                    <div class="metric-select-trigger" id="y-metric-trigger">
                        <span data-i18n="metrics.xg-per-90">xG per 90</span>
                    </div>
                    <div class="metric-select-options" id="y-metric-options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Custom league selector with flag icons -->
                <div class="custom-select-container">
                    <div class="custom-select-trigger" id="league-select-trigger">
                        <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                        <span data-i18n="leagues.top7">Top 7 Leagues</span>
                    </div>
                    <div class="custom-select-options" id="league-select-options">
                        <div class="custom-select-option selected" data-value="all">
                            <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                            <span data-i18n="leagues.top7">Top 7 Leagues</span>
                        </div>
                        <div class="custom-select-option" data-value="Top 5 Leagues">
                            <iconify-icon icon="emojione:flag-for-flag-european-union" width="18" height="18"></iconify-icon>
                            <span data-i18n="leagues.top5">Top 5 Leagues</span>
                        </div>
                        <div class="custom-select-option" data-value="Premier League">
                            <iconify-icon icon="emojione:flag-for-united-kingdom" width="18" height="18"></iconify-icon>
                            <span>Premier League</span>
                        </div>
                        <div class="custom-select-option" data-value="La Liga">
                            <iconify-icon icon="emojione:flag-for-spain" width="18" height="18"></iconify-icon>
                            <span>La Liga</span>
                        </div>
                        <div class="custom-select-option" data-value="Bundesliga">
                            <iconify-icon icon="emojione:flag-for-germany" width="18" height="18"></iconify-icon>
                            <span>Bundesliga</span>
                        </div>
                        <div class="custom-select-option" data-value="Serie A">
                            <iconify-icon icon="emojione:flag-for-italy" width="18" height="18"></iconify-icon>
                            <span>Serie A</span>
                        </div>
                        <div class="custom-select-option" data-value="Ligue 1">
                            <iconify-icon icon="emojione:flag-for-france" width="18" height="18"></iconify-icon>
                            <span>Ligue 1</span>
                        </div>
                        <div class="custom-select-option" data-value="Eredivisie">
                            <iconify-icon icon="emojione:flag-for-netherlands" width="18" height="18"></iconify-icon>
                            <span>Eredivisie</span>
                        </div>
                        <div class="custom-select-option" data-value="Primeira Liga">
                            <iconify-icon icon="emojione:flag-for-portugal" width="18" height="18"></iconify-icon>
                            <span>Liga Portugal</span>
                        </div>
                    </div>
                </div>
                
                <input type="text" id="search-bar" data-i18n="search.placeholder2" placeholder="Search team...">
                <div class="btn-tooltip">
                    <button id="toggle-median-lines" class="btn btn-outline btn-icon">
                        <div class="icon">
                            <i class="ion-stats-bars"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" id="median-lines-tooltip" data-i18n="tooltip.median-lines">Show median lines</span>
                </div>
                <div class="btn-tooltip">
                    <button class="btn btn-outline btn-icon" id="select-all-button" onclick="selectAllCircles()">
                        <div class="icon">
                            <i class="ion-ios-circle-filled" id="select-icon"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" id="select-all-tooltip" data-i18n="tooltip.select-all">Select all teams</span>
                </div>
                <div class="btn-tooltip">
                    <button class="btn btn-outline btn-icon" onclick="takeScreenshot()">
                        <div class="icon">
                            <i class="ion-camera"></i>
                        </div>
                    </button>
                    <span class="btn-tooltip-text" data-i18n="tooltip.screenshot">Download chart as image</span>
                </div>
            </div>
       
            <div class="chart-container">
              <svg id="scatter-plot"></svg>
            </div>

            <div class="legend" id="league-legend">
              <!-- Legend items will be added here dynamically -->
            </div>
        </div>

        <div class="promo-links-container">
            <a href="https://datamb.football/teamradars" class="promo-link radar-link">
                <iconify-icon icon="mdi:radar" width="20" height="20"></iconify-icon>
                <span data-i18n="promo.radar-link">Compare Teams with Radars</span>
            </a>
            <a href="https://datamb.football/join" class="promo-link pro-link">
                <iconify-icon icon="mdi:account-star" width="20" height="20"></iconify-icon>
                <span data-i18n="promo.pro-link">Get Pro for Player Plots</span>
            </a>
            <div class="dark-mode-toggle pc-only" onclick="toggleDarkMode()">
                <div class="toggle-icon"></div>
            </div>
        </div>
    </div>

    <div class="dark-mode-toggle mobile-only" onclick="toggleDarkMode()">
        <div class="toggle-icon"></div>
    </div>

    <script>
        var _0x1b3269=_0x4a12;(function(_0x4d54bb,_0x46ddd2){var _0x20c56c=_0x4a12,_0x4681d5=_0x4d54bb();while(!![]){try{var _0x466cb4=-parseInt(_0x20c56c(0xe0))/0x1+parseInt(_0x20c56c(0x157))/0x2*(-parseInt(_0x20c56c(0x16e))/0x3)+parseInt(_0x20c56c(0xd8))/0x4*(parseInt(_0x20c56c(0x158))/0x5)+-parseInt(_0x20c56c(0x102))/0x6*(parseInt(_0x20c56c(0x138))/0x7)+-parseInt(_0x20c56c(0x125))/0x8*(parseInt(_0x20c56c(0xfd))/0x9)+-parseInt(_0x20c56c(0x110))/0xa*(-parseInt(_0x20c56c(0xb6))/0xb)+-parseInt(_0x20c56c(0x11b))/0xc*(-parseInt(_0x20c56c(0xd2))/0xd);if(_0x466cb4===_0x46ddd2)break;else _0x4681d5['push'](_0x4681d5['shift']());}catch(_0x1b11d7){_0x4681d5['push'](_0x4681d5['shift']());}}}(_0x484c,0x20b73));let initializeCustomSelectors=function(){var _0xff7810=_0x4a12;const _0x4aa0ab=document[_0xff7810(0x141)](_0xff7810(0x114)),_0x15d6ac=document['getElementById'](_0xff7810(0x104)),_0x2cf03d=document['getElementById']('select-league');setupCustomSelect(_0x4aa0ab,_0x15d6ac,_0x2cf03d);const _0x7a982a=document[_0xff7810(0x141)]('x-metric-trigger'),_0x280ff=document['getElementById'](_0xff7810(0x12b)),_0x4bd28b=document[_0xff7810(0x141)](_0xff7810(0xe7));populateMetricOptions(_0x280ff,header['slice'](0x3),function(_0x3fdd37,_0x2c321c){var _0x11ebd2=_0xff7810;_0x7a982a[_0x11ebd2(0xdc)](_0x11ebd2(0x15b))['textContent']===_0x2c321c&&_0x3fdd37[_0x11ebd2(0x140)][_0x11ebd2(0x103)](_0x11ebd2(0x14b));if(_0x2c321c===header[0x3]){_0x3fdd37[_0x11ebd2(0x140)][_0x11ebd2(0x103)](_0x11ebd2(0x14b)),_0x7a982a[_0x11ebd2(0xdc)](_0x11ebd2(0x15b))[_0x11ebd2(0x169)]=_0x2c321c;const _0x4804d6=_0x2c321c[_0x11ebd2(0xde)]()[_0x11ebd2(0x121)](/ /g,'-')[_0x11ebd2(0x121)](/%/g,_0x11ebd2(0xf1));_0x7a982a['querySelector'](_0x11ebd2(0x15b))[_0x11ebd2(0x100)](_0x11ebd2(0x139),_0x11ebd2(0xd4)+_0x4804d6);}}),setupCustomSelect(_0x7a982a,_0x280ff,_0x4bd28b);const _0x26828d=document['getElementById']('y-metric-trigger'),_0x30c4d5=document[_0xff7810(0x141)]('y-metric-options'),_0xa81376=document['getElementById']('select-y');populateMetricOptions(_0x30c4d5,header[_0xff7810(0x164)](0x3),function(_0x396118,_0x4ca152){var _0x1b1022=_0xff7810;_0x26828d['querySelector'](_0x1b1022(0x15b))[_0x1b1022(0x169)]===_0x4ca152&&_0x396118[_0x1b1022(0x140)][_0x1b1022(0x103)](_0x1b1022(0x14b));if(_0x4ca152===header[0x4]){_0x396118['classList']['add']('selected'),_0x26828d[_0x1b1022(0xdc)](_0x1b1022(0x15b))[_0x1b1022(0x169)]=_0x4ca152;const _0x1fd67c=_0x4ca152['toLowerCase']()[_0x1b1022(0x121)](/ /g,'-')[_0x1b1022(0x121)](/%/g,_0x1b1022(0xf1));_0x26828d[_0x1b1022(0xdc)]('span')['setAttribute']('data-i18n',_0x1b1022(0xd4)+_0x1fd67c);}}),setupCustomSelect(_0x26828d,_0x30c4d5,_0xa81376);};function populateMetricOptions(_0x19efa4,_0x13d9b7,_0x479de3){var _0x4aaab6=_0x4a12;_0x19efa4['innerHTML']='',_0x13d9b7[_0x4aaab6(0xc5)](function(_0x18aec7){var _0x3c25f5=_0x4aaab6;const _0x4b650f=document['createElement'](_0x3c25f5(0xb8));_0x4b650f['className']=_0x3c25f5(0x16a),_0x4b650f[_0x3c25f5(0x100)]('data-value',_0x18aec7);const _0x442896=document[_0x3c25f5(0xd1)](_0x3c25f5(0x15b));_0x442896[_0x3c25f5(0x169)]=_0x18aec7;const _0xd7a186=_0x18aec7['toLowerCase']()[_0x3c25f5(0x121)](/ /g,'-')[_0x3c25f5(0x121)](/%/g,'pct');_0x442896['setAttribute'](_0x3c25f5(0x139),_0x3c25f5(0xd4)+_0xd7a186),_0x4b650f[_0x3c25f5(0x12e)](_0x442896);if(_0x479de3)_0x479de3(_0x4b650f,_0x18aec7);_0x19efa4['appendChild'](_0x4b650f);});}function setupCustomSelect(_0x5730d2,_0x4c7f99,_0x4a1a8e){var _0x5b1cab=_0x4a12;_0x5730d2[_0x5b1cab(0x177)]('click',function(){var _0x4f92fc=_0x5b1cab;document[_0x4f92fc(0x8f)](_0x4f92fc(0xf3))['forEach'](function(_0xc8409a){var _0x5d2cfa=_0x4f92fc;if(_0xc8409a!==_0x5730d2){_0xc8409a['classList'][_0x5d2cfa(0x163)]('open');const _0x50dd81=_0xc8409a['nextElementSibling'];if(_0x50dd81)_0x50dd81['style'][_0x5d2cfa(0xa9)]=_0x5d2cfa(0xc0);}}),_0x5730d2[_0x4f92fc(0x140)][_0x4f92fc(0xb5)](_0x4f92fc(0xa7));const _0x2d7795=_0x5730d2[_0x4f92fc(0x140)][_0x4f92fc(0x155)](_0x4f92fc(0xa7));_0x4c7f99[_0x4f92fc(0xec)][_0x4f92fc(0xa9)]=_0x2d7795?_0x4f92fc(0xa6):_0x4f92fc(0xc0);});const _0x5883bd=_0x4c7f99['querySelectorAll'](_0x5b1cab(0xf6));_0x5883bd[_0x5b1cab(0xc5)](_0x536cb6=>{var _0xe576e6=_0x5b1cab;_0x536cb6[_0xe576e6(0x177)](_0xe576e6(0x111),function(){var _0x33df49=_0xe576e6;_0x5883bd[_0x33df49(0xc5)](_0x4b5aeb=>_0x4b5aeb[_0x33df49(0x140)][_0x33df49(0x163)]('selected')),this[_0x33df49(0x140)][_0x33df49(0x103)](_0x33df49(0x14b));const _0x541b40=this[_0x33df49(0xdc)](_0x33df49(0x15b))[_0x33df49(0x169)],_0x5a186e=this['querySelector']('span')[_0x33df49(0x178)]('data-i18n'),_0xabafc6=this[_0x33df49(0xdc)](_0x33df49(0x8d));_0x5730d2[_0x33df49(0x150)]='';if(_0xabafc6){const _0x5e6e7e=_0xabafc6[_0x33df49(0xae)](!![]);_0x5e6e7e[_0x33df49(0xec)][_0x33df49(0xf5)]=_0x33df49(0xe4),_0x5730d2[_0x33df49(0x12e)](_0x5e6e7e);}const _0x6927dc=document[_0x33df49(0xd1)]('span');_0x6927dc[_0x33df49(0x169)]=_0x541b40;_0x5a186e&&_0x6927dc[_0x33df49(0x100)](_0x33df49(0x139),_0x5a186e);_0x5730d2[_0x33df49(0x12e)](_0x6927dc);const _0x3a2311=this[_0x33df49(0x178)](_0x33df49(0xb9));_0x4a1a8e[_0x33df49(0xba)]=_0x3a2311||_0x541b40;const _0x1bdd39=new Event(_0x33df49(0xb4));_0x4a1a8e['dispatchEvent'](_0x1bdd39),_0x5730d2['classList'][_0x33df49(0x163)](_0x33df49(0xa7)),_0x4c7f99['style'][_0x33df49(0xa9)]=_0x33df49(0xc0);});});let _0x15d054='',_0x46f9a9;document['addEventListener'](_0x5b1cab(0x146),function(_0x2cd28b){var _0x24fcd7=_0x5b1cab;if(!_0x5730d2['classList']['contains'](_0x24fcd7(0xa7)))return;if(_0x2cd28b[_0x24fcd7(0x17b)]===_0x24fcd7(0x15a)||_0x2cd28b[_0x24fcd7(0x17b)]===_0x24fcd7(0x152)){_0x2cd28b[_0x24fcd7(0x154)]();const _0x39910d=Array['from'](_0x5883bd),_0x2293cb=_0x39910d[_0x24fcd7(0x118)](_0xa53943=>_0xa53943[_0x24fcd7(0x140)][_0x24fcd7(0x155)](_0x24fcd7(0x14b)));let _0x4db314;_0x2cd28b[_0x24fcd7(0x17b)]==='ArrowDown'?_0x4db314=_0x2293cb<_0x39910d[_0x24fcd7(0xf7)]-0x1?_0x2293cb+0x1:0x0:_0x4db314=_0x2293cb>0x0?_0x2293cb-0x1:_0x39910d[_0x24fcd7(0xf7)]-0x1;_0x5883bd[_0x24fcd7(0xc5)](_0x1e6780=>_0x1e6780[_0x24fcd7(0x140)]['remove']('selected')),_0x39910d[_0x4db314][_0x24fcd7(0x140)][_0x24fcd7(0x103)](_0x24fcd7(0x14b)),_0x39910d[_0x4db314][_0x24fcd7(0x95)]({'block':_0x24fcd7(0x16f)});return;}if(_0x2cd28b[_0x24fcd7(0x17b)]==='Enter'){_0x2cd28b['preventDefault']();const _0x3af8fb=_0x4c7f99[_0x24fcd7(0xdc)]('.selected');_0x3af8fb&&_0x3af8fb[_0x24fcd7(0x111)]();return;}if(_0x2cd28b[_0x24fcd7(0x17b)]===_0x24fcd7(0x16d)){_0x2cd28b[_0x24fcd7(0x154)](),_0x5730d2['classList'][_0x24fcd7(0x163)](_0x24fcd7(0xa7)),_0x4c7f99[_0x24fcd7(0xec)][_0x24fcd7(0xa9)]='none';return;}if(_0x2cd28b['key'][_0x24fcd7(0xf7)]===0x1&&_0x2cd28b[_0x24fcd7(0x17b)]['match'](/[a-zA-Z0-9%]/)){clearTimeout(_0x46f9a9),_0x15d054+=_0x2cd28b[_0x24fcd7(0x17b)]['toLowerCase']();const _0x56465b=Array[_0x24fcd7(0x122)](_0x5883bd)[_0x24fcd7(0xa4)](_0x3950fc=>{var _0x46e8ec=_0x24fcd7;const _0x2548d8=_0x3950fc[_0x46e8ec(0xdc)](_0x46e8ec(0x15b))[_0x46e8ec(0x169)][_0x46e8ec(0xde)]();return _0x2548d8[_0x46e8ec(0xea)](_0x15d054);});_0x56465b&&(_0x5883bd[_0x24fcd7(0xc5)](_0x52428e=>_0x52428e[_0x24fcd7(0x140)]['remove'](_0x24fcd7(0x14b))),_0x56465b['classList'][_0x24fcd7(0x103)](_0x24fcd7(0x14b)),_0x56465b[_0x24fcd7(0x95)]({'block':'nearest'})),_0x46f9a9=setTimeout(()=>{_0x15d054='';},0x3e8);}});}function _0x484c(){var _0x45cf9=['font-size','Goals\x20per\x2090','ion-ios-circle-outline','font-weight','axisBottom','Teams\x20above\x20this\x20line\x20are\x20scoring\x20more\x20goals\x20than\x20expected.','1690xjWQvK','click','text-anchor','rgba(70,\x20130,\x20180,\x200.7)','league-select-trigger','getBoundingClientRect','rgb(255,\x2020,\x20147,\x200.7)','y-axis','findIndex','search-match','x-axis','3499572VrjiFb','</strong><br/>','Hide\x20median\x20lines','DOMContentLoaded','apply','send','replace','from','clientWidth','rgb(255,\x20223,\x200,\x200.7)','1423000ygqKUC','range','<span>','pointer','<strong>','keys','x-metric-options','min','stroke-width','appendChild','pageX','top','toFixed','translate(0,','option','backgroundColor','rgb(255,\x200,\x200,\x200.7)','domain','interrupt','64463BtDAmO','data-i18n','transition','showMedianLines','all','pow','search-dimmed','5,3','classList','getElementById','tooltip.xg-line-above','normalize','.chart-wrapper','right','keydown','splice','append','league-legend','Teams\x20left\x20of\x20this\x20line\x20are\x20scoring\x20fewer\x20goals\x20than\x20expected.','selected','attr','selectAll','median-line','circle','innerHTML','className','ArrowUp','rgb(85,\x20209,\x2073,\x200.7)','preventDefault','contains','ID,Player,Top\x207\x20Leagues,Goals\x20per\x2090,xG\x20per\x2090,Shots\x20on\x20target\x20per\x2090,Shots\x20on\x20target\x20%,Passes\x20completed,Pass\x20accuracy\x20%,Possession\x20%,Positional\x20attacks\x20per\x2090,Counter\x20attacks\x20per\x2090,Touches\x20in\x20the\x20box\x20per\x2090,Goals\x20conceded\x20per\x2090,SoT\x20against\x20per\x2090,Defensive\x20duels\x20per\x2090,Defensive\x20duel\x20%,Aerial\x20duels\x20per\x2090,Aerial\x20duels\x20%,Passes\x20per\x20possession,PPDA\x0a','314ObYFbt','5RqtITt','median-lines-tooltip','ArrowDown','span','.chart-container','property','help','.custom-select-options,\x20.metric-select-options','dominant-baseline','line','mouseout','remove','slice','mouseover','rgb(153,\x2050,\x20204,\x200.7)','currentTranslations','temp-label','textContent','metric-select-option','transform','font-family','Escape','3279aYACfp','nearest','classed','.median-line','</span>','tooltip.xg-line-below','body','select-league','sqrt','addEventListener','getAttribute','middle','nice','key','includes','rotate(-90)','hanging','Teams\x20right\x20of\x20this\x20line\x20are\x20scoring\x20more\x20goals\x20than\x20expected.','xG\x20per\x2090','parentNode','select','marker#arrow-over,\x20marker#arrow-under','duration','iconify-icon','bottom','querySelectorAll','Select\x20all\x20teams','median','#select-x','G\x20=\x20xG\x20Line','.team-label','scrollIntoView','select-all-tooltip','class','split','data','event','text.team-label','Premier\x20League','select-icon','size','indexOf','max','auto','axisLeft','legend-color','find','Teams\x20below\x20this\x20line\x20are\x20scoring\x20fewer\x20goals\x20than\x20expected.','block','open','xy-line-hover','display','La\x20Liga','ion-ios-circle-filled','translate(','opacity','cloneNode','pageY','fontWeight','cursor','rgb(0,\x20191,\x20255,\x200.7)','innerWidth','change','toggle','14663QeGYWT','.xy-line-label-bg','div','data-value','value','.performance-label','stroke-dasharray','500','.xy-line-hover','scaleLinear','none','Serie\x20A','tickSize','GET','anchor','forEach','rgba(255,\x200,\x200,\x200.7)','height','rgb(255,\x20140,\x200,\x200.7)','hideMedianLines','dark-mode','xy-line','start','each','14px','bold','every','createElement','13OFSoRu','12px','metrics.','fill','end','.xy-line-bg','54716ohVkah','stroke','Inter,\x20sans-serif','map','querySelector','tooltip','toLowerCase','filter','19481VqMLNL','Ligue\x201','Top\x205\x20Leagues','responseText','8px','rgba(0,\x200,\x200,\x200.3)','target','select-x','Bundesliga','extent','startsWith','width','style','html','left','tooltip.xg-line-right','team-label-','pct','Show\x20median\x20lines','.custom-select-trigger.open,\x20.metric-select-trigger.open','node','marginRight','.custom-select-option,\x20.metric-select-option','length','flex','text','getComputedTextLength','getBBox','.xy-line-label','9txoblF','#scatter-plot','Unselect\x20all\x20teams','setAttribute','innerHeight','18QQgLqh','add','league-select-options','metrics','search-bar','#000','15px','push'];_0x484c=function(){return _0x45cf9;};return _0x484c();}document[_0x1b3269(0x177)](_0x1b3269(0x111),function(_0xf45b75){var _0x4fd1ff=_0x1b3269;const _0x51a326=document[_0x4fd1ff(0x8f)]('.custom-select-trigger,\x20.metric-select-trigger'),_0x368704=document[_0x4fd1ff(0x8f)](_0x4fd1ff(0x15f));let _0x5a5915=![];_0x51a326[_0x4fd1ff(0xc5)](function(_0x5bdc94,_0x578380){var _0x4a7f03=_0x4fd1ff;const _0xab1c8d=_0x368704[_0x578380];_0x5bdc94&&_0xab1c8d&&(_0x5bdc94['contains'](_0xf45b75[_0x4a7f03(0xe6)])||_0xab1c8d[_0x4a7f03(0x155)](_0xf45b75[_0x4a7f03(0xe6)]))&&(_0x5a5915=!![]);}),!_0x5a5915&&_0x51a326[_0x4fd1ff(0xc5)](function(_0x3a2947,_0x15ec90){var _0x4d098e=_0x4fd1ff;_0x3a2947&&_0x368704[_0x15ec90]&&(_0x3a2947[_0x4d098e(0x140)][_0x4d098e(0x163)](_0x4d098e(0xa7)),_0x368704[_0x15ec90][_0x4d098e(0xec)]['display']=_0x4d098e(0xc0));});});const xhr=new XMLHttpRequest();xhr[_0x1b3269(0xa7)](_0x1b3269(0xc3),'https://datamb.football/database/TEAM/teamplots.csv',![]),xhr[_0x1b3269(0x120)](null);let csvData=xhr[_0x1b3269(0xe3)],extraHeaderRow=_0x1b3269(0x156);csvData=extraHeaderRow+csvData;var rows=csvData['trim']()[_0x1b3269(0x98)]('\x0a'),header=rows[0x0][_0x1b3269(0x98)](','),data=rows[_0x1b3269(0x164)](0x1)['map'](function(_0x4d0c38){var _0x300b2c=_0x1b3269;return _0x4d0c38[_0x300b2c(0x98)](',')[_0x300b2c(0xdb)](function(_0x5a3cea,_0x5dddf6){return _0x5dddf6>=0x3?parseFloat(_0x5a3cea):_0x5a3cea;});}),margin={'top':0x0,'right':0x0,'bottom':0x0,'left':0x0},width=0x43a-margin[_0x1b3269(0xee)]-margin[_0x1b3269(0x145)],height=0x302-margin[_0x1b3269(0x130)]-margin[_0x1b3269(0x8e)],leagueColors={'Premier\x20League':_0x1b3269(0x135),'La\x20Liga':_0x1b3269(0x124),'Bundesliga':_0x1b3269(0x153),'Serie\x20A':_0x1b3269(0xb2),'Ligue\x201':_0x1b3269(0x166),'Eredivisie':_0x1b3269(0xc8),'Primeira\x20Liga':_0x1b3269(0x116)};function getLeagueColor(_0x431c6e){var _0x151506=_0x1b3269;return leagueColors[_0x431c6e]||_0x151506(0xc6);}function updateChartDimensions(){var _0x30b3b9=_0x1b3269,_0x423329=document[_0x30b3b9(0xdc)](_0x30b3b9(0x144))[_0x30b3b9(0x123)],_0x1dc58a=window[_0x30b3b9(0x101)]*0.7,_0x49330f=0x1e,_0x209ce7=Math[_0x30b3b9(0x12c)](0x43a,_0x423329-_0x49330f*0x2),_0x476aa5=window[_0x30b3b9(0xb3)]/window[_0x30b3b9(0x101)]<0x1;if(_0x476aa5){margin={'top':0x28,'right':0x1e,'bottom':0x3c,'left':0x4b};var _0x17a2f0=1.4,_0x5c8a03=Math['min'](_0x1dc58a,_0x209ce7*_0x17a2f0);_0x5c8a03=Math[_0x30b3b9(0xa0)](_0x5c8a03,0x1f4);}else{margin={'top':0x28,'right':0x1e,'bottom':0x3c,'left':0x4f};var _0x451bee=0.7,_0x5c8a03=_0x209ce7*_0x451bee;}width=_0x209ce7-margin[_0x30b3b9(0xee)]-margin[_0x30b3b9(0x145)],height=_0x5c8a03-margin[_0x30b3b9(0x130)]-margin[_0x30b3b9(0x8e)],d3[_0x30b3b9(0x8a)](_0x30b3b9(0xfe))[_0x30b3b9(0x14c)](_0x30b3b9(0xeb),_0x209ce7)[_0x30b3b9(0x14c)]('height',_0x5c8a03),document[_0x30b3b9(0xdc)](_0x30b3b9(0x15c))[_0x30b3b9(0xec)][_0x30b3b9(0xc7)]=_0x5c8a03+'px';}window[_0x1b3269(0x177)]('resize',function(){updateChartDimensions(),requestAnimationFrame(function(){updateChart();});}),updateChartDimensions();function debounce(_0x28b16a,_0x3f8d03){let _0x442e30;return function(){const _0xe3267e=this,_0x2a4ae5=arguments;clearTimeout(_0x442e30),_0x442e30=setTimeout(function(){var _0x4ecf80=_0x4a12;_0x28b16a[_0x4ecf80(0x11f)](_0xe3267e,_0x2a4ae5);},_0x3f8d03);};}var prevWindowWidth=window[_0x1b3269(0xb3)],prevWindowHeight=window[_0x1b3269(0x101)];window[_0x1b3269(0x177)]('resize',debounce(function(){var _0x1a21c4=prevWindowWidth/prevWindowHeight<0x1,_0x101718=window['innerWidth']/window['innerHeight']<0x1;prevWindowWidth=window['innerWidth'],prevWindowHeight=window['innerHeight'],requestAnimationFrame(function(){updateChart();});},0x32));var medianLinesVisible=![],selectX=d3['select'](_0x1b3269(0x92)),selectY=d3[_0x1b3269(0x8a)]('#select-y'),names=data['map'](function(_0x3bf775){return _0x3bf775[0x1];});header['slice'](0x3)[_0x1b3269(0xc5)](function(_0x4b83dc){var _0x48c9d5=_0x1b3269;selectX[_0x48c9d5(0x148)](_0x48c9d5(0x133))['text'](_0x4b83dc)[_0x48c9d5(0x14c)]('value',_0x4b83dc),selectY[_0x48c9d5(0x148)](_0x48c9d5(0x133))[_0x48c9d5(0xf9)](_0x4b83dc)['attr'](_0x48c9d5(0xba),_0x4b83dc);}),selectX[_0x1b3269(0x15d)](_0x1b3269(0xba),header[0x3]),selectY[_0x1b3269(0x15d)](_0x1b3269(0xba),header[0x4]);var svg=d3[_0x1b3269(0x8a)](_0x1b3269(0xfe))['attr'](_0x1b3269(0xeb),width+margin[_0x1b3269(0xee)]+margin[_0x1b3269(0x145)])['attr']('height',height+margin[_0x1b3269(0x130)]+margin['bottom'])[_0x1b3269(0x148)]('g')[_0x1b3269(0x14c)](_0x1b3269(0x16b),_0x1b3269(0xac)+margin['left']+','+margin[_0x1b3269(0x130)]+')'),xMetric=header[0x3],yMetric=header[0x4],xScale=d3['scaleLinear']()['range']([0x0,width]),yScale=d3[_0x1b3269(0xbf)]()['range']([height,0x0]),xAxis=d3[_0x1b3269(0x10e)](xScale)[_0x1b3269(0xc2)](0x0),yAxis=d3[_0x1b3269(0xa2)](yScale)[_0x1b3269(0xc2)](0x0),gXAxis=svg['append']('g')[_0x1b3269(0x14c)]('class',_0x1b3269(0x11a))[_0x1b3269(0x14c)](_0x1b3269(0x16b),'translate(0,'+height+')'),gYAxis=svg[_0x1b3269(0x148)]('g')[_0x1b3269(0x14c)](_0x1b3269(0x97),_0x1b3269(0x117)),xLabel=svg[_0x1b3269(0x148)](_0x1b3269(0xf9))[_0x1b3269(0x14c)](_0x1b3269(0x97),'x-label')['attr'](_0x1b3269(0x112),_0x1b3269(0xd6))[_0x1b3269(0x14c)]('x',width)[_0x1b3269(0x14c)]('y',height+0x23)[_0x1b3269(0xec)](_0x1b3269(0x16c),_0x1b3269(0xda))['style'](_0x1b3269(0x10a),_0x1b3269(0xce)),yLabel=svg['append'](_0x1b3269(0xf9))['attr']('class','y-label')['attr'](_0x1b3269(0x112),_0x1b3269(0xd6))[_0x1b3269(0x14c)](_0x1b3269(0x16b),_0x1b3269(0x17d))[_0x1b3269(0x14c)]('y',-0x35)[_0x1b3269(0x14c)]('x',0x0)['style'](_0x1b3269(0x16c),_0x1b3269(0xda))[_0x1b3269(0xec)](_0x1b3269(0x10a),'14px'),tooltip=d3[_0x1b3269(0x8a)](_0x1b3269(0x174))['append']('div')[_0x1b3269(0x14c)](_0x1b3269(0x97),_0x1b3269(0xdd));function isMobileDevice(){var _0x286070=_0x1b3269;return window[_0x286070(0xb3)]<=0x300;}function positionTooltip(_0x32d1aa,_0x21acc8){var _0x285cda=_0x1b3269;const _0x368a99=_0x21acc8['node']();if(!_0x368a99)return{'left':0x0,'top':0x0};const _0x3c89ec=_0x368a99[_0x285cda(0x115)](),_0x4fb655=window['innerWidth'],_0x350719=window[_0x285cda(0x101)];let _0x40c890=_0x32d1aa['pageX']+0xa,_0x1eaf92=_0x32d1aa[_0x285cda(0xaf)]-0x1c;return _0x40c890+_0x3c89ec[_0x285cda(0xeb)]>_0x4fb655-0xa&&(_0x40c890=_0x32d1aa['pageX']-_0x3c89ec['width']-0xa),_0x1eaf92+_0x3c89ec['height']>_0x350719-0xa&&(_0x1eaf92=_0x32d1aa[_0x285cda(0xaf)]-_0x3c89ec[_0x285cda(0xc7)]-0xa),_0x40c890=Math[_0x285cda(0xa0)](0xa,_0x40c890),_0x1eaf92=Math['max'](0xa,_0x1eaf92),{'left':_0x40c890,'top':_0x1eaf92};}var clickedCircles=[],filteredData=data,filteredNames=names,circles;function updateChart(){var _0x323738=_0x1b3269;updateChartDimensions(),d3[_0x323738(0x8a)]('#scatter-plot')[_0x323738(0x14c)]('width',width+margin['left']+margin[_0x323738(0x145)])['attr'](_0x323738(0xc7),height+margin[_0x323738(0x130)]+margin['bottom']),gXAxis[_0x323738(0x14c)]('transform',_0x323738(0x132)+height+')'),xLabel[_0x323738(0x14c)]('x',width)[_0x323738(0x14c)]('y',height+0x23),yLabel['attr']('x',0x0);const _0x3f3da6=document[_0x323738(0x174)][_0x323738(0x140)][_0x323738(0x155)](_0x323738(0xca));var _0x2c4ada=document[_0x323738(0x141)](_0x323738(0x175))[_0x323738(0xba)];if(_0x2c4ada==='all')filteredData=data;else _0x2c4ada==='Top\x205\x20Leagues'?filteredData=data[_0x323738(0xdf)](function(_0x437e50){var _0xeefd4f=_0x323738;return _0x437e50[0x2]===_0xeefd4f(0x9c)||_0x437e50[0x2]===_0xeefd4f(0xaa)||_0x437e50[0x2]===_0xeefd4f(0xe8)||_0x437e50[0x2]===_0xeefd4f(0xc1)||_0x437e50[0x2]===_0xeefd4f(0xe1);}):filteredData=data[_0x323738(0xdf)](function(_0x12a4ce){return _0x12a4ce[0x2]===_0x2c4ada;});filteredNames=filteredData[_0x323738(0xdb)](function(_0x2240a9){return _0x2240a9[0x1];}),xMetric=selectX[_0x323738(0x15d)](_0x323738(0xba)),yMetric=selectY[_0x323738(0x15d)]('value'),xScale[_0x323738(0x126)]([0x0,width])[_0x323738(0x136)]((function(){var _0x282621=_0x323738;const _0x10c8d4=d3['extent'](filteredData,function(_0x5c74e7){var _0x1560fc=_0x4a12;return+_0x5c74e7[header[_0x1560fc(0x9f)](xMetric)];}),_0x3fbc66=d3['scaleLinear']()[_0x282621(0x136)](_0x10c8d4)[_0x282621(0x17a)](),_0x56e359=_0x3fbc66[_0x282621(0x136)](),_0x369078=_0x10c8d4[0x1]-_0x10c8d4[0x0],_0x5cfaa9=_0x56e359[0x1]-_0x56e359[0x0];if(_0x5cfaa9/_0x369078>1.2){const _0x19df03=_0x369078*0.1;return[_0x10c8d4[0x0]-_0x19df03,_0x10c8d4[0x1]+_0x19df03];}else return _0x56e359;}())),yScale['range']([height,0x0])[_0x323738(0x136)]((function(){var _0x1d087f=_0x323738;const _0x585f6d=d3[_0x1d087f(0xe9)](filteredData,function(_0x3aed46){var _0x423a0b=_0x1d087f;return+_0x3aed46[header[_0x423a0b(0x9f)](yMetric)];}),_0x3be47e=d3[_0x1d087f(0xbf)]()[_0x1d087f(0x136)](_0x585f6d)[_0x1d087f(0x17a)](),_0x42f804=_0x3be47e[_0x1d087f(0x136)](),_0x21ee6a=_0x585f6d[0x1]-_0x585f6d[0x0],_0x2b40a0=_0x42f804[0x1]-_0x42f804[0x0];if(_0x2b40a0/_0x21ee6a>1.2){const _0x1443b0=_0x21ee6a*0.1;return[_0x585f6d[0x0]-_0x1443b0,_0x585f6d[0x1]+_0x1443b0];}else return _0x42f804;}())),gXAxis['call'](d3[_0x323738(0x10e)](xScale)['tickSize'](0x0)),gYAxis['call'](d3[_0x323738(0xa2)](yScale)[_0x323738(0xc2)](0x0));const _0x19d3eb=_0x323738(0xd4)+xMetric['toLowerCase']()[_0x323738(0x121)](/ /g,'-')[_0x323738(0x121)](/%/g,'pct'),_0x4c66cf='metrics.'+yMetric['toLowerCase']()['replace'](/ /g,'-')['replace'](/%/g,_0x323738(0xf1));xLabel[_0x323738(0x14c)](_0x323738(0x139),_0x19d3eb),yLabel[_0x323738(0x14c)]('data-i18n',_0x4c66cf);if(window['currentTranslations']&&window[_0x323738(0x167)]['metrics']){const _0x504516=xMetric[_0x323738(0xde)]()[_0x323738(0x121)](/ /g,'-')[_0x323738(0x121)](/%/g,_0x323738(0xf1)),_0x32522b=yMetric[_0x323738(0xde)]()['replace'](/ /g,'-')['replace'](/%/g,_0x323738(0xf1)),_0x16734a=window['currentTranslations']['metrics'][_0x504516],_0x556ffb=window[_0x323738(0x167)][_0x323738(0x105)][_0x32522b];xLabel['text'](_0x16734a||xMetric),yLabel['text'](_0x556ffb||yMetric);}else xLabel[_0x323738(0xf9)](xMetric),yLabel[_0x323738(0xf9)](yMetric);svg['selectAll'](_0x323738(0x14f))[_0x323738(0x163)](),svg[_0x323738(0x14d)](_0x323738(0x94))[_0x323738(0x163)](),svg[_0x323738(0x14d)]('.xy-line')[_0x323738(0x163)](),svg[_0x323738(0x14d)](_0x323738(0xd7))['remove'](),svg[_0x323738(0x14d)](_0x323738(0xfc))[_0x323738(0x163)](),svg['selectAll'](_0x323738(0xb7))[_0x323738(0x163)](),svg[_0x323738(0x14d)](_0x323738(0xbb))[_0x323738(0x163)](),svg[_0x323738(0x14d)]('linearGradient#line-gradient')[_0x323738(0x163)](),svg[_0x323738(0x14d)](_0x323738(0x8b))[_0x323738(0x163)](),svg['selectAll'](_0x323738(0xbe))[_0x323738(0x163)](),svg[_0x323738(0x14d)](_0x323738(0x171))[_0x323738(0x163)]();if(xMetric===_0x323738(0x88)&&yMetric==='Goals\x20per\x2090'||xMetric==='Goals\x20per\x2090'&&yMetric==='xG\x20per\x2090'){var _0x277b85=null,_0x303fdf=d3[_0x323738(0x12c)](filteredData,function(_0x5185ea){var _0x153788=_0x323738;return _0x5185ea[header[_0x153788(0x9f)](xMetric)];}),_0x49d3da=d3[_0x323738(0xa0)](filteredData,function(_0x1600a9){return _0x1600a9[header['indexOf'](xMetric)];}),_0x3da4d8=d3[_0x323738(0x12c)](filteredData,function(_0x159429){var _0x2d39b4=_0x323738;return _0x159429[header[_0x2d39b4(0x9f)](yMetric)];}),_0x462ca4=d3['max'](filteredData,function(_0x559fa3){var _0x1a7539=_0x323738;return _0x559fa3[header[_0x1a7539(0x9f)](yMetric)];}),_0x5b565f=Math[_0x323738(0x12c)](_0x49d3da,_0x462ca4),_0x3eea57=Math[_0x323738(0xa0)](_0x303fdf,_0x3da4d8);svg['append'](_0x323738(0x161))[_0x323738(0x14c)]('class',_0x323738(0xcb))[_0x323738(0x14c)]('x1',xScale(_0x3eea57))[_0x323738(0x14c)]('y1',yScale(_0x3eea57))[_0x323738(0x14c)]('x2',xScale(_0x5b565f))['attr']('y2',yScale(_0x5b565f))[_0x323738(0xec)](_0x323738(0xd9),'#2ecc71')[_0x323738(0xec)](_0x323738(0x12d),'2')[_0x323738(0xec)](_0x323738(0xbc),_0x323738(0x13f)),svg[_0x323738(0x148)]('line')[_0x323738(0x14c)](_0x323738(0x97),_0x323738(0xa8))[_0x323738(0x14c)]('x1',xScale(_0x3eea57))[_0x323738(0x14c)]('y1',yScale(_0x3eea57))['attr']('x2',xScale(_0x5b565f))['attr']('y2',yScale(_0x5b565f))[_0x323738(0xec)]('stroke','transparent')[_0x323738(0xec)](_0x323738(0x12d),'15')[_0x323738(0xec)](_0x323738(0xb1),_0x323738(0x15e))['on'](_0x323738(0x165),function(){var _0x4fbafd=_0x323738;_0x277b85&&clearTimeout(_0x277b85);var _0x107739=d3[_0x4fbafd(0x9a)][_0x4fbafd(0x12f)],_0x359f66=d3[_0x4fbafd(0x9a)][_0x4fbafd(0xaf)];_0x277b85=setTimeout(function(){var _0x351775=_0x4fbafd;tooltip[_0x351775(0x13a)]()['duration'](0xc8)['style']('opacity',0.9);var _0x42c26f=_0x351775(0x129)+getTranslation('tooltip.xg-line-title',_0x351775(0x93))+_0x351775(0x11c);xMetric===_0x351775(0x88)&&yMetric===_0x351775(0x10b)?_0x42c26f+='<span>'+getTranslation(_0x351775(0x142),_0x351775(0x10f))+'</span><br/>'+_0x351775(0x127)+getTranslation(_0x351775(0x173),_0x351775(0xa5))+'</span>':_0x42c26f+=_0x351775(0x127)+getTranslation(_0x351775(0xef),_0x351775(0x87))+'</span><br/>'+'<span>'+getTranslation('tooltip.xg-line-left',_0x351775(0x14a))+_0x351775(0x172),tooltip[_0x351775(0xed)](_0x42c26f)[_0x351775(0xec)](_0x351775(0xee),_0x107739+0xa+'px')[_0x351775(0xec)](_0x351775(0x130),_0x359f66-0x1c+'px');},0x258);})['on'](_0x323738(0x162),function(){var _0x3ed918=_0x323738;_0x277b85&&(clearTimeout(_0x277b85),_0x277b85=null),tooltip[_0x3ed918(0x13a)]()['duration'](0x1f4)[_0x3ed918(0xec)]('opacity',0x0);});}if(medianLinesVisible){var _0x29e88e=d3[_0x323738(0x91)](filteredData,function(_0x81509d){return _0x81509d[header['indexOf'](xMetric)];}),_0x4602d0=d3[_0x323738(0x91)](filteredData,function(_0x1c30f4){var _0x31743a=_0x323738;return _0x1c30f4[header[_0x31743a(0x9f)](yMetric)];});svg['append']('line')['attr']('class',_0x323738(0x14e))[_0x323738(0x14c)]('x1',xScale(_0x29e88e))[_0x323738(0x14c)]('y1',0x0)[_0x323738(0x14c)]('x2',xScale(_0x29e88e))[_0x323738(0x14c)]('y2',height)[_0x323738(0xec)]('stroke',_0x323738(0xe5))['style'](_0x323738(0xbc),'4'),svg['append'](_0x323738(0x161))['attr'](_0x323738(0x97),_0x323738(0x14e))[_0x323738(0x14c)]('x1',0x0)[_0x323738(0x14c)]('y1',yScale(_0x4602d0))[_0x323738(0x14c)]('x2',width)[_0x323738(0x14c)]('y2',yScale(_0x4602d0))[_0x323738(0xec)](_0x323738(0xd9),'rgba(0,\x200,\x200,\x200.3)')[_0x323738(0xec)](_0x323738(0xbc),'4');}circles=svg[_0x323738(0x14d)](_0x323738(0x14f))[_0x323738(0x99)](filteredData)['enter']()[_0x323738(0x148)]('circle')[_0x323738(0x14c)]('cx',function(_0x9732bf){var _0xa16739=_0x323738;return xScale(_0x9732bf[header[_0xa16739(0x9f)](xMetric)]);})[_0x323738(0x14c)]('cy',function(_0x3bc844){var _0x3a9fd9=_0x323738;return yScale(_0x3bc844[header[_0x3a9fd9(0x9f)](yMetric)]);})['attr']('r',0x8)[_0x323738(0xec)](_0x323738(0xd5),function(_0x40fb97){var _0x39682f=_0x323738;if(clickedCircles[_0x39682f(0x17c)](_0x40fb97[0x1]))return getLeagueColor(_0x40fb97[0x2]);return _0x39682f(0x113);})[_0x323738(0xec)]('stroke',function(_0x2de412){var _0x59325f=_0x323738;return clickedCircles[_0x59325f(0x17c)](_0x2de412[0x1])?_0x59325f(0x107):_0x59325f(0xc0);})[_0x323738(0xec)](_0x323738(0x12d),function(_0xa9873b){var _0x59d438=_0x323738;return clickedCircles[_0x59d438(0x17c)](_0xa9873b[0x1])?0x2:0x0;})[_0x323738(0xec)](_0x323738(0xb1),_0x323738(0x128))['on'](_0x323738(0x165),function(_0x4c8cbc){var _0x3e73f3=_0x323738;d3['select'](this)[_0x3e73f3(0x13a)]()[_0x3e73f3(0x8c)](0xc8)[_0x3e73f3(0x14c)]('r',0xa)[_0x3e73f3(0xec)]('fill',getLeagueColor(_0x4c8cbc[0x2])),tooltip[_0x3e73f3(0x13a)]()[_0x3e73f3(0x8c)](0xc8)[_0x3e73f3(0xec)](_0x3e73f3(0xad),0.9);const _0x263ec7=_0x3e73f3(0xd4)+xMetric[_0x3e73f3(0xde)]()[_0x3e73f3(0x121)](/ /g,'-')[_0x3e73f3(0x121)](/%/g,_0x3e73f3(0xf1)),_0x5dd260=_0x3e73f3(0xd4)+yMetric['toLowerCase']()[_0x3e73f3(0x121)](/ /g,'-')[_0x3e73f3(0x121)](/%/g,_0x3e73f3(0xf1)),_0xa0286a=getTranslation(_0x263ec7,xMetric),_0x4f6830=getTranslation(_0x5dd260,yMetric);tooltip[_0x3e73f3(0xed)](_0x3e73f3(0x129)+_0x4c8cbc[0x1]+_0x3e73f3(0x11c)+_0xa0286a+':\x20'+_0x4c8cbc[header['indexOf'](xMetric)][_0x3e73f3(0x131)](0x2)+'<br/>'+_0x4f6830+':\x20'+_0x4c8cbc[header['indexOf'](yMetric)][_0x3e73f3(0x131)](0x2));const _0x4e8d8e=tooltip[_0x3e73f3(0xf4)]();if(_0x4e8d8e){const _0x44b055=_0x4e8d8e[_0x3e73f3(0x115)](),_0x2a0af9=window[_0x3e73f3(0xb3)],_0x532cd3=window[_0x3e73f3(0x101)];let _0x379023=d3[_0x3e73f3(0x9a)]['pageX']+0xa,_0x113702=d3[_0x3e73f3(0x9a)][_0x3e73f3(0xaf)]-0x1c;_0x379023+_0x44b055[_0x3e73f3(0xeb)]>_0x2a0af9-0xa&&(_0x379023=d3[_0x3e73f3(0x9a)]['pageX']-_0x44b055[_0x3e73f3(0xeb)]-0xa),_0x113702+_0x44b055[_0x3e73f3(0xc7)]>_0x532cd3-0xa&&(_0x113702=d3[_0x3e73f3(0x9a)][_0x3e73f3(0xaf)]-_0x44b055['height']-0xa),_0x379023=Math[_0x3e73f3(0xa0)](0xa,_0x379023),_0x113702=Math['max'](0xa,_0x113702),tooltip[_0x3e73f3(0xec)](_0x3e73f3(0xee),_0x379023+'px')[_0x3e73f3(0xec)]('top',_0x113702+'px');}else tooltip[_0x3e73f3(0xec)]('left',d3[_0x3e73f3(0x9a)][_0x3e73f3(0x12f)]+0xa+'px')[_0x3e73f3(0xec)](_0x3e73f3(0x130),d3['event']['pageY']-0x1c+'px');window[_0x3e73f3(0xb3)]<=0x300&&setTimeout(function(){var _0x27c874=_0x3e73f3;tooltip[_0x27c874(0x13a)]()[_0x27c874(0x8c)](0xc8)[_0x27c874(0xec)](_0x27c874(0xad),0x0);},0x3e8);})['on'](_0x323738(0x162),function(_0x8cf4b1){var _0x55ddbb=_0x323738;window[_0x55ddbb(0xb3)]>0x300&&tooltip[_0x55ddbb(0x13a)]()[_0x55ddbb(0x8c)](0x1f4)[_0x55ddbb(0xec)](_0x55ddbb(0xad),0x0);var _0x322d2e=clickedCircles[_0x55ddbb(0x17c)](_0x8cf4b1[0x1]);d3[_0x55ddbb(0x8a)](this)[_0x55ddbb(0x13a)]()[_0x55ddbb(0x8c)](0xc8)[_0x55ddbb(0x14c)]('r',0x8)[_0x55ddbb(0xec)](_0x55ddbb(0xd5),function(){var _0x56ab06=_0x55ddbb;return _0x322d2e?getLeagueColor(_0x8cf4b1[0x2]):_0x56ab06(0x113);});})['on'](_0x323738(0x111),function(_0x22e797){var _0x44d3ae=_0x323738,_0x25a20b=d3[_0x44d3ae(0x8a)](this)['classed'](_0x44d3ae(0x119));_0x25a20b&&resetSearch();var _0x2dad01=clickedCircles[_0x44d3ae(0x9f)](_0x22e797[0x1]);_0x2dad01===-0x1?(clickedCircles['push'](_0x22e797[0x1]),d3[_0x44d3ae(0x8a)](this)['style']('fill',getLeagueColor(_0x22e797[0x2]))[_0x44d3ae(0xec)](_0x44d3ae(0xd9),_0x44d3ae(0x107))['style'](_0x44d3ae(0x12d),0x2),addTeamLabel(_0x22e797)):(clickedCircles[_0x44d3ae(0x147)](_0x2dad01,0x1),d3[_0x44d3ae(0x8a)](this)[_0x44d3ae(0xec)](_0x44d3ae(0xd5),_0x44d3ae(0x113))[_0x44d3ae(0xec)](_0x44d3ae(0xd9),_0x44d3ae(0xc0)),svg[_0x44d3ae(0x14d)]('.team-label-'+_0x22e797[0x1][_0x44d3ae(0x121)](/\s+/g,'-')[_0x44d3ae(0xde)]())['remove']());updateSelectAllButtonText();var _0x58ea6f=document[_0x44d3ae(0x141)]('select-league')[_0x44d3ae(0xba)];updateLeagueLegend(_0x58ea6f);}),clickedCircles[_0x323738(0xc5)](function(_0x51b8b8){var _0x323637=_0x323738,_0x53575f=filteredData[_0x323637(0xa4)](function(_0x3e3902){return _0x3e3902[0x1]===_0x51b8b8;});_0x53575f&&addTeamLabel(_0x53575f);}),updateSelectAllButtonText(),updateLeagueLegend(_0x2c4ada);}function updateSelectAllButtonText(){var _0x523fbd=_0x1b3269,_0x1294e3=document['getElementById'](_0x523fbd(0x9d)),_0x1ccf0e=document[_0x523fbd(0x141)](_0x523fbd(0x96)),_0x4e6615=filteredData[_0x523fbd(0xd0)](function(_0x13d968){var _0xeae7f9=_0x523fbd;return clickedCircles[_0xeae7f9(0x17c)](_0x13d968[0x1]);});_0x4e6615?(_0x1294e3[_0x523fbd(0x151)]=_0x523fbd(0x10c),_0x1ccf0e&&(window[_0x523fbd(0x167)]&&window['currentTranslations'][_0x523fbd(0xdd)]?_0x1ccf0e[_0x523fbd(0x169)]=window[_0x523fbd(0x167)][_0x523fbd(0xdd)]['unselectAll']||_0x523fbd(0xff):_0x1ccf0e['textContent']=_0x523fbd(0xff))):(_0x1294e3[_0x523fbd(0x151)]=_0x523fbd(0xab),_0x1ccf0e&&(window[_0x523fbd(0x167)]&&window[_0x523fbd(0x167)][_0x523fbd(0xdd)]?_0x1ccf0e[_0x523fbd(0x169)]=window[_0x523fbd(0x167)][_0x523fbd(0xdd)][_0x523fbd(0x14d)]||_0x523fbd(0x90):_0x1ccf0e[_0x523fbd(0x169)]='Select\x20all\x20teams'));}selectX['on'](_0x1b3269(0xb4),updateChart),selectY['on'](_0x1b3269(0xb4),updateChart);function removeSpecialCharsAndDiacritics(_0x2fa0ab){var _0x1bf6e1=_0x1b3269;if(!_0x2fa0ab)return'';return _0x2fa0ab[_0x1bf6e1(0x143)]('NFD')[_0x1bf6e1(0x121)](/[\u0300-\u036f]/g,'')[_0x1bf6e1(0x121)](/Ø/g,'O')[_0x1bf6e1(0x121)](/ø/g,'o');}var searchBar=document['getElementById'](_0x1b3269(0x106));searchBar[_0x1b3269(0x177)]('input',function(){var _0x45ae55=_0x1b3269,_0x48ce56=searchBar[_0x45ae55(0xba)][_0x45ae55(0xde)]();if(_0x48ce56===''){resetSearch();return;}var _0x1590e9=removeSpecialCharsAndDiacritics(_0x48ce56);svg[_0x45ae55(0x14d)](_0x45ae55(0x14f))[_0x45ae55(0x170)]('search-match',![])['style'](_0x45ae55(0xd5),function(_0x5f419a){var _0x312974=_0x45ae55;return clickedCircles['includes'](_0x5f419a[0x1])?getLeagueColor(_0x5f419a[0x2]):_0x312974(0x113);})[_0x45ae55(0xec)]('stroke',function(_0x1b6c64){var _0x3fe6b0=_0x45ae55;return clickedCircles[_0x3fe6b0(0x17c)](_0x1b6c64[0x1])?_0x3fe6b0(0x107):'none';})[_0x45ae55(0xec)](_0x45ae55(0x12d),function(_0x44d592){var _0x2ecce6=_0x45ae55;return clickedCircles[_0x2ecce6(0x17c)](_0x44d592[0x1])?0x2:0x0;})[_0x45ae55(0xec)](_0x45ae55(0xdf),_0x45ae55(0xc0))[_0x45ae55(0xcd)](function(){var _0x38f0f3=_0x45ae55;d3['select'](this)[_0x38f0f3(0xec)]('r',null);}),svg['selectAll'](_0x45ae55(0x94))[_0x45ae55(0x170)](_0x45ae55(0x119),![])[_0x45ae55(0x170)]('search-dimmed',![]);var _0x6fc82b=[];svg[_0x45ae55(0x14d)](_0x45ae55(0x14f))[_0x45ae55(0xdf)](function(_0x56c22f){var _0x4c98e2=_0x45ae55,_0x9d5d56=_0x56c22f[0x1]['toLowerCase'](),_0x5d59df=removeSpecialCharsAndDiacritics(_0x9d5d56),_0x41fcab=_0x9d5d56[_0x4c98e2(0x17c)](_0x48ce56)||_0x5d59df[_0x4c98e2(0x17c)](_0x1590e9);return _0x41fcab&&_0x6fc82b[_0x4c98e2(0x109)](_0x56c22f[0x1]),_0x41fcab;})[_0x45ae55(0x170)](_0x45ae55(0x119),!![])['each'](function(){var _0x87f48=_0x45ae55;this[_0x87f48(0x89)][_0x87f48(0x12e)](this);}),_0x6fc82b[_0x45ae55(0xf7)]>0x0?(svg[_0x45ae55(0x14d)]('.team-label')['classed'](_0x45ae55(0x13e),!![]),svg['selectAll'](_0x45ae55(0x94))[_0x45ae55(0xdf)](function(){var _0x3c067e=_0x45ae55,_0x4c7c7e=d3[_0x3c067e(0x8a)](this)[_0x3c067e(0xf9)]();return _0x6fc82b[_0x3c067e(0x17c)](_0x4c7c7e);})[_0x45ae55(0x170)](_0x45ae55(0x119),!![])['classed'](_0x45ae55(0x13e),![])[_0x45ae55(0xcd)](function(){var _0x67ee49=_0x45ae55;this[_0x67ee49(0x89)][_0x67ee49(0x12e)](this);}),_0x6fc82b[_0x45ae55(0xc5)](function(_0x1cd182){var _0x460b29=_0x45ae55,_0x57332e=_0x460b29(0xf0)+_0x1cd182[_0x460b29(0x121)](/\s+/g,'-')[_0x460b29(0xde)]();if(svg[_0x460b29(0x8a)]('.'+_0x57332e)[_0x460b29(0x9e)]()===0x0){var _0x1e80b2=filteredData[_0x460b29(0xa4)](function(_0x126db5){return _0x126db5[0x1]===_0x1cd182;});_0x1e80b2&&(addTeamLabel(_0x1e80b2),svg['select']('.'+_0x57332e)[_0x460b29(0x170)](_0x460b29(0x119),!![]));}})):(svg[_0x45ae55(0x14d)](_0x45ae55(0x94))[_0x45ae55(0xcd)](function(){var _0x244439=_0x45ae55,_0x2cb7c4=d3[_0x244439(0x8a)](this),_0xbc4961=_0x2cb7c4['text']();!clickedCircles[_0x244439(0x17c)](_0xbc4961)&&_0x2cb7c4[_0x244439(0x163)]();}),svg[_0x45ae55(0x14d)](_0x45ae55(0x14f))[_0x45ae55(0xec)](_0x45ae55(0xd5),function(_0x41f5f8){var _0x16efa0=_0x45ae55;return clickedCircles[_0x16efa0(0x17c)](_0x41f5f8[0x1])?getLeagueColor(_0x41f5f8[0x2]):'rgba(70,\x20130,\x20180,\x200.7)';})['style'](_0x45ae55(0xd9),function(_0x43496e){var _0x291e7b=_0x45ae55;return clickedCircles[_0x291e7b(0x17c)](_0x43496e[0x1])?_0x291e7b(0x107):_0x291e7b(0xc0);})[_0x45ae55(0xec)]('stroke-width',function(_0x1d5ce2){var _0x5a2d10=_0x45ae55;return clickedCircles[_0x5a2d10(0x17c)](_0x1d5ce2[0x1])?0x2:0x0;}));});function _0x4a12(_0x5cb0ec,_0x2a86d0){var _0x484cf0=_0x484c();return _0x4a12=function(_0x4a122a,_0x48cc64){_0x4a122a=_0x4a122a-0x87;var _0x67d972=_0x484cf0[_0x4a122a];return _0x67d972;},_0x4a12(_0x5cb0ec,_0x2a86d0);}function resetSearch(){var _0x49e97f=_0x1b3269;searchBar['value']='',svg['selectAll']('circle')[_0x49e97f(0x170)](_0x49e97f(0x119),![])[_0x49e97f(0xec)](_0x49e97f(0xd5),function(_0x1da9b5){var _0x29fdb7=_0x49e97f;return clickedCircles[_0x29fdb7(0x17c)](_0x1da9b5[0x1])?getLeagueColor(_0x1da9b5[0x2]):_0x29fdb7(0x113);})[_0x49e97f(0xec)](_0x49e97f(0xd9),function(_0x236294){var _0x4939b8=_0x49e97f;return clickedCircles[_0x4939b8(0x17c)](_0x236294[0x1])?_0x4939b8(0x107):_0x4939b8(0xc0);})[_0x49e97f(0xec)](_0x49e97f(0x12d),function(_0x450c20){var _0x4e3079=_0x49e97f;return clickedCircles[_0x4e3079(0x17c)](_0x450c20[0x1])?0x2:0x0;})['style'](_0x49e97f(0xdf),_0x49e97f(0xc0))[_0x49e97f(0xcd)](function(){var _0x2ee8bb=_0x49e97f;d3[_0x2ee8bb(0x8a)](this)[_0x2ee8bb(0xec)]('r',null),d3[_0x2ee8bb(0x8a)](this)[_0x2ee8bb(0x137)]();}),svg[_0x49e97f(0x14d)](_0x49e97f(0x94))[_0x49e97f(0x170)](_0x49e97f(0x119),![])[_0x49e97f(0x170)]('search-dimmed',![])[_0x49e97f(0xcd)](function(){var _0x5a0f47=_0x49e97f;d3[_0x5a0f47(0x8a)](this)[_0x5a0f47(0x137)]();}),svg[_0x49e97f(0x14d)]('.team-label')[_0x49e97f(0xcd)](function(){var _0x5bda73=_0x49e97f,_0x56a7f7=d3[_0x5bda73(0x8a)](this),_0xfc5a62=_0x56a7f7[_0x5bda73(0xf9)]();!clickedCircles[_0x5bda73(0x17c)](_0xfc5a62)&&_0x56a7f7[_0x5bda73(0x163)]();});}var toggleButton=document[_0x1b3269(0x141)]('toggle-median-lines');toggleButton[_0x1b3269(0x177)]('click',function(){var _0x33afda=_0x1b3269;medianLinesVisible=!medianLinesVisible,updateChart();const _0x57342e=document[_0x33afda(0x141)](_0x33afda(0x159));window[_0x33afda(0x167)]&&window[_0x33afda(0x167)][_0x33afda(0xdd)]?_0x57342e[_0x33afda(0x169)]=medianLinesVisible?window[_0x33afda(0x167)][_0x33afda(0xdd)][_0x33afda(0xc9)]||_0x33afda(0x11d):window[_0x33afda(0x167)][_0x33afda(0xdd)][_0x33afda(0x13b)]||'Show\x20median\x20lines':_0x57342e[_0x33afda(0x169)]=medianLinesVisible?'Hide\x20median\x20lines':'Show\x20median\x20lines';});function selectAllCircles(){var _0x5c486a=_0x1b3269,_0x49e771=filteredData['every'](function(_0x106139){var _0x3fb250=_0x4a12;return clickedCircles[_0x3fb250(0x17c)](_0x106139[0x1]);});_0x49e771?(clickedCircles=[],svg['selectAll'](_0x5c486a(0x14f))['style'](_0x5c486a(0xd5),'rgba(70,\x20130,\x20180,\x200.7)')['style'](_0x5c486a(0xd9),_0x5c486a(0xc0)),svg[_0x5c486a(0x14d)](_0x5c486a(0x94))[_0x5c486a(0x163)]()):(svg[_0x5c486a(0x14d)](_0x5c486a(0x14f))[_0x5c486a(0xcd)](function(_0x50a9c1){var _0x1bcdb6=_0x5c486a;!clickedCircles[_0x1bcdb6(0x17c)](_0x50a9c1[0x1])&&(clickedCircles['push'](_0x50a9c1[0x1]),d3[_0x1bcdb6(0x8a)](this)['style'](_0x1bcdb6(0xd5),getLeagueColor(_0x50a9c1[0x2]))[_0x1bcdb6(0xec)](_0x1bcdb6(0xd9),_0x1bcdb6(0x107))['style'](_0x1bcdb6(0x12d),0x2));}),filteredData['forEach'](function(_0x4ebe16){addTeamLabel(_0x4ebe16);}));updateSelectAllButtonText();var _0x5ae354=document[_0x5c486a(0x141)](_0x5c486a(0x175))[_0x5c486a(0xba)];updateLeagueLegend(_0x5ae354);}updateChart(),initializeCustomSelectors();function updateLeagueLegend(_0x7a1e3e){var _0x1bf7a1=_0x1b3269,_0x5968b2=document[_0x1bf7a1(0x141)](_0x1bf7a1(0x149));if(_0x7a1e3e!==_0x1bf7a1(0x13c)&&_0x7a1e3e!=='Top\x205\x20Leagues'){_0x5968b2[_0x1bf7a1(0xec)][_0x1bf7a1(0xa9)]='none';return;}if(clickedCircles[_0x1bf7a1(0xf7)]===0x0){_0x5968b2[_0x1bf7a1(0xec)][_0x1bf7a1(0xa9)]=_0x1bf7a1(0xc0);return;}var _0xb33f86=![];for(var _0x2388a6=0x0;_0x2388a6<filteredData[_0x1bf7a1(0xf7)];_0x2388a6++){if(clickedCircles[_0x1bf7a1(0x17c)](filteredData[_0x2388a6][0x1])){_0xb33f86=!![];break;}}if(!_0xb33f86){_0x5968b2[_0x1bf7a1(0xec)][_0x1bf7a1(0xa9)]='none';return;}_0x5968b2[_0x1bf7a1(0xec)][_0x1bf7a1(0xa9)]=_0x1bf7a1(0xf8),_0x5968b2[_0x1bf7a1(0x150)]='';var _0x30673a=document[_0x1bf7a1(0xd1)](_0x1bf7a1(0xb8));_0x30673a[_0x1bf7a1(0xec)][_0x1bf7a1(0xb0)]=_0x1bf7a1(0xcf),_0x30673a[_0x1bf7a1(0xec)][_0x1bf7a1(0xf5)]=_0x1bf7a1(0x108),_0x5968b2['appendChild'](_0x30673a);var _0x1295f0=[];if(_0x7a1e3e===_0x1bf7a1(0x13c))_0x1295f0=Object[_0x1bf7a1(0x12a)](leagueColors);else _0x7a1e3e===_0x1bf7a1(0xe2)&&(_0x1295f0=[_0x1bf7a1(0x9c),'La\x20Liga',_0x1bf7a1(0xe8),_0x1bf7a1(0xc1),_0x1bf7a1(0xe1)]);_0x1295f0[_0x1bf7a1(0xc5)](function(_0x2ebe71){var _0x1fdb15=_0x1bf7a1,_0x36c161=document['createElement'](_0x1fdb15(0xb8));_0x36c161[_0x1fdb15(0x151)]='legend-item';var _0x2d6139=document['createElement'](_0x1fdb15(0xb8));_0x2d6139[_0x1fdb15(0x151)]=_0x1fdb15(0xa3),_0x2d6139['style'][_0x1fdb15(0x134)]=leagueColors[_0x2ebe71];var _0x18c069=document[_0x1fdb15(0xd1)](_0x1fdb15(0x15b));_0x18c069[_0x1fdb15(0x169)]=_0x2ebe71,_0x36c161['appendChild'](_0x2d6139),_0x36c161[_0x1fdb15(0x12e)](_0x18c069),_0x5968b2[_0x1fdb15(0x12e)](_0x36c161);});}function addTeamLabel(_0x4becf9,_0x3dec63){var _0x1071cc=_0x1b3269,_0xc86877=xScale(_0x4becf9[header[_0x1071cc(0x9f)](xMetric)]),_0x161818=yScale(_0x4becf9[header[_0x1071cc(0x9f)](yMetric)]),_0x171942=_0x1071cc(0xf0)+_0x4becf9[0x1][_0x1071cc(0xde)]()[_0x1071cc(0x121)](/\s+/g,'-');if(svg[_0x1071cc(0x8a)]('.'+_0x171942)[_0x1071cc(0x9e)]()>0x0)return;var _0x4b5d72=svg[_0x1071cc(0x148)]('text')[_0x1071cc(0x14c)](_0x1071cc(0x97),_0x1071cc(0x168))['text'](_0x4becf9[0x1])[_0x1071cc(0xec)](_0x1071cc(0x16c),_0x1071cc(0xda))[_0x1071cc(0xec)](_0x1071cc(0x10a),'12px')['style']('opacity',0x0),_0x3a4ce3=_0x4b5d72['node']()[_0x1071cc(0xfa)]();_0x4b5d72[_0x1071cc(0x163)]();var _0x419f79=[{'dx':0x8,'dy':0x0,'anchor':_0x1071cc(0xcc)},{'dx':-0x8,'dy':0x0,'anchor':_0x1071cc(0xd6)},{'dx':0x0,'dy':-0x8,'anchor':_0x1071cc(0x179)},{'dx':0x0,'dy':0x8,'anchor':_0x1071cc(0x179)}],_0x3b89f4=[];svg[_0x1071cc(0x14d)](_0x1071cc(0x9b))[_0x1071cc(0xcd)](function(){var _0xa300e4=_0x1071cc,_0x4bdc90=this[_0xa300e4(0xfb)]();_0x3b89f4['push']({'x1':_0x4bdc90['x']-0x2,'y1':_0x4bdc90['y']-0x2,'x2':_0x4bdc90['x']+_0x4bdc90[_0xa300e4(0xeb)]+0x2,'y2':_0x4bdc90['y']+_0x4bdc90[_0xa300e4(0xc7)]+0x2});});var _0x48f013=null,_0x259928=0xc,_0x1db448=width,_0xe663de=height;if(!_0x3dec63){for(var _0x20ccd5=0x0;_0x20ccd5<_0x419f79[_0x1071cc(0xf7)];_0x20ccd5++){var _0x2667f1=_0x419f79[_0x20ccd5],_0x2a6efa=_0xc86877+_0x2667f1['dx'],_0xfafe59=_0x161818+_0x2667f1['dy'],_0x3bddc0={'x1':_0x2667f1[_0x1071cc(0xc4)]==='end'?_0x2a6efa-_0x3a4ce3:_0x2667f1[_0x1071cc(0xc4)]===_0x1071cc(0x179)?_0x2a6efa-_0x3a4ce3/0x2:_0x2a6efa,'y1':_0x2667f1['dy']<0x0?_0xfafe59-_0x259928:_0xfafe59,'x2':_0x2667f1[_0x1071cc(0xc4)]===_0x1071cc(0xcc)?_0x2a6efa+_0x3a4ce3:_0x2667f1[_0x1071cc(0xc4)]==='middle'?_0x2a6efa+_0x3a4ce3/0x2:_0x2a6efa,'y2':_0x2667f1['dy']<0x0?_0xfafe59:_0xfafe59+_0x259928};if(_0x3bddc0['x1']<0x0||_0x3bddc0['x2']>_0x1db448||_0x3bddc0['y1']<0x0||_0x3bddc0['y2']>_0xe663de)continue;var _0x1edcba=![];for(var _0x25927b=0x0;_0x25927b<_0x3b89f4[_0x1071cc(0xf7)];_0x25927b++){var _0x15e2f=_0x3b89f4[_0x25927b];if(!(_0x3bddc0['x2']<_0x15e2f['x1']||_0x3bddc0['x1']>_0x15e2f['x2']||_0x3bddc0['y2']<_0x15e2f['y1']||_0x3bddc0['y1']>_0x15e2f['y2'])){_0x1edcba=!![];break;}}if(!_0x1edcba){_0x48f013=_0x2667f1;break;}}if(!_0x48f013){var _0x453c66=0x32,_0x4dff60=0x0;_0x3b89f4['forEach'](function(_0x44400d){var _0x5b71fc=_0x1071cc,_0x509e1b=(_0x44400d['x1']+_0x44400d['x2'])/0x2,_0x42b50b=(_0x44400d['y1']+_0x44400d['y2'])/0x2,_0x15391a=Math[_0x5b71fc(0x176)](Math['pow'](_0x509e1b-_0xc86877,0x2)+Math[_0x5b71fc(0x13d)](_0x42b50b-_0x161818,0x2));_0x15391a<_0x453c66&&_0x4dff60++;});if(_0x4dff60>0x3)return;}}if(!_0x48f013){_0x48f013=_0x419f79[0x0];var _0x2a6efa=_0xc86877+_0x48f013['dx'],_0xfafe59=_0x161818+_0x48f013['dy'],_0x3bddc0={'x1':_0x48f013['anchor']===_0x1071cc(0xd6)?_0x2a6efa-_0x3a4ce3:_0x48f013['anchor']===_0x1071cc(0x179)?_0x2a6efa-_0x3a4ce3/0x2:_0x2a6efa,'y1':_0x48f013['dy']<0x0?_0xfafe59-_0x259928:_0xfafe59,'x2':_0x48f013[_0x1071cc(0xc4)]===_0x1071cc(0xcc)?_0x2a6efa+_0x3a4ce3:_0x48f013[_0x1071cc(0xc4)]==='middle'?_0x2a6efa+_0x3a4ce3/0x2:_0x2a6efa,'y2':_0x48f013['dy']<0x0?_0xfafe59:_0xfafe59+_0x259928};if(_0x3bddc0['x1']<0x0)_0x48f013=_0x419f79[0x0];else _0x3bddc0['x2']>_0x1db448&&(_0x48f013=_0x419f79[0x1]);if(_0x3bddc0['y1']<0x0)_0x48f013=_0x419f79[0x3];else _0x3bddc0['y2']>_0xe663de&&(_0x48f013=_0x419f79[0x2]);}var _0x399d78=svg[_0x1071cc(0x148)]('text')['attr']('class','team-label\x20'+_0x171942)[_0x1071cc(0x14c)]('x',_0xc86877+_0x48f013['dx'])[_0x1071cc(0x14c)]('y',_0x161818+_0x48f013['dy'])[_0x1071cc(0x14c)](_0x1071cc(0x112),_0x48f013['anchor'])[_0x1071cc(0x14c)](_0x1071cc(0x160),_0x48f013['dy']<0x0?_0x1071cc(0xa1):_0x1071cc(0x17e))[_0x1071cc(0xf9)](_0x4becf9[0x1])[_0x1071cc(0xec)](_0x1071cc(0x16c),_0x1071cc(0xda))[_0x1071cc(0xec)]('font-size',_0x1071cc(0xd3))['style'](_0x1071cc(0x10d),_0x1071cc(0xbd))[_0x1071cc(0xec)](_0x1071cc(0xd5),'#333');_0x3dec63&&_0x399d78[_0x1071cc(0x170)]('search-match',!![]);var _0x58a5e8=_0x399d78[_0x1071cc(0xf4)]()['getBBox']();_0x3b89f4[_0x1071cc(0x109)]({'x1':_0x58a5e8['x']-0x2,'y1':_0x58a5e8['y']-0x2,'x2':_0x58a5e8['x']+_0x58a5e8[_0x1071cc(0xeb)]+0x2,'y2':_0x58a5e8['y']+_0x58a5e8[_0x1071cc(0xc7)]+0x2});}document[_0x1b3269(0x177)](_0x1b3269(0x11e),function(){var _0x1b641b=_0x1b3269;const _0x1b46ed=document[_0x1b641b(0x141)](_0x1b641b(0x159));_0x1b46ed[_0x1b641b(0x169)]=medianLinesVisible?_0x1b641b(0x11d):_0x1b641b(0xf2);});
    </script>
  <script>



        // Global translation helper function
        function getTranslation(key, defaultText) {
            // Split the key into parts (e.g., "tooltip.xg-line-title" -> ["tooltip", "xg-line-title"])
            const keys = key.split('.');
            
            // Try to find the translation in the current language
            try {
                let currentTranslations = window.currentTranslations || {};
                for (const k of keys) {
                    if (currentTranslations && currentTranslations[k]) {
                        currentTranslations = currentTranslations[k];
                    } else {
                        return defaultText;
                    }
                }
                return currentTranslations;
            } catch (e) {
                return defaultText;
            }
        }
        
    
   function setLanguage(language) {
    localStorage.setItem('preferredLanguage', language);
    const url = new URL(window.location.href);
    if (language === 'en') {
      url.searchParams.delete('lang');
      applyLanguage('xx');
    } else {
      url.searchParams.set('lang', language);
      applyLanguage(language);
    }
    window.history.pushState({}, '', url);
  }
  
  function getPreferredLanguage() {
    // PRIORITY 1: Check URL parameter first
    const urlParams = new URLSearchParams(window.location.search);
    const langParam = urlParams.get('lang');
    if (langParam) {
      return langParam;
    }
    // PRIORITY 2: Check localStorage
    const storedLang = localStorage.getItem('preferredLanguage');
    if (storedLang) {
      return storedLang;
    }
    // PRIORITY 3: Use browser language
    return getBrowserLanguage() || 'en';
  }

  function getBrowserLanguage() {
    return navigator.language.slice(0, 2);
  }

  function applyLanguage(language) {
    console.log(language);

    if (language === 'en') {
      return;
    }

    
    fetch(`locales/${language}.json`)
      .then(response => {
        // Don't throw an error, just return null if response is not OK
        return response.ok ? response.json() : null;
      })
      .then(translations => {
        // Only proceed if translations exist
        if (translations) {
            window.currentTranslations = translations;
          document.querySelectorAll('[data-i18n]').forEach(element => {
            const keys = element.getAttribute('data-i18n').split('.');
            let value = translations;
            for (const key of keys) {
              if (value === undefined || value === null) break;
              value = value[key];
            }
            if (value) {
              if (element.tagName === 'META') {
              element.setAttribute('content', value);
          } else if (element.tagName === 'INPUT') {
              element.setAttribute('placeholder', value);
          } else if (value.includes('<')) {
              element.innerHTML = value;
          } else {
              element.textContent = value;
          }          }
          });
          // REMOVE FOR PAGES WITH NO METADATA
          document.querySelector('meta[name="language"]').setAttribute('content', language);
        }
      })
      .catch(() => {
        // Completely empty catch block to silently ignore any errors
      });
  }
  
  const preferredLanguage = getPreferredLanguage();
  applyLanguage(preferredLanguage);
  
  // BUTTON LANGUAGE SWITCHER REMOVE FOR PAGES WITH NO LANGUAGE SWITCHER
  document.addEventListener('DOMContentLoaded', function() {
    const languageButton = document.getElementById('languageButton');
    const languageDropdown = document.getElementById('languageDropdown');
    

    if (languageButton) {
      languageButton.addEventListener('click', function(e) {
        e.stopPropagation();
        languageDropdown.classList.toggle('show');
      });
    }
  
    document.querySelectorAll('.language-option').forEach(option => {
      option.addEventListener('click', function(e) {
        e.preventDefault();
        const lang = this.getAttribute('href').split('=')[1];
        setLanguage(lang);
        languageDropdown.classList.remove('show');
      });
    });
  
    document.addEventListener('click', function(event) {
      if (!event.target.closest('.language-switcher-container')) {
        if (languageDropdown) {
          languageDropdown.classList.remove('show');
        }
      }
    });
  });


function toggleDarkMode() {
            const body = document.querySelector("body");
            body.classList.toggle("dark-mode");
            
            // Store the user's preference in local storage
            const isDarkMode = body.classList.contains("dark-mode");
            localStorage.setItem("darkMode", isDarkMode);
            
            // Update chart to apply dark mode styles to SVG elements
        }
        
        // Check if user has a stored preference for dark mode
        document.addEventListener('DOMContentLoaded', function() {
            const storedDarkMode = localStorage.getItem("darkMode");
            
            if (storedDarkMode === "true") {
                const body = document.querySelector("body");
                body.classList.add("dark-mode");
            }
            
 
        });
        
        function takeScreenshot() {
            const chartContainer = document.querySelector('.chart-container');
            const isDarkMode = document.body.classList.contains('dark-mode');
            
            html2canvas(chartContainer, {
                scale: 2, // Higher quality
                backgroundColor: isDarkMode ? '#2c2c2c' : '#FFFFFF',
                allowTaint: true,
                useCORS: true,
                logging: false
            }).then(function(renderedCanvas) {
                const finalCanvas = document.createElement('canvas');
                finalCanvas.width = renderedCanvas.width;
                finalCanvas.height = renderedCanvas.height;
                const finalCtx = finalCanvas.getContext('2d');
                finalCtx.drawImage(renderedCanvas, 0, 0);
                
                // Load the watermark
                const watermarkImg = new Image();
                watermarkImg.crossOrigin = "Anonymous";
                
                watermarkImg.onload = function() {
                    const watermarkWidth = finalCanvas.width * 0.3;
                    const watermarkHeight = (watermarkWidth / watermarkImg.width) * watermarkImg.height;
                    
                    const x = (finalCanvas.width - watermarkWidth) / 2;
                    const y = (finalCanvas.height - watermarkHeight) / 2;
                    
                    finalCtx.save();
                    finalCtx.globalAlpha = 0.04;
                    finalCtx.drawImage(watermarkImg, x, y, watermarkWidth, watermarkHeight);
                    finalCtx.restore();
                    
                    const dataURL = finalCanvas.toDataURL('image/png', 1.0);
                    const link = document.createElement('a');
                    link.download = 'DataMB Screenshot.png';
                    link.href = dataURL;
                    link.click();
                };
                watermarkImg.src = 'https://datamb.football/logo.png';
            }).catch(function(error) {
            });
        }
        
    </script>
         <center>
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7677714701428206"
                 crossorigin="anonymous"></script>
            <!-- radarplotsearch -->
            <ins class="adsbygoogle"
                 style="display:block"
                 data-ad-client="ca-pub-7677714701428206"
                 data-ad-slot="6673239737"
                 data-ad-format="auto"
                 data-full-width-responsive="true"></ins>
            <script>
                 (adsbygoogle = window.adsbygoogle || []).push({});
            </script></center>
</body>
</html>
